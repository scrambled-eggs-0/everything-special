(()=>{var __webpack_modules__={796:(g,n,I)=>{var e={"./arrow.png":[25,25],"./mouse.webp":[196,196]};function c(g){if(!I.o(e,g))return Promise.resolve().then((()=>{var n=new Error("Cannot find module '"+g+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=e[g],c=n[0];return I.e(n[1]).then((()=>I.t(c,17)))}c.keys=()=>Object.keys(e),c.id=796,g.exports=c},674:(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(354);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(314);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n___CSS_LOADER_EXPORT___.push([module.id, "@import url(https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap);"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/* <div class="menu">\r\n    <div class="titleIsland">\r\n        <div class="title">\r\n            Unnamed Dodging Game\r\n        </div>\r\n    <input type="text" class="nameInput" autocomplete="off" maxlength="16" placeholder="" autofocus></input>\r\n    </div>\r\n</div> */\r\n\r\n* {\r\n    box-sizing: border-box;\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\nbody {\r\n    background-color: rgb(5,5,5);\r\n    font-size: 16px;\r\n    overflow: hidden;\r\n    font-family: \'Inter\', sans-serif;\r\n}\r\n\r\n.menu {\r\n    background-color: rgb(5,5,5);\r\n    position: fixed;\r\n    text-align: center;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.nameInput {\r\n    outline: none;\r\n    margin: 5px;\r\n    height: 20px;\r\n    width: 200px;\r\n\r\n    box-shadow: 0px 0px 10px 2px white;\r\n    outline: none;\r\n    border: none;\r\n    color: white;\r\n    background: rgba(0,0,0,1);\r\n    padding: 5px;\r\n    font-size: 1.25rem;\r\n    position: relative;\r\n    width: 250px;\r\n    height: 30px;\r\n    top: 75px;\r\n}\r\n\r\n.title {\r\n    position: relative;\r\n    top: -50px;\r\n    font-size: 3.5rem;\r\n    text-shadow: 0px 0px 15px white;\r\n}\r\n\r\n.hidden {\r\n    display: none !important;\r\n}\r\n\r\n/*for comparing to eX and gamefeel. Not permanent*/\r\ncanvas, .gui {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    /* filter: saturate(75%);  */\r\n}\r\n\r\n.text-layer {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\twidth: 1600px;\r\n\theight: 900px;\r\n\tfilter: none !important;\r\n\tbackground: transparent;\r\n\toverflow: hidden;\r\n}\r\n\r\n.chatDiv {\r\n    z-index: 100;\r\n}\r\n\r\n.chat {\r\n    position: absolute;\r\n    left: 0px;\r\n    top: 250px;\r\n    width: 374px;\r\n    height: 30px;\r\n    transform-origin: center center;\r\n    border: none;\r\n    outline: none;\r\n    color: white;\r\n    font-size: 1rem;\r\n    padding: 5px;\r\n    caret-color: white;\r\n    /*background: rgba(129, 129, 129, 0.082);*/\r\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0));\r\n    font-family: \'Inter-Thick\', Inter;\r\n}\r\n\r\n.chat-message {\r\n    color: white;\r\n    font-size: 1.05rem;\r\n    background: transparent;\r\n    padding: 1px;\r\n\r\n    overflow-wrap: break-word;\r\n    width: 100%;\r\n}\r\n.system-message {\r\n    color: #c4c4c4;\r\n    font-size: 1rem;\r\n    background: transparent;\r\n    padding: 1px;\r\n    overflow-wrap: break-word; /*this doesnt work somehow*/\r\n    width: 100%;\r\n}\r\n\r\n.fade-out {\r\n    animation: fade-out 0.3s linear;\r\n}\r\n\r\n.fade-in {\r\n    animation: fade-in 0.3s linear;\r\n}\r\n\r\n@keyframes fade-out {\r\n    0% {\r\n        opacity: 1;\r\n    }\r\n    100% {\r\n        opacity: 0;\r\n    }\r\n}\r\n\r\n.peaceful {\r\n    color: #6cd95b;\r\n}\r\n.moderate {\r\n    color: #58ccb3;\r\n}\r\n.difficult {\r\n    color: #0a77bf;\r\n}\r\n.hardcore {\r\n    color: #3528e0;\r\n}\r\n.exhausting {\r\n    color: #8248d4;\r\n}\r\n.relentless {\r\n    color: #e32d8b;\r\n}\r\n@keyframes agonizingColor {\r\n    0% {\r\n        background-color: #ff0000;\r\n    }\r\n}\r\n.agonizing {\r\n    color: #ff5736;\r\n    animation-name: agonizingColor;\r\n    animation-duration: 3s;\r\n    animation-iteration-count: infinite;\r\n}\r\n@keyframes terrorizingColor {\r\n    0% {\r\n        background-color: #ff0000;\r\n    }\r\n}\r\n.terrorizing {\r\n    color: #fc3a3a;\r\n    animation-name: terrorizingColor;\r\n    animation-duration: 2s;\r\n    animation-iteration-count: infinite;\r\n}\r\n@keyframes cataclysmicColor {\r\n    0% {\r\n        background-color: #ff0000;\r\n    }\r\n}\r\n.cataclysmic {\r\n    color: #c95d5d;\r\n    animation-name: cataclysmicColor;\r\n    animation-duration: 1s;\r\n    animation-iteration-count: infinite;\r\n}\r\n\r\n.mention {\r\n    /*color: #a84040;*/\r\n    background-image: linear-gradient(\r\n        90deg,\r\n        rgba(255, 0, 0, 0.3),\r\n        rgba(255, 0, 0, 0)\r\n    );\r\n    animation-name: terrorizingColor;\r\n    animation-duration: 0.4s;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n.chat::placeholder {\r\n    color: white;\r\n    opacity: 1;\r\n}\r\n\r\n.leaderboard-div {\r\n    position: absolute;\r\n    left: calc(1600px - 299px);\r\n    transition: left 0.2s linear, opacity 0.2s linear;\r\n    opacity: 1;\r\n    top: -1px;\r\n    width: 300px;\r\n    height: 900px;\r\n    background: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.4));\r\n    display: flex;\r\n    justify-content: start;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    padding: 0px;\r\n    color: white;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n    user-select: none;\r\n    font-family: \'Inter-Thicke\', Inter;\r\n}\r\n\r\n.hide {\r\n    left: 1600px !important;\r\n    opacity: 0;\r\n}\r\n\r\n.leaderboard-div::-webkit-scrollbar {\r\n    width: 10px;\r\n    background-color: rgba(255, 255, 255, 0.1);\r\n    border-radius: 2px;\r\n}\r\n\r\n.leaderboard-div::-webkit-scrollbar-thumb {\r\n    background-color: rgba(255, 255, 255, 0.3);\r\n    border-radius: 2px;\r\n}\r\n\r\n.rainbow {\r\n    animation: colorRotate 4s linear 0s infinite;\r\n}\r\n\r\n@keyframes colorRotate {\r\n    0% {\r\n        color: hsl(180, 100%, 50%);\r\n    }\r\n    50% {\r\n        color: hsl(216, 100%, 50%);\r\n    }\r\n    100% {\r\n        color: hsl(180, 100%, 50%);\r\n    }\r\n}\r\n\r\n.guest {\r\n    opacity: 0.8;\r\n}\r\n\r\n.chat-div::-webkit-scrollbar {\r\n    width: 10px;\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n}\r\n\r\n.chat-div::-webkit-scrollbar-thumb {\r\n    background-color: rgba(0, 0, 0, 0.8);\r\n}\r\n\r\n.chat-div {\r\n    position: absolute;\r\n    left: -1px;\r\n    top: -1px;\r\n    width: 375px;\r\n    height: 251px;\r\n    filter: none !important;\r\n    background: rgba(141, 141, 141, 0.205);\r\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0));\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n    flex-direction: column;\r\n    overflow-y: auto;\r\n    padding: 2px;\r\n    overflow-x: hidden;\r\n    /* \tword-break: break-all; */\r\n    font-family: Inter-Thick, Inter;\r\n    /*\r\n    /*background-image: url(https://i1.sndcdn.com/artworks-Uii8SMJvNPxy8ePA-romBoQ-t500x500.jpg);*/\r\n    /*    opacity: 0.7; */\r\n}`, "",{"version":3,"sources":["webpack://./eXclient/style.css"],"names":[],"mappings":"AAAA;;;;;;;QAOQ;;AAIR;IACI,sBAAsB;IACtB,SAAS;IACT,UAAU;AACd;;AAEA;IACI,4BAA4B;IAC5B,eAAe;IACf,gBAAgB;IAChB,gCAAgC;AACpC;;AAEA;IACI,4BAA4B;IAC5B,eAAe;IACf,kBAAkB;IAClB,WAAW;IACX,YAAY;IACZ,aAAa;IACb,sBAAsB;IACtB,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,WAAW;IACX,YAAY;IACZ,YAAY;;IAEZ,kCAAkC;IAClC,aAAa;IACb,YAAY;IACZ,YAAY;IACZ,yBAAyB;IACzB,YAAY;IACZ,kBAAkB;IAClB,kBAAkB;IAClB,YAAY;IACZ,YAAY;IACZ,SAAS;AACb;;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,iBAAiB;IACjB,+BAA+B;AACnC;;AAEA;IACI,wBAAwB;AAC5B;;AAEA,kDAAkD;AAClD;IACI,kBAAkB;IAClB,OAAO;IACP,MAAM;IACN,4BAA4B;AAChC;;AAEA;CACC,kBAAkB;CAClB,OAAO;CACP,MAAM;CACN,aAAa;CACb,aAAa;CACb,uBAAuB;CACvB,uBAAuB;CACvB,gBAAgB;AACjB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,UAAU;IACV,YAAY;IACZ,YAAY;IACZ,+BAA+B;IAC/B,YAAY;IACZ,aAAa;IACb,YAAY;IACZ,eAAe;IACf,YAAY;IACZ,kBAAkB;IAClB,0CAA0C;IAC1C,2EAA2E;IAC3E,iCAAiC;AACrC;;AAEA;IACI,YAAY;IACZ,kBAAkB;IAClB,uBAAuB;IACvB,YAAY;;IAEZ,yBAAyB;IACzB,WAAW;AACf;AACA;IACI,cAAc;IACd,eAAe;IACf,uBAAuB;IACvB,YAAY;IACZ,yBAAyB,EAAE,2BAA2B;IACtD,WAAW;AACf;;AAEA;IACI,+BAA+B;AACnC;;AAEA;IACI,8BAA8B;AAClC;;AAEA;IACI;QACI,UAAU;IACd;IACA;QACI,UAAU;IACd;AACJ;;AAEA;IACI,cAAc;AAClB;AACA;IACI,cAAc;AAClB;AACA;IACI,cAAc;AAClB;AACA;IACI,cAAc;AAClB;AACA;IACI,cAAc;AAClB;AACA;IACI,cAAc;AAClB;AACA;IACI;QACI,yBAAyB;IAC7B;AACJ;AACA;IACI,cAAc;IACd,8BAA8B;IAC9B,sBAAsB;IACtB,mCAAmC;AACvC;AACA;IACI;QACI,yBAAyB;IAC7B;AACJ;AACA;IACI,cAAc;IACd,gCAAgC;IAChC,sBAAsB;IACtB,mCAAmC;AACvC;AACA;IACI;QACI,yBAAyB;IAC7B;AACJ;AACA;IACI,cAAc;IACd,gCAAgC;IAChC,sBAAsB;IACtB,mCAAmC;AACvC;;AAEA;IACI,kBAAkB;IAClB;;;;KAIC;IACD,gCAAgC;IAChC,wBAAwB;IACxB,4BAA4B;AAChC;;AAEA;IACI,YAAY;IACZ,UAAU;AACd;;AAEA;IACI,kBAAkB;IAClB,0BAA0B;IAC1B,iDAAiD;IACjD,UAAU;IACV,SAAS;IACT,YAAY;IACZ,aAAa;IACb,2EAA2E;IAC3E,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,sBAAsB;IACtB,YAAY;IACZ,YAAY;IACZ,gBAAgB;IAChB,kBAAkB;IAClB,iBAAiB;IACjB,kCAAkC;AACtC;;AAEA;IACI,uBAAuB;IACvB,UAAU;AACd;;AAEA;IACI,WAAW;IACX,0CAA0C;IAC1C,kBAAkB;AACtB;;AAEA;IACI,0CAA0C;IAC1C,kBAAkB;AACtB;;AAEA;IACI,4CAA4C;AAChD;;AAEA;IACI;QACI,0BAA0B;IAC9B;IACA;QACI,0BAA0B;IAC9B;IACA;QACI,0BAA0B;IAC9B;AACJ;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,WAAW;IACX,oCAAoC;AACxC;;AAEA;IACI,oCAAoC;AACxC;;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,SAAS;IACT,YAAY;IACZ,aAAa;IACb,uBAAuB;IACvB,sCAAsC;IACtC,2EAA2E;IAC3E,aAAa;IACb,2BAA2B;IAC3B,uBAAuB;IACvB,sBAAsB;IACtB,gBAAgB;IAChB,YAAY;IACZ,kBAAkB;IAClB,4BAA4B;IAC5B,+BAA+B;IAC/B;kGAC8F;IAC9F,qBAAqB;AACzB","sourcesContent":["/* <div class=\\"menu\\">\\r\\n    <div class=\\"titleIsland\\">\\r\\n        <div class=\\"title\\">\\r\\n            Unnamed Dodging Game\\r\\n        </div>\\r\\n    <input type=\\"text\\" class=\\"nameInput\\" autocomplete=\\"off\\" maxlength=\\"16\\" placeholder=\\"\\" autofocus></input>\\r\\n    </div>\\r\\n</div> */\\r\\n\\r\\n@import url(\'https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap\');\\r\\n\\r\\n* {\\r\\n    box-sizing: border-box;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\nbody {\\r\\n    background-color: rgb(5,5,5);\\r\\n    font-size: 16px;\\r\\n    overflow: hidden;\\r\\n    font-family: \'Inter\', sans-serif;\\r\\n}\\r\\n\\r\\n.menu {\\r\\n    background-color: rgb(5,5,5);\\r\\n    position: fixed;\\r\\n    text-align: center;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.nameInput {\\r\\n    outline: none;\\r\\n    margin: 5px;\\r\\n    height: 20px;\\r\\n    width: 200px;\\r\\n\\r\\n    box-shadow: 0px 0px 10px 2px white;\\r\\n    outline: none;\\r\\n    border: none;\\r\\n    color: white;\\r\\n    background: rgba(0,0,0,1);\\r\\n    padding: 5px;\\r\\n    font-size: 1.25rem;\\r\\n    position: relative;\\r\\n    width: 250px;\\r\\n    height: 30px;\\r\\n    top: 75px;\\r\\n}\\r\\n\\r\\n.title {\\r\\n    position: relative;\\r\\n    top: -50px;\\r\\n    font-size: 3.5rem;\\r\\n    text-shadow: 0px 0px 15px white;\\r\\n}\\r\\n\\r\\n.hidden {\\r\\n    display: none !important;\\r\\n}\\r\\n\\r\\n/*for comparing to eX and gamefeel. Not permanent*/\\r\\ncanvas, .gui {\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    top: 0;\\r\\n    /* filter: saturate(75%);  */\\r\\n}\\r\\n\\r\\n.text-layer {\\r\\n\\tposition: absolute;\\r\\n\\tleft: 0;\\r\\n\\ttop: 0;\\r\\n\\twidth: 1600px;\\r\\n\\theight: 900px;\\r\\n\\tfilter: none !important;\\r\\n\\tbackground: transparent;\\r\\n\\toverflow: hidden;\\r\\n}\\r\\n\\r\\n.chatDiv {\\r\\n    z-index: 100;\\r\\n}\\r\\n\\r\\n.chat {\\r\\n    position: absolute;\\r\\n    left: 0px;\\r\\n    top: 250px;\\r\\n    width: 374px;\\r\\n    height: 30px;\\r\\n    transform-origin: center center;\\r\\n    border: none;\\r\\n    outline: none;\\r\\n    color: white;\\r\\n    font-size: 1rem;\\r\\n    padding: 5px;\\r\\n    caret-color: white;\\r\\n    /*background: rgba(129, 129, 129, 0.082);*/\\r\\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0));\\r\\n    font-family: \'Inter-Thick\', Inter;\\r\\n}\\r\\n\\r\\n.chat-message {\\r\\n    color: white;\\r\\n    font-size: 1.05rem;\\r\\n    background: transparent;\\r\\n    padding: 1px;\\r\\n\\r\\n    overflow-wrap: break-word;\\r\\n    width: 100%;\\r\\n}\\r\\n.system-message {\\r\\n    color: #c4c4c4;\\r\\n    font-size: 1rem;\\r\\n    background: transparent;\\r\\n    padding: 1px;\\r\\n    overflow-wrap: break-word; /*this doesnt work somehow*/\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.fade-out {\\r\\n    animation: fade-out 0.3s linear;\\r\\n}\\r\\n\\r\\n.fade-in {\\r\\n    animation: fade-in 0.3s linear;\\r\\n}\\r\\n\\r\\n@keyframes fade-out {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n    }\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n    }\\r\\n}\\r\\n\\r\\n.peaceful {\\r\\n    color: #6cd95b;\\r\\n}\\r\\n.moderate {\\r\\n    color: #58ccb3;\\r\\n}\\r\\n.difficult {\\r\\n    color: #0a77bf;\\r\\n}\\r\\n.hardcore {\\r\\n    color: #3528e0;\\r\\n}\\r\\n.exhausting {\\r\\n    color: #8248d4;\\r\\n}\\r\\n.relentless {\\r\\n    color: #e32d8b;\\r\\n}\\r\\n@keyframes agonizingColor {\\r\\n    0% {\\r\\n        background-color: #ff0000;\\r\\n    }\\r\\n}\\r\\n.agonizing {\\r\\n    color: #ff5736;\\r\\n    animation-name: agonizingColor;\\r\\n    animation-duration: 3s;\\r\\n    animation-iteration-count: infinite;\\r\\n}\\r\\n@keyframes terrorizingColor {\\r\\n    0% {\\r\\n        background-color: #ff0000;\\r\\n    }\\r\\n}\\r\\n.terrorizing {\\r\\n    color: #fc3a3a;\\r\\n    animation-name: terrorizingColor;\\r\\n    animation-duration: 2s;\\r\\n    animation-iteration-count: infinite;\\r\\n}\\r\\n@keyframes cataclysmicColor {\\r\\n    0% {\\r\\n        background-color: #ff0000;\\r\\n    }\\r\\n}\\r\\n.cataclysmic {\\r\\n    color: #c95d5d;\\r\\n    animation-name: cataclysmicColor;\\r\\n    animation-duration: 1s;\\r\\n    animation-iteration-count: infinite;\\r\\n}\\r\\n\\r\\n.mention {\\r\\n    /*color: #a84040;*/\\r\\n    background-image: linear-gradient(\\r\\n        90deg,\\r\\n        rgba(255, 0, 0, 0.3),\\r\\n        rgba(255, 0, 0, 0)\\r\\n    );\\r\\n    animation-name: terrorizingColor;\\r\\n    animation-duration: 0.4s;\\r\\n    animation-iteration-count: 1;\\r\\n}\\r\\n\\r\\n.chat::placeholder {\\r\\n    color: white;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.leaderboard-div {\\r\\n    position: absolute;\\r\\n    left: calc(1600px - 299px);\\r\\n    transition: left 0.2s linear, opacity 0.2s linear;\\r\\n    opacity: 1;\\r\\n    top: -1px;\\r\\n    width: 300px;\\r\\n    height: 900px;\\r\\n    background: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.4));\\r\\n    display: flex;\\r\\n    justify-content: start;\\r\\n    align-items: center;\\r\\n    flex-direction: column;\\r\\n    padding: 0px;\\r\\n    color: white;\\r\\n    overflow-y: auto;\\r\\n    overflow-x: hidden;\\r\\n    user-select: none;\\r\\n    font-family: \'Inter-Thicke\', Inter;\\r\\n}\\r\\n\\r\\n.hide {\\r\\n    left: 1600px !important;\\r\\n    opacity: 0;\\r\\n}\\r\\n\\r\\n.leaderboard-div::-webkit-scrollbar {\\r\\n    width: 10px;\\r\\n    background-color: rgba(255, 255, 255, 0.1);\\r\\n    border-radius: 2px;\\r\\n}\\r\\n\\r\\n.leaderboard-div::-webkit-scrollbar-thumb {\\r\\n    background-color: rgba(255, 255, 255, 0.3);\\r\\n    border-radius: 2px;\\r\\n}\\r\\n\\r\\n.rainbow {\\r\\n    animation: colorRotate 4s linear 0s infinite;\\r\\n}\\r\\n\\r\\n@keyframes colorRotate {\\r\\n    0% {\\r\\n        color: hsl(180, 100%, 50%);\\r\\n    }\\r\\n    50% {\\r\\n        color: hsl(216, 100%, 50%);\\r\\n    }\\r\\n    100% {\\r\\n        color: hsl(180, 100%, 50%);\\r\\n    }\\r\\n}\\r\\n\\r\\n.guest {\\r\\n    opacity: 0.8;\\r\\n}\\r\\n\\r\\n.chat-div::-webkit-scrollbar {\\r\\n    width: 10px;\\r\\n    background-color: rgba(0, 0, 0, 0.4);\\r\\n}\\r\\n\\r\\n.chat-div::-webkit-scrollbar-thumb {\\r\\n    background-color: rgba(0, 0, 0, 0.8);\\r\\n}\\r\\n\\r\\n.chat-div {\\r\\n    position: absolute;\\r\\n    left: -1px;\\r\\n    top: -1px;\\r\\n    width: 375px;\\r\\n    height: 251px;\\r\\n    filter: none !important;\\r\\n    background: rgba(141, 141, 141, 0.205);\\r\\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0));\\r\\n    display: flex;\\r\\n    justify-content: flex-start;\\r\\n    align-items: flex-start;\\r\\n    flex-direction: column;\\r\\n    overflow-y: auto;\\r\\n    padding: 2px;\\r\\n    overflow-x: hidden;\\r\\n    /* \\tword-break: break-all; */\\r\\n    font-family: Inter-Thick, Inter;\\r\\n    /*\\r\\n    /*background-image: url(https://i1.sndcdn.com/artworks-Uii8SMJvNPxy8ePA-romBoQ-t500x500.jpg);*/\\r\\n    /*    opacity: 0.7; */\\r\\n}"],"sourceRoot":""}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjc0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb21uaXNlcnZlci8uL2VYY2xpZW50L3N0eWxlLmNzcz9lNDkyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIkBpbXBvcnQgdXJsKGh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9SW50ZXI6d2dodEAxMDAuLjkwMCZkaXNwbGF5PXN3YXApO1wiXSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC8qIDxkaXYgY2xhc3M9XCJtZW51XCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwidGl0bGVJc2xhbmRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidGl0bGVcIj5cclxuICAgICAgICAgICAgVW5uYW1lZCBEb2RnaW5nIEdhbWVcclxuICAgICAgICA8L2Rpdj5cclxuICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwibmFtZUlucHV0XCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgbWF4bGVuZ3RoPVwiMTZcIiBwbGFjZWhvbGRlcj1cIlwiIGF1dG9mb2N1cz48L2lucHV0PlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PiAqL1xyXG5cclxuKiB7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxufVxyXG5cclxuYm9keSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNSw1LDUpO1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIGZvbnQtZmFtaWx5OiAnSW50ZXInLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG4ubWVudSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNSw1LDUpO1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLm5hbWVJbnB1dCB7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgbWFyZ2luOiA1cHg7XHJcbiAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgICB3aWR0aDogMjAwcHg7XHJcblxyXG4gICAgYm94LXNoYWRvdzogMHB4IDBweCAxMHB4IDJweCB3aGl0ZTtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDEpO1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgZm9udC1zaXplOiAxLjI1cmVtO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgd2lkdGg6IDI1MHB4O1xyXG4gICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgdG9wOiA3NXB4O1xyXG59XHJcblxyXG4udGl0bGUge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgdG9wOiAtNTBweDtcclxuICAgIGZvbnQtc2l6ZTogMy41cmVtO1xyXG4gICAgdGV4dC1zaGFkb3c6IDBweCAwcHggMTVweCB3aGl0ZTtcclxufVxyXG5cclxuLmhpZGRlbiB7XHJcbiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi8qZm9yIGNvbXBhcmluZyB0byBlWCBhbmQgZ2FtZWZlZWwuIE5vdCBwZXJtYW5lbnQqL1xyXG5jYW52YXMsIC5ndWkge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHRvcDogMDtcclxuICAgIC8qIGZpbHRlcjogc2F0dXJhdGUoNzUlKTsgICovXHJcbn1cclxuXHJcbi50ZXh0LWxheWVyIHtcclxuXHRwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0bGVmdDogMDtcclxuXHR0b3A6IDA7XHJcblx0d2lkdGg6IDE2MDBweDtcclxuXHRoZWlnaHQ6IDkwMHB4O1xyXG5cdGZpbHRlcjogbm9uZSAhaW1wb3J0YW50O1xyXG5cdGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG5cdG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbi5jaGF0RGl2IHtcclxuICAgIHotaW5kZXg6IDEwMDtcclxufVxyXG5cclxuLmNoYXQge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogMHB4O1xyXG4gICAgdG9wOiAyNTBweDtcclxuICAgIHdpZHRoOiAzNzRweDtcclxuICAgIGhlaWdodDogMzBweDtcclxuICAgIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlciBjZW50ZXI7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgY2FyZXQtY29sb3I6IHdoaXRlO1xyXG4gICAgLypiYWNrZ3JvdW5kOiByZ2JhKDEyOSwgMTI5LCAxMjksIDAuMDgyKTsqL1xyXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCByZ2JhKDAsIDAsIDAsIDAuNCksIHJnYmEoMCwgMCwgMCwgMCkpO1xyXG4gICAgZm9udC1mYW1pbHk6ICdJbnRlci1UaGljaycsIEludGVyO1xyXG59XHJcblxyXG4uY2hhdC1tZXNzYWdlIHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtc2l6ZTogMS4wNXJlbTtcclxuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgcGFkZGluZzogMXB4O1xyXG5cclxuICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG4uc3lzdGVtLW1lc3NhZ2Uge1xyXG4gICAgY29sb3I6ICNjNGM0YzQ7XHJcbiAgICBmb250LXNpemU6IDFyZW07XHJcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgIHBhZGRpbmc6IDFweDtcclxuICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7IC8qdGhpcyBkb2VzbnQgd29yayBzb21laG93Ki9cclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uZmFkZS1vdXQge1xyXG4gICAgYW5pbWF0aW9uOiBmYWRlLW91dCAwLjNzIGxpbmVhcjtcclxufVxyXG5cclxuLmZhZGUtaW4ge1xyXG4gICAgYW5pbWF0aW9uOiBmYWRlLWluIDAuM3MgbGluZWFyO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIGZhZGUtb3V0IHtcclxuICAgIDAlIHtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgfVxyXG4gICAgMTAwJSB7XHJcbiAgICAgICAgb3BhY2l0eTogMDtcclxuICAgIH1cclxufVxyXG5cclxuLnBlYWNlZnVsIHtcclxuICAgIGNvbG9yOiAjNmNkOTViO1xyXG59XHJcbi5tb2RlcmF0ZSB7XHJcbiAgICBjb2xvcjogIzU4Y2NiMztcclxufVxyXG4uZGlmZmljdWx0IHtcclxuICAgIGNvbG9yOiAjMGE3N2JmO1xyXG59XHJcbi5oYXJkY29yZSB7XHJcbiAgICBjb2xvcjogIzM1MjhlMDtcclxufVxyXG4uZXhoYXVzdGluZyB7XHJcbiAgICBjb2xvcjogIzgyNDhkNDtcclxufVxyXG4ucmVsZW50bGVzcyB7XHJcbiAgICBjb2xvcjogI2UzMmQ4YjtcclxufVxyXG5Aa2V5ZnJhbWVzIGFnb25pemluZ0NvbG9yIHtcclxuICAgIDAlIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmYwMDAwO1xyXG4gICAgfVxyXG59XHJcbi5hZ29uaXppbmcge1xyXG4gICAgY29sb3I6ICNmZjU3MzY7XHJcbiAgICBhbmltYXRpb24tbmFtZTogYWdvbml6aW5nQ29sb3I7XHJcbiAgICBhbmltYXRpb24tZHVyYXRpb246IDNzO1xyXG4gICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogaW5maW5pdGU7XHJcbn1cclxuQGtleWZyYW1lcyB0ZXJyb3JpemluZ0NvbG9yIHtcclxuICAgIDAlIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmYwMDAwO1xyXG4gICAgfVxyXG59XHJcbi50ZXJyb3JpemluZyB7XHJcbiAgICBjb2xvcjogI2ZjM2EzYTtcclxuICAgIGFuaW1hdGlvbi1uYW1lOiB0ZXJyb3JpemluZ0NvbG9yO1xyXG4gICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAycztcclxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlO1xyXG59XHJcbkBrZXlmcmFtZXMgY2F0YWNseXNtaWNDb2xvciB7XHJcbiAgICAwJSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmMDAwMDtcclxuICAgIH1cclxufVxyXG4uY2F0YWNseXNtaWMge1xyXG4gICAgY29sb3I6ICNjOTVkNWQ7XHJcbiAgICBhbmltYXRpb24tbmFtZTogY2F0YWNseXNtaWNDb2xvcjtcclxuICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogMXM7XHJcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiBpbmZpbml0ZTtcclxufVxyXG5cclxuLm1lbnRpb24ge1xyXG4gICAgLypjb2xvcjogI2E4NDA0MDsqL1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KFxyXG4gICAgICAgIDkwZGVnLFxyXG4gICAgICAgIHJnYmEoMjU1LCAwLCAwLCAwLjMpLFxyXG4gICAgICAgIHJnYmEoMjU1LCAwLCAwLCAwKVxyXG4gICAgKTtcclxuICAgIGFuaW1hdGlvbi1uYW1lOiB0ZXJyb3JpemluZ0NvbG9yO1xyXG4gICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAwLjRzO1xyXG4gICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMTtcclxufVxyXG5cclxuLmNoYXQ6OnBsYWNlaG9sZGVyIHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIG9wYWNpdHk6IDE7XHJcbn1cclxuXHJcbi5sZWFkZXJib2FyZC1kaXYge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogY2FsYygxNjAwcHggLSAyOTlweCk7XHJcbiAgICB0cmFuc2l0aW9uOiBsZWZ0IDAuMnMgbGluZWFyLCBvcGFjaXR5IDAuMnMgbGluZWFyO1xyXG4gICAgb3BhY2l0eTogMTtcclxuICAgIHRvcDogLTFweDtcclxuICAgIHdpZHRoOiAzMDBweDtcclxuICAgIGhlaWdodDogOTAwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJnYmEoMCwgMCwgMCwgMCksIHJnYmEoMCwgMCwgMCwgMC40KSk7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzdGFydDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgcGFkZGluZzogMHB4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgb3ZlcmZsb3cteTogYXV0bztcclxuICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcclxuICAgIHVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgZm9udC1mYW1pbHk6ICdJbnRlci1UaGlja2UnLCBJbnRlcjtcclxufVxyXG5cclxuLmhpZGUge1xyXG4gICAgbGVmdDogMTYwMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG59XHJcblxyXG4ubGVhZGVyYm9hcmQtZGl2Ojotd2Via2l0LXNjcm9sbGJhciB7XHJcbiAgICB3aWR0aDogMTBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxufVxyXG5cclxuLmxlYWRlcmJvYXJkLWRpdjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG59XHJcblxyXG4ucmFpbmJvdyB7XHJcbiAgICBhbmltYXRpb246IGNvbG9yUm90YXRlIDRzIGxpbmVhciAwcyBpbmZpbml0ZTtcclxufVxyXG5cclxuQGtleWZyYW1lcyBjb2xvclJvdGF0ZSB7XHJcbiAgICAwJSB7XHJcbiAgICAgICAgY29sb3I6IGhzbCgxODAsIDEwMCUsIDUwJSk7XHJcbiAgICB9XHJcbiAgICA1MCUge1xyXG4gICAgICAgIGNvbG9yOiBoc2woMjE2LCAxMDAlLCA1MCUpO1xyXG4gICAgfVxyXG4gICAgMTAwJSB7XHJcbiAgICAgICAgY29sb3I6IGhzbCgxODAsIDEwMCUsIDUwJSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi5ndWVzdCB7XHJcbiAgICBvcGFjaXR5OiAwLjg7XHJcbn1cclxuXHJcbi5jaGF0LWRpdjo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gICAgd2lkdGg6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNCk7XHJcbn1cclxuXHJcbi5jaGF0LWRpdjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjgpO1xyXG59XHJcblxyXG4uY2hhdC1kaXYge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogLTFweDtcclxuICAgIHRvcDogLTFweDtcclxuICAgIHdpZHRoOiAzNzVweDtcclxuICAgIGhlaWdodDogMjUxcHg7XHJcbiAgICBmaWx0ZXI6IG5vbmUgIWltcG9ydGFudDtcclxuICAgIGJhY2tncm91bmQ6IHJnYmEoMTQxLCAxNDEsIDE0MSwgMC4yMDUpO1xyXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCByZ2JhKDAsIDAsIDAsIDAuNCksIHJnYmEoMCwgMCwgMCwgMCkpO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcclxuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgICBwYWRkaW5nOiAycHg7XHJcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47XHJcbiAgICAvKiBcdHdvcmQtYnJlYWs6IGJyZWFrLWFsbDsgKi9cclxuICAgIGZvbnQtZmFtaWx5OiBJbnRlci1UaGljaywgSW50ZXI7XHJcbiAgICAvKlxyXG4gICAgLypiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cHM6Ly9pMS5zbmRjZG4uY29tL2FydHdvcmtzLVVpaThTTUp2TlB4eThlUEEtcm9tQm9RLXQ1MDB4NTAwLmpwZyk7Ki9cclxuICAgIC8qICAgIG9wYWNpdHk6IDAuNzsgKi9cclxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vZVhjbGllbnQvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBOzs7Ozs7O1FBT1E7O0FBSVI7SUFDSSxzQkFBc0I7SUFDdEIsU0FBUztJQUNULFVBQVU7QUFDZDs7QUFFQTtJQUNJLDRCQUE0QjtJQUM1QixlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLGdDQUFnQztBQUNwQzs7QUFFQTtJQUNJLDRCQUE0QjtJQUM1QixlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxZQUFZO0lBQ1osYUFBYTtJQUNiLHNCQUFzQjtJQUN0Qix1QkFBdUI7SUFDdkIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLFdBQVc7SUFDWCxZQUFZO0lBQ1osWUFBWTs7SUFFWixrQ0FBa0M7SUFDbEMsYUFBYTtJQUNiLFlBQVk7SUFDWixZQUFZO0lBQ1oseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixZQUFZO0lBQ1osU0FBUztBQUNiOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixpQkFBaUI7SUFDakIsK0JBQStCO0FBQ25DOztBQUVBO0lBQ0ksd0JBQXdCO0FBQzVCOztBQUVBLGtEQUFrRDtBQUNsRDtJQUNJLGtCQUFrQjtJQUNsQixPQUFPO0lBQ1AsTUFBTTtJQUNOLDRCQUE0QjtBQUNoQzs7QUFFQTtDQUNDLGtCQUFrQjtDQUNsQixPQUFPO0NBQ1AsTUFBTTtDQUNOLGFBQWE7Q0FDYixhQUFhO0NBQ2IsdUJBQXVCO0NBQ3ZCLHVCQUF1QjtDQUN2QixnQkFBZ0I7QUFDakI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxVQUFVO0lBQ1YsWUFBWTtJQUNaLFlBQVk7SUFDWiwrQkFBK0I7SUFDL0IsWUFBWTtJQUNaLGFBQWE7SUFDYixZQUFZO0lBQ1osZUFBZTtJQUNmLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsMENBQTBDO0lBQzFDLDJFQUEyRTtJQUMzRSxpQ0FBaUM7QUFDckM7O0FBRUE7SUFDSSxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLHVCQUF1QjtJQUN2QixZQUFZOztJQUVaLHlCQUF5QjtJQUN6QixXQUFXO0FBQ2Y7QUFDQTtJQUNJLGNBQWM7SUFDZCxlQUFlO0lBQ2YsdUJBQXVCO0lBQ3ZCLFlBQVk7SUFDWix5QkFBeUIsRUFBRSwyQkFBMkI7SUFDdEQsV0FBVztBQUNmOztBQUVBO0lBQ0ksK0JBQStCO0FBQ25DOztBQUVBO0lBQ0ksOEJBQThCO0FBQ2xDOztBQUVBO0lBQ0k7UUFDSSxVQUFVO0lBQ2Q7SUFDQTtRQUNJLFVBQVU7SUFDZDtBQUNKOztBQUVBO0lBQ0ksY0FBYztBQUNsQjtBQUNBO0lBQ0ksY0FBYztBQUNsQjtBQUNBO0lBQ0ksY0FBYztBQUNsQjtBQUNBO0lBQ0ksY0FBYztBQUNsQjtBQUNBO0lBQ0ksY0FBYztBQUNsQjtBQUNBO0lBQ0ksY0FBYztBQUNsQjtBQUNBO0lBQ0k7UUFDSSx5QkFBeUI7SUFDN0I7QUFDSjtBQUNBO0lBQ0ksY0FBYztJQUNkLDhCQUE4QjtJQUM5QixzQkFBc0I7SUFDdEIsbUNBQW1DO0FBQ3ZDO0FBQ0E7SUFDSTtRQUNJLHlCQUF5QjtJQUM3QjtBQUNKO0FBQ0E7SUFDSSxjQUFjO0lBQ2QsZ0NBQWdDO0lBQ2hDLHNCQUFzQjtJQUN0QixtQ0FBbUM7QUFDdkM7QUFDQTtJQUNJO1FBQ0kseUJBQXlCO0lBQzdCO0FBQ0o7QUFDQTtJQUNJLGNBQWM7SUFDZCxnQ0FBZ0M7SUFDaEMsc0JBQXNCO0lBQ3RCLG1DQUFtQztBQUN2Qzs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQjs7OztLQUlDO0lBQ0QsZ0NBQWdDO0lBQ2hDLHdCQUF3QjtJQUN4Qiw0QkFBNEI7QUFDaEM7O0FBRUE7SUFDSSxZQUFZO0lBQ1osVUFBVTtBQUNkOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLDBCQUEwQjtJQUMxQixpREFBaUQ7SUFDakQsVUFBVTtJQUNWLFNBQVM7SUFDVCxZQUFZO0lBQ1osYUFBYTtJQUNiLDJFQUEyRTtJQUMzRSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG1CQUFtQjtJQUNuQixzQkFBc0I7SUFDdEIsWUFBWTtJQUNaLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixrQ0FBa0M7QUFDdEM7O0FBRUE7SUFDSSx1QkFBdUI7SUFDdkIsVUFBVTtBQUNkOztBQUVBO0lBQ0ksV0FBVztJQUNYLDBDQUEwQztJQUMxQyxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSwwQ0FBMEM7SUFDMUMsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksNENBQTRDO0FBQ2hEOztBQUVBO0lBQ0k7UUFDSSwwQkFBMEI7SUFDOUI7SUFDQTtRQUNJLDBCQUEwQjtJQUM5QjtJQUNBO1FBQ0ksMEJBQTBCO0lBQzlCO0FBQ0o7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksV0FBVztJQUNYLG9DQUFvQztBQUN4Qzs7QUFFQTtJQUNJLG9DQUFvQztBQUN4Qzs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsU0FBUztJQUNULFlBQVk7SUFDWixhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLHNDQUFzQztJQUN0QywyRUFBMkU7SUFDM0UsYUFBYTtJQUNiLDJCQUEyQjtJQUMzQix1QkFBdUI7SUFDdkIsc0JBQXNCO0lBQ3RCLGdCQUFnQjtJQUNoQixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLDRCQUE0QjtJQUM1QiwrQkFBK0I7SUFDL0I7a0dBQzhGO0lBQzlGLHFCQUFxQjtBQUN6QlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIvKiA8ZGl2IGNsYXNzPVxcXCJtZW51XFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGl0bGVJc2xhbmRcXFwiPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGl0bGVcXFwiPlxcclxcbiAgICAgICAgICAgIFVubmFtZWQgRG9kZ2luZyBHYW1lXFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJuYW1lSW5wdXRcXFwiIGF1dG9jb21wbGV0ZT1cXFwib2ZmXFxcIiBtYXhsZW5ndGg9XFxcIjE2XFxcIiBwbGFjZWhvbGRlcj1cXFwiXFxcIiBhdXRvZm9jdXM+PC9pbnB1dD5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+ICovXFxyXFxuXFxyXFxuQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9SW50ZXI6d2dodEAxMDAuLjkwMCZkaXNwbGF5PXN3YXAnKTtcXHJcXG5cXHJcXG4qIHtcXHJcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG4gICAgbWFyZ2luOiAwO1xcclxcbiAgICBwYWRkaW5nOiAwO1xcclxcbn1cXHJcXG5cXHJcXG5ib2R5IHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDUsNSw1KTtcXHJcXG4gICAgZm9udC1zaXplOiAxNnB4O1xcclxcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcclxcbiAgICBmb250LWZhbWlseTogJ0ludGVyJywgc2Fucy1zZXJpZjtcXHJcXG59XFxyXFxuXFxyXFxuLm1lbnUge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNSw1LDUpO1xcclxcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5uYW1lSW5wdXQge1xcclxcbiAgICBvdXRsaW5lOiBub25lO1xcclxcbiAgICBtYXJnaW46IDVweDtcXHJcXG4gICAgaGVpZ2h0OiAyMHB4O1xcclxcbiAgICB3aWR0aDogMjAwcHg7XFxyXFxuXFxyXFxuICAgIGJveC1zaGFkb3c6IDBweCAwcHggMTBweCAycHggd2hpdGU7XFxyXFxuICAgIG91dGxpbmU6IG5vbmU7XFxyXFxuICAgIGJvcmRlcjogbm9uZTtcXHJcXG4gICAgY29sb3I6IHdoaXRlO1xcclxcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDEpO1xcclxcbiAgICBwYWRkaW5nOiA1cHg7XFxyXFxuICAgIGZvbnQtc2l6ZTogMS4yNXJlbTtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICB3aWR0aDogMjUwcHg7XFxyXFxuICAgIGhlaWdodDogMzBweDtcXHJcXG4gICAgdG9wOiA3NXB4O1xcclxcbn1cXHJcXG5cXHJcXG4udGl0bGUge1xcclxcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxuICAgIHRvcDogLTUwcHg7XFxyXFxuICAgIGZvbnQtc2l6ZTogMy41cmVtO1xcclxcbiAgICB0ZXh0LXNoYWRvdzogMHB4IDBweCAxNXB4IHdoaXRlO1xcclxcbn1cXHJcXG5cXHJcXG4uaGlkZGVuIHtcXHJcXG4gICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xcclxcbn1cXHJcXG5cXHJcXG4vKmZvciBjb21wYXJpbmcgdG8gZVggYW5kIGdhbWVmZWVsLiBOb3QgcGVybWFuZW50Ki9cXHJcXG5jYW52YXMsIC5ndWkge1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIGxlZnQ6IDA7XFxyXFxuICAgIHRvcDogMDtcXHJcXG4gICAgLyogZmlsdGVyOiBzYXR1cmF0ZSg3NSUpOyAgKi9cXHJcXG59XFxyXFxuXFxyXFxuLnRleHQtbGF5ZXIge1xcclxcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG5cXHRsZWZ0OiAwO1xcclxcblxcdHRvcDogMDtcXHJcXG5cXHR3aWR0aDogMTYwMHB4O1xcclxcblxcdGhlaWdodDogOTAwcHg7XFxyXFxuXFx0ZmlsdGVyOiBub25lICFpbXBvcnRhbnQ7XFxyXFxuXFx0YmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XFxyXFxuXFx0b3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG59XFxyXFxuXFxyXFxuLmNoYXREaXYge1xcclxcbiAgICB6LWluZGV4OiAxMDA7XFxyXFxufVxcclxcblxcclxcbi5jaGF0IHtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICBsZWZ0OiAwcHg7XFxyXFxuICAgIHRvcDogMjUwcHg7XFxyXFxuICAgIHdpZHRoOiAzNzRweDtcXHJcXG4gICAgaGVpZ2h0OiAzMHB4O1xcclxcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXIgY2VudGVyO1xcclxcbiAgICBib3JkZXI6IG5vbmU7XFxyXFxuICAgIG91dGxpbmU6IG5vbmU7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG4gICAgZm9udC1zaXplOiAxcmVtO1xcclxcbiAgICBwYWRkaW5nOiA1cHg7XFxyXFxuICAgIGNhcmV0LWNvbG9yOiB3aGl0ZTtcXHJcXG4gICAgLypiYWNrZ3JvdW5kOiByZ2JhKDEyOSwgMTI5LCAxMjksIDAuMDgyKTsqL1xcclxcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJnYmEoMCwgMCwgMCwgMC40KSwgcmdiYSgwLCAwLCAwLCAwKSk7XFxyXFxuICAgIGZvbnQtZmFtaWx5OiAnSW50ZXItVGhpY2snLCBJbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLmNoYXQtbWVzc2FnZSB7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG4gICAgZm9udC1zaXplOiAxLjA1cmVtO1xcclxcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXHJcXG4gICAgcGFkZGluZzogMXB4O1xcclxcblxcclxcbiAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuLnN5c3RlbS1tZXNzYWdlIHtcXHJcXG4gICAgY29sb3I6ICNjNGM0YzQ7XFxyXFxuICAgIGZvbnQtc2l6ZTogMXJlbTtcXHJcXG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XFxyXFxuICAgIHBhZGRpbmc6IDFweDtcXHJcXG4gICAgb3ZlcmZsb3ctd3JhcDogYnJlYWstd29yZDsgLyp0aGlzIGRvZXNudCB3b3JrIHNvbWVob3cqL1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuLmZhZGUtb3V0IHtcXHJcXG4gICAgYW5pbWF0aW9uOiBmYWRlLW91dCAwLjNzIGxpbmVhcjtcXHJcXG59XFxyXFxuXFxyXFxuLmZhZGUtaW4ge1xcclxcbiAgICBhbmltYXRpb246IGZhZGUtaW4gMC4zcyBsaW5lYXI7XFxyXFxufVxcclxcblxcclxcbkBrZXlmcmFtZXMgZmFkZS1vdXQge1xcclxcbiAgICAwJSB7XFxyXFxuICAgICAgICBvcGFjaXR5OiAxO1xcclxcbiAgICB9XFxyXFxuICAgIDEwMCUge1xcclxcbiAgICAgICAgb3BhY2l0eTogMDtcXHJcXG4gICAgfVxcclxcbn1cXHJcXG5cXHJcXG4ucGVhY2VmdWwge1xcclxcbiAgICBjb2xvcjogIzZjZDk1YjtcXHJcXG59XFxyXFxuLm1vZGVyYXRlIHtcXHJcXG4gICAgY29sb3I6ICM1OGNjYjM7XFxyXFxufVxcclxcbi5kaWZmaWN1bHQge1xcclxcbiAgICBjb2xvcjogIzBhNzdiZjtcXHJcXG59XFxyXFxuLmhhcmRjb3JlIHtcXHJcXG4gICAgY29sb3I6ICMzNTI4ZTA7XFxyXFxufVxcclxcbi5leGhhdXN0aW5nIHtcXHJcXG4gICAgY29sb3I6ICM4MjQ4ZDQ7XFxyXFxufVxcclxcbi5yZWxlbnRsZXNzIHtcXHJcXG4gICAgY29sb3I6ICNlMzJkOGI7XFxyXFxufVxcclxcbkBrZXlmcmFtZXMgYWdvbml6aW5nQ29sb3Ige1xcclxcbiAgICAwJSB7XFxyXFxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmYwMDAwO1xcclxcbiAgICB9XFxyXFxufVxcclxcbi5hZ29uaXppbmcge1xcclxcbiAgICBjb2xvcjogI2ZmNTczNjtcXHJcXG4gICAgYW5pbWF0aW9uLW5hbWU6IGFnb25pemluZ0NvbG9yO1xcclxcbiAgICBhbmltYXRpb24tZHVyYXRpb246IDNzO1xcclxcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiBpbmZpbml0ZTtcXHJcXG59XFxyXFxuQGtleWZyYW1lcyB0ZXJyb3JpemluZ0NvbG9yIHtcXHJcXG4gICAgMCUge1xcclxcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmMDAwMDtcXHJcXG4gICAgfVxcclxcbn1cXHJcXG4udGVycm9yaXppbmcge1xcclxcbiAgICBjb2xvcjogI2ZjM2EzYTtcXHJcXG4gICAgYW5pbWF0aW9uLW5hbWU6IHRlcnJvcml6aW5nQ29sb3I7XFxyXFxuICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogMnM7XFxyXFxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlO1xcclxcbn1cXHJcXG5Aa2V5ZnJhbWVzIGNhdGFjbHlzbWljQ29sb3Ige1xcclxcbiAgICAwJSB7XFxyXFxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmYwMDAwO1xcclxcbiAgICB9XFxyXFxufVxcclxcbi5jYXRhY2x5c21pYyB7XFxyXFxuICAgIGNvbG9yOiAjYzk1ZDVkO1xcclxcbiAgICBhbmltYXRpb24tbmFtZTogY2F0YWNseXNtaWNDb2xvcjtcXHJcXG4gICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAxcztcXHJcXG4gICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogaW5maW5pdGU7XFxyXFxufVxcclxcblxcclxcbi5tZW50aW9uIHtcXHJcXG4gICAgLypjb2xvcjogI2E4NDA0MDsqL1xcclxcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoXFxyXFxuICAgICAgICA5MGRlZyxcXHJcXG4gICAgICAgIHJnYmEoMjU1LCAwLCAwLCAwLjMpLFxcclxcbiAgICAgICAgcmdiYSgyNTUsIDAsIDAsIDApXFxyXFxuICAgICk7XFxyXFxuICAgIGFuaW1hdGlvbi1uYW1lOiB0ZXJyb3JpemluZ0NvbG9yO1xcclxcbiAgICBhbmltYXRpb24tZHVyYXRpb246IDAuNHM7XFxyXFxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XFxyXFxufVxcclxcblxcclxcbi5jaGF0OjpwbGFjZWhvbGRlciB7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG4gICAgb3BhY2l0eTogMTtcXHJcXG59XFxyXFxuXFxyXFxuLmxlYWRlcmJvYXJkLWRpdiB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgbGVmdDogY2FsYygxNjAwcHggLSAyOTlweCk7XFxyXFxuICAgIHRyYW5zaXRpb246IGxlZnQgMC4ycyBsaW5lYXIsIG9wYWNpdHkgMC4ycyBsaW5lYXI7XFxyXFxuICAgIG9wYWNpdHk6IDE7XFxyXFxuICAgIHRvcDogLTFweDtcXHJcXG4gICAgd2lkdGg6IDMwMHB4O1xcclxcbiAgICBoZWlnaHQ6IDkwMHB4O1xcclxcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJnYmEoMCwgMCwgMCwgMCksIHJnYmEoMCwgMCwgMCwgMC40KSk7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogc3RhcnQ7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICAgIHBhZGRpbmc6IDBweDtcXHJcXG4gICAgY29sb3I6IHdoaXRlO1xcclxcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xcclxcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47XFxyXFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgICBmb250LWZhbWlseTogJ0ludGVyLVRoaWNrZScsIEludGVyO1xcclxcbn1cXHJcXG5cXHJcXG4uaGlkZSB7XFxyXFxuICAgIGxlZnQ6IDE2MDBweCAhaW1wb3J0YW50O1xcclxcbiAgICBvcGFjaXR5OiAwO1xcclxcbn1cXHJcXG5cXHJcXG4ubGVhZGVyYm9hcmQtZGl2Ojotd2Via2l0LXNjcm9sbGJhciB7XFxyXFxuICAgIHdpZHRoOiAxMHB4O1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcXHJcXG59XFxyXFxuXFxyXFxuLmxlYWRlcmJvYXJkLWRpdjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyk7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcXHJcXG59XFxyXFxuXFxyXFxuLnJhaW5ib3cge1xcclxcbiAgICBhbmltYXRpb246IGNvbG9yUm90YXRlIDRzIGxpbmVhciAwcyBpbmZpbml0ZTtcXHJcXG59XFxyXFxuXFxyXFxuQGtleWZyYW1lcyBjb2xvclJvdGF0ZSB7XFxyXFxuICAgIDAlIHtcXHJcXG4gICAgICAgIGNvbG9yOiBoc2woMTgwLCAxMDAlLCA1MCUpO1xcclxcbiAgICB9XFxyXFxuICAgIDUwJSB7XFxyXFxuICAgICAgICBjb2xvcjogaHNsKDIxNiwgMTAwJSwgNTAlKTtcXHJcXG4gICAgfVxcclxcbiAgICAxMDAlIHtcXHJcXG4gICAgICAgIGNvbG9yOiBoc2woMTgwLCAxMDAlLCA1MCUpO1xcclxcbiAgICB9XFxyXFxufVxcclxcblxcclxcbi5ndWVzdCB7XFxyXFxuICAgIG9wYWNpdHk6IDAuODtcXHJcXG59XFxyXFxuXFxyXFxuLmNoYXQtZGl2Ojotd2Via2l0LXNjcm9sbGJhciB7XFxyXFxuICAgIHdpZHRoOiAxMHB4O1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNCk7XFxyXFxufVxcclxcblxcclxcbi5jaGF0LWRpdjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuOCk7XFxyXFxufVxcclxcblxcclxcbi5jaGF0LWRpdiB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgbGVmdDogLTFweDtcXHJcXG4gICAgdG9wOiAtMXB4O1xcclxcbiAgICB3aWR0aDogMzc1cHg7XFxyXFxuICAgIGhlaWdodDogMjUxcHg7XFxyXFxuICAgIGZpbHRlcjogbm9uZSAhaW1wb3J0YW50O1xcclxcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDE0MSwgMTQxLCAxNDEsIDAuMjA1KTtcXHJcXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCByZ2JhKDAsIDAsIDAsIDAuNCksIHJnYmEoMCwgMCwgMCwgMCkpO1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xcclxcbiAgICBwYWRkaW5nOiAycHg7XFxyXFxuICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcXHJcXG4gICAgLyogXFx0d29yZC1icmVhazogYnJlYWstYWxsOyAqL1xcclxcbiAgICBmb250LWZhbWlseTogSW50ZXItVGhpY2ssIEludGVyO1xcclxcbiAgICAvKlxcclxcbiAgICAvKmJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwczovL2kxLnNuZGNkbi5jb20vYXJ0d29ya3MtVWlpOFNNSnZOUHh5OGVQQS1yb21Cb1EtdDUwMHg1MDAuanBnKTsqL1xcclxcbiAgICAvKiAgICBvcGFjaXR5OiAwLjc7ICovXFxyXFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///674\n')},314:module=>{"use strict";eval('\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = "";\n      var needLayer = typeof item[5] !== "undefined";\n      if (item[4]) {\n        content += "@supports (".concat(item[4], ") {");\n      }\n      if (item[2]) {\n        content += "@media ".concat(item[2], " {");\n      }\n      if (needLayer) {\n        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += "}";\n      }\n      if (item[2]) {\n        content += "}";\n      }\n      if (item[4]) {\n        content += "}";\n      }\n      return content;\n    }).join("");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === "string") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== "undefined") {\n        if (typeof item[5] === "undefined") {\n          item[5] = layer;\n        } else {\n          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = "".concat(supports);\n        } else {\n          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzE0LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb21uaXNlcnZlci8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanM/MjRmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTtcblxuICAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTtcblxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGxpc3Q7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///314\n')},354:module=>{"use strict";eval('\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === "function") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);\n    var sourceMapping = "/*# ".concat(data, " */");\n    return [content].concat([sourceMapping]).join("\\n");\n  }\n  return [content].join("\\n");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzU0LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb21uaXNlcnZlci8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzP2FmMTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///354\n')},72:module=>{"use strict";eval('\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = "".concat(id, " ").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzIuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb21uaXNlcnZlci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcz8yZGJhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///72\n')},659:module=>{"use strict";eval('\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === "undefined") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error("Couldn\'t find a style target. This probably means that the value for the \'insert\' parameter is invalid.");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjU5LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb21uaXNlcnZlci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanM/YjIxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///659\n')},540:module=>{"use strict";eval('\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement("style");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTQwLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb21uaXNlcnZlci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcz9kZTZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///540\n')},56:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n  if (nonce) {\n    styleElement.setAttribute("nonce", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTYuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vbW5pc2VydmVyLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzP2RkY2UiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///56\n')},825:module=>{"use strict";eval('\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = "";\n  if (obj.supports) {\n    css += "@supports (".concat(obj.supports, ") {");\n  }\n  if (obj.media) {\n    css += "@media ".concat(obj.media, " {");\n  }\n  var needLayer = typeof obj.layer !== "undefined";\n  if (needLayer) {\n    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += "}";\n  }\n  if (obj.media) {\n    css += "}";\n  }\n  if (obj.supports) {\n    css += "}";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== "undefined") {\n    css += "\\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === "undefined") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODI1LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb21uaXNlcnZlci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzP2U0NzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///825\n')},113:module=>{"use strict";eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vbW5pc2VydmVyLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanM/MWRkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///113\n")},76:(__unused_webpack___webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval("\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\nvar injectStylesIntoStyleTag = __webpack_require__(72);\nvar injectStylesIntoStyleTag_default = /*#__PURE__*/__webpack_require__.n(injectStylesIntoStyleTag);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/styleDomAPI.js\nvar styleDomAPI = __webpack_require__(825);\nvar styleDomAPI_default = /*#__PURE__*/__webpack_require__.n(styleDomAPI);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/insertBySelector.js\nvar insertBySelector = __webpack_require__(659);\nvar insertBySelector_default = /*#__PURE__*/__webpack_require__.n(insertBySelector);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\nvar setAttributesWithoutAttributes = __webpack_require__(56);\nvar setAttributesWithoutAttributes_default = /*#__PURE__*/__webpack_require__.n(setAttributesWithoutAttributes);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/insertStyleElement.js\nvar insertStyleElement = __webpack_require__(540);\nvar insertStyleElement_default = /*#__PURE__*/__webpack_require__.n(insertStyleElement);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/styleTagTransform.js\nvar styleTagTransform = __webpack_require__(113);\nvar styleTagTransform_default = /*#__PURE__*/__webpack_require__.n(styleTagTransform);\n// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js!./eXclient/style.css\nvar style = __webpack_require__(674);\n;// CONCATENATED MODULE: ./eXclient/style.css\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (styleTagTransform_default());\noptions.setAttributes = (setAttributesWithoutAttributes_default());\noptions.insert = insertBySelector_default().bind(null, \"head\");\noptions.domAPI = (styleDomAPI_default());\noptions.insertStyleElement = (insertStyleElement_default());\n\nvar update = injectStylesIntoStyleTag_default()(style/* default */.A, options);\n\n\n\n\n       /* harmony default export */ const eXclient_style = (style/* default */.A && style/* default */.A.locals ? style/* default */.A.locals : undefined);\n\n;// CONCATENATED MODULE: ./eXclient/render.js\nconst canvas = window.canvas = document.getElementById('canvas');\r\nconst render_ctx = window.ctx = canvas.getContext('2d');\r\n\r\nconst camera = window.camera = {\r\n    x: 0, y: 0, scale: 1\r\n}\r\n\r\nwindow.defaultColors = {\r\n    tile: '#1f2229',// the stroke and outside of arena\r\n    background: '#323645',// the fillcolor\r\n    vignette: {\r\n        inner: {size:0.1,r:0,g:0,b:0},\r\n        outer: {size:0.6,r:0,g:0,b:0},\r\n        innerInterp: {size:0.1,r:0,g:0,b:0},\r\n        outerInterp: {size:0.6,r:0,g:0,b:0}\r\n    }\r\n}\r\n\r\nwindow.colors = {\r\n    tile: window.defaultColors.tile,\r\n    background: window.defaultColors.background,\r\n    vignette: {\r\n        inner: {size:0.1,r:0,g:0,b:0},\r\n        outer: {size:0.6,r:0,g:0,b:0},\r\n        innerInterp: {size:0.1,r:0,g:0,b:0},\r\n        outerInterp: {size:0.6,r:0,g:0,b:0}\r\n    }\r\n}\r\n\r\nwindow.selfId = undefined;\r\nwindow.tileSize = 100;\r\n// const fullscreen = {\r\n//     ratio: 9 / 16,\r\n//     zoom: 1800,\r\n// }\r\nconst width = 1600;\r\nconst height = 900;\r\n\r\n// window.tileImage = undefined;\r\n// window.tileImageColors = {\r\n//     tile: '', background: ''\r\n// }\r\n\r\n// function generateTileImage({tile, background}) {\r\n//     const canv = document.createElement('canvas');\r\n//     const w = canvas.w + ctx.lineWidth + window.tileSize;\r\n//     const h = canvas.h + ctx.lineWidth + window.tileSize;\r\n    \r\n//     const cx = canv.getContext('2d');\r\n//     canv.width = w;\r\n//     canv.height = h;\r\n//     cx.imageSmoothingEnabled = false;\r\n\r\n//     // tile background\r\n//     cx.globalAlpha = 0.75;\r\n//     cx.strokeStyle = tile;\r\n//     cx.fillStyle = background;\r\n\r\n//     cx.lineWidth = 3;\r\n//     for (let x = -camera.x%tileSize; x < canvas.w + ctx.lineWidth + window.tileSize; x += window.tileSize) {\r\n//         ctx.beginPath();\r\n//         ctx.moveTo(x, 0);\r\n//         ctx.lineTo(x, canvas.h);\r\n//         ctx.stroke();\r\n//         ctx.closePath();\r\n//     }\r\n\r\n//     for (let y = -camera.y%tileSize; y < canvas.h + ctx.lineWidth + window.tileSize; y += window.tileSize) {\r\n//         ctx.beginPath();\r\n//         ctx.moveTo(0, y);\r\n//         ctx.lineTo(canvas.w, y);\r\n//         ctx.stroke();\r\n//         ctx.closePath();//\r\n//     }\r\n\r\n//     cx.globalAlpha = 1;\r\n//     return canv;\r\n// }\r\n\r\n// let tileImg;\r\n// function createTileImg(scale, thicc) {\r\n//     const tileSize = 100;\r\n//     // const size =\r\n//     //     Math.round(Math.max(canvas.width, canvas.height) / tileSize) *\r\n//     //         tileSize +\r\n//     //     200;\r\n//     const canv = document.createElement('canvas');\r\n//     if(scale < 0.1){\r\n//         return canv;\r\n//     }\r\n    \r\n//     const w = canvas.width/scale + tileSize;\r\n//     const h = canvas.height/scale + tileSize;\r\n    \r\n//     const cx = canv.getContext('2d');\r\n//     canv.width = w//size / scale;\r\n//     canv.height = h//size / scale;\r\n//     cx.imageSmoothingEnabled = false;\r\n\r\n//     // tile background\r\n//     cx.globalAlpha = 0.75;\r\n//     cx.strokeStyle = colors.tile//colors.background;\r\n//     cx.lineWidth = thicc ? 4 : 2;\r\n//     for (let y = 0; y <= h; y += tileSize) {\r\n//         for (let x = 0; x <= w; x += tileSize) {\r\n//             cx.strokeRect(x, y, tileSize, tileSize);\r\n//         }\r\n//     }\r\n//     cx.globalAlpha = 1;\r\n//     return canv;\r\n// }\r\n\r\nlet opaqIndex, len, lastPlayerX, lastPlayerY, lastPlayerRadius, lastGA, j = false, lastNLDX = 0, lastNLDY = 0;\r\nwindow.render = (os=window.obstacles, cols=window.colors, players=window.players) => {\r\n    // TODO: obstacle interpolation\r\n\r\n    document.body.style.backgroundColor = cols.tile;\r\n\r\n    if(window.selfId !== undefined){\r\n        const me = players[window.selfId];\r\n        camera.x = me.pos.x;\r\n        camera.y = me.pos.y;\r\n    }\r\n    \r\n    render_ctx.fillStyle = cols.tile;\r\n    render_ctx.fillRect(0,0,canvas.w, canvas.h);\r\n\r\n    render_ctx.fillStyle = cols.background;\r\n    render_ctx.fillRect(-(camera.x-canvas.w/2), -(camera.y-canvas.h/2), window.mapDimensions.x, window.mapDimensions.y);\r\n\r\n    // tile background\r\n    // ctx.strokeStyle = cols.tile;\r\n    // ctx.fillStyle = cols.background;\r\n\r\n    // if(tileImg === undefined){\r\n    //     tileImg = createTileImg(1);\r\n    // }\r\n\r\n    // const img = tileImg;\r\n    //ctx.translate(pos.x , pos.y + (gridOffset.y % 50));\r\n    // ctx.drawImage(img, (canvas.w/2-camera.x)%tileSize, (canvas.h/2-camera.y)%tileSize);\r\n    render_ctx.globalAlpha = 0.75;\r\n    render_ctx.lineWidth = 4.8;\r\n    render_ctx.strokeStyle = cols.tile;\r\n    for (let x = (canvas.w/2-camera.x)%tileSize; x < canvas.w + render_ctx.lineWidth + window.tileSize; x += window.tileSize) {\r\n        render_ctx.beginPath();\r\n        render_ctx.moveTo(x, 0);\r\n        render_ctx.lineTo(x, canvas.h);\r\n        render_ctx.stroke();\r\n        render_ctx.closePath();\r\n    }\r\n\r\n    for (let y = (canvas.h/2-camera.y)%tileSize; y < canvas.h + render_ctx.lineWidth + window.tileSize; y += window.tileSize) {\r\n        render_ctx.beginPath();\r\n        render_ctx.moveTo(0, y);\r\n        render_ctx.lineTo(canvas.w, y);\r\n        render_ctx.stroke();\r\n        render_ctx.closePath();\r\n    }\r\n\r\n    render_ctx.globalAlpha = 1;\r\n\r\n    // TODO: test if it's faster to draw tiles or image\r\n    // if(window.tileImageColors.tile !== window.colors.tile || window.tileImageColors.background !== window.colors.background){\r\n    //     // TODO: optimize even further with just generating lines and using clearRect and having another canvas in the background with the solid bg color fill\r\n    //     window.tileImage = generateTileImage(window.colors);\r\n    // }\r\n\r\n    // ctx.drawImage(window.tileImage, -camera.x % tileSize, -camera.y % tileSize);\r\n    render_ctx.translate(-(camera.x-canvas.w/2), -(camera.y-canvas.h/2));\r\n\r\n    // render obstacles\r\n    for(let i = 0; i < os.length; i++){\r\n        len = os[i].effect.length;\r\n        if(len === 1){\r\n            j = 0;\r\n            render_ctx.toFill = true;\r\n            render_ctx.toStroke = false;\r\n            render_ctx.lineWidth = 4; \r\n            render_ctx.beginPath();\r\n            os[i].renderShape(os[i]);\r\n            os[i].renderEffect[j](os[i]);\r\n            if(os[i].isText === true) renderTextSpecials(os[i], cols);\r\n            if(render_ctx.toFill === true) render_ctx.fill();\r\n            if(render_ctx.toStroke === true) render_ctx.stroke();\r\n            if(render_ctx.cleanUpFunction !== undefined) { render_ctx.cleanUpFunction(); render_ctx.cleanUpFunction = undefined; }\r\n            render_ctx.closePath();\r\n            render_ctx.globalAlpha = 1;\r\n        } else {\r\n            // so we want to fade between the effect renders. We render a previous one with 1 opacity and then raise the next one from 0-1 opacity, until the next one becomes the previous and the cycle repeats\r\n            os[i].renderEffectTimer += 1/128;\r\n            if(os[i].renderEffectTimer >= len) os[i].renderEffectTimer -= len;\r\n\r\n            opaqIndex = Math.floor(os[i].renderEffectTimer);\r\n            /*let fullIndex*/j = opaqIndex - 1;\r\n            if(/*fullIndex*/j === -1) /*fullIndex*/j = len-1;\r\n            // j = fullIndex;\r\n\r\n            // render full index\r\n            render_ctx.toFill = true;\r\n            render_ctx.toStroke = false;\r\n            render_ctx.lineWidth = 2;\r\n            render_ctx.beginPath();\r\n            os[i].renderShape(os[i]);\r\n            os[i].renderEffect[j](os[i]);\r\n            if(os[i].isText === true) renderTextSpecials(os[i], cols);\r\n            render_ctx.globalAlpha = 1;\r\n            if(render_ctx.toFill === true) render_ctx.fill();\r\n            if(render_ctx.toStroke === true) render_ctx.stroke();\r\n            if(render_ctx.cleanUpFunction !== undefined) { render_ctx.cleanUpFunction(); render_ctx.cleanUpFunction = undefined; }\r\n            render_ctx.closePath();\r\n\r\n            // render opaq index\r\n            j = opaqIndex;\r\n            render_ctx.toFill = true;\r\n            render_ctx.toStroke = false;\r\n            render_ctx.lineWidth = 2;\r\n            render_ctx.beginPath();\r\n            os[i].renderShape(os[i]);\r\n            os[i].renderEffect[j](os[i]);\r\n            if(os[i].isText === true) renderTextSpecials(os[i], cols);\r\n            render_ctx.globalAlpha = os[i].renderEffectTimer - opaqIndex;\r\n            if(render_ctx.toFill === true) render_ctx.fill();\r\n            if(render_ctx.toStroke === true) render_ctx.stroke();\r\n            if(render_ctx.cleanUpFunction !== undefined) { render_ctx.cleanUpFunction(); render_ctx.cleanUpFunction = undefined; }\r\n            render_ctx.closePath();\r\n            render_ctx.globalAlpha = 1;\r\n        }\r\n    }\r\n\r\n    // render players\r\n    for(let i = 0; i < players.length; i++){\r\n        const player = players[i];\r\n        if(player === undefined) continue;\r\n        render_ctx.fillStyle = player.dead === true ? 'red' : 'black';\r\n\r\n        const lastRadius = player.sat.r;\r\n        player.sat.r = player.renderRadius;\r\n        \r\n        render_ctx.beginPath();\r\n        player.renderShape(player);\r\n        \r\n        if(player.renderRadius >= 0) render_ctx.fill();\r\n        else {\r\n            // negative radius\r\n            const diameter = 2 * Math.PI * Math.abs(player.dead === true ? player.sat.r : lastPlayerRadius);\r\n            const timesAround = Math.max(3, Math.floor(diameter / 42));\r\n            lastNLDX = lastNLDX * 0.96 + 2/7*diameter/timesAround * 0.04;\r\n            lastNLDY = lastNLDY * 0.96 + 5/7*diameter/timesAround * 0.04;\r\n            render_ctx.setLineDash([lastNLDX, lastNLDY]);\r\n            render_ctx.lineDashOffset = (-window.time / 26) % diameter;\r\n            render_ctx.strokeStyle = render_ctx.fillStyle;\r\n            render_ctx.lineWidth = 8;\r\n            render_ctx.lineCap = 'round';\r\n            render_ctx.stroke();\r\n            render_ctx.setLineDash([]);\r\n        }\r\n        if(player.god === true) {render_ctx.strokeStyle = 'purple'; render_ctx.lineWidth = 10; render_ctx.stroke(); }\r\n        render_ctx.closePath();\r\n\r\n        render_ctx.fillStyle = 'white';\r\n        render_ctx.font = `${15 * ((Math.abs(player.renderRadius) + 0.5) / 25)}px Inter`;\r\n        render_ctx.textAlign = 'center';\r\n        render_ctx.textBaseline = 'middle';\r\n        render_ctx.fillText(\r\n            player.name,\r\n            player.pos.x,\r\n            player.pos.y + player.renderRadius * 4/3 + 3\r\n        );\r\n\r\n        player.sat.r = lastRadius;\r\n    }\r\n\r\n    render_ctx.translate(camera.x-canvas.w/2, camera.y-canvas.h/2);\r\n\r\n    // vignette\r\n    const v = window.colors.vignette;\r\n    for(let key in v.innerInterp){\r\n        v.innerInterp[key] = interpolate(v.innerInterp[key], v.inner[key], 0.03);\r\n    }\r\n    for(let key in v.outerInterp){\r\n        v.outerInterp[key] = interpolate(v.outerInterp[key], v.outer[key], 0.03);\r\n    }\r\n    render_ctx.beginPath();\r\n    const grd = render_ctx.createRadialGradient(\r\n        canvas.w / 2,\r\n        canvas.h / 2,\r\n        (canvas.w * v.innerInterp.size),\r\n        canvas.w / 2,\r\n        canvas.h / 2,\r\n        (canvas.w * v.outerInterp.size)\r\n    );\r\n\r\n    grd.addColorStop(\r\n        0,\r\n        `rgba(${v.inner.r},${v.inner.g},${v.inner.b},0)`\r\n    );\r\n    grd.addColorStop(\r\n        1,\r\n        `rgba(${v.outer.r},${v.outer.g},${v.outer.b},1)`\r\n    );\r\n    render_ctx.fillStyle = grd;\r\n    render_ctx.fillRect(0,0,canvas.w,canvas.h);\r\n    render_ctx.fill();\r\n    render_ctx.closePath();\r\n}\r\n\r\nfunction interpolate(start, end, t){\r\n    return (1-t) * start + t * end;\r\n}\r\n\r\nfunction renderTextSpecials(o, cols){\r\n    lastGA = render_ctx.globalAlpha;\r\n    render_ctx.textAlign = 'center';\r\n    render_ctx.textBaseline = 'middle';\r\n    render_ctx.font = `${o.fontSize}px Inter`;\r\n    render_ctx.translate(o.sat.points[0].x + o.sat.pos.x, o.sat.points[0].y + o.sat.pos.y);\r\n    if(o.rotation !== undefined) render_ctx.rotate(o.rotation);\r\n    if(render_ctx.globalAlpha < 0.5) render_ctx.globalAlpha = 0.5;\r\n    if(render_ctx.toFill === true) render_ctx.fillText(o.text, o.dimensions.x/2 - o.dimensions.wOffset, o.dimensions.y/2 - o.dimensions.hOffset);\r\n    if(render_ctx.toStroke === true) render_ctx.strokeText(o.text, o.dimensions.x/2 - o.dimensions.wOffset, o.dimensions.y/2 - o.dimensions.hOffset);\r\n    else if(render_ctx.toFill === false) {\r\n        render_ctx.globalAlpha = 1;\r\n        render_ctx.fillStyle = cols.tile;\r\n        render_ctx.fillText(o.text, o.dimensions.x/2 - o.dimensions.wOffset, o.dimensions.y/2 - o.dimensions.hOffset);\r\n    }\r\n    if(o.rotation !== undefined) render_ctx.rotate(-o.rotation);\r\n    render_ctx.translate(-o.sat.points[0].x - o.sat.pos.x, -o.sat.points[0].y - o.sat.pos.y);\r\n    render_ctx.globalAlpha = Math.min(0.5, lastGA);\r\n}\r\n\r\n// canvas resizing\r\nfunction resize(){\r\n    // const dpi = window.devicePixelRatio;\r\n    // canvas.style.width = Math.ceil(window.innerWidth) + 'px';\r\n    // canvas.style.height = Math.ceil(window.innerHeight) + 'px';\r\n    // canvas.width = Math.ceil(window.innerWidth) * dpi;\r\n    // canvas.height = Math.ceil(window.innerHeight) * dpi;\r\n    // canvas.zoom = Math.max(0.1, Math.round((Math.max(canvas.height, canvas.width * fullscreen.ratio) / fullscreen.zoom * camera.scale) * 100) / 100);\r\n    // // w and h are calced with zoom\r\n    // canvas.w = canvas.width / canvas.zoom;\r\n    // canvas.h = canvas.height / canvas.zoom;\r\n    // ctx.scale(canvas.zoom, canvas.zoom);\r\n    // ctx.lineJoin = 'round';\r\n    // ctx.lineCap = 'round';\r\n\r\n    // ctx.imageSmoothingEnabled = false;\r\n    // canvas._scaleMult = 0.5;\r\n    canvas.zoom = 1;window.resize([canvas, document.querySelector('.gui')]);\r\n    canvas.w = canvas.width / canvas.zoom / window.camera.scale;\r\n    canvas.h = canvas.height / canvas.zoom / window.camera.scale;\r\n}\r\n\r\nwindow.changeCameraScale = (scale) => {\r\n    render_ctx.translate(-(1-1/window.camera.scale)*canvas.w/2, -(1-1/window.camera.scale)*canvas.h/2);\r\n\r\n    render_ctx.translate(canvas.w/2, canvas.h/2);\r\n    render_ctx.scale(1/window.camera.scale, 1/window.camera.scale);\r\n    render_ctx.translate(-canvas.w/2, -canvas.h/2);\r\n\r\n    window.camera.scale = scale;\r\n    canvas.w = canvas.width / canvas.zoom / window.camera.scale;\r\n    canvas.h = canvas.height / canvas.zoom / window.camera.scale;\r\n\r\n    render_ctx.translate(canvas.w/2, canvas.h/2);\r\n    render_ctx.scale(window.camera.scale, window.camera.scale);\r\n    render_ctx.translate(-canvas.w/2, -canvas.h/2);\r\n    \r\n    render_ctx.translate((1-1/window.camera.scale)*canvas.w/2, (1-1/window.camera.scale)*canvas.h/2);\r\n}\r\n\r\nwindow.resize = function (elements) {\r\n    for (const element of elements) {\r\n        if (element.width !== width) {\r\n            element.width = width;\r\n            element.style.width = `${width}px`;\r\n        }\r\n        if (element.height !== height) {\r\n            element.height = height;\r\n            element.style.height = `${height}px`;\r\n        }\r\n        let scaleMult = element?._scaleMult ?? 1;\r\n        element.style.transform = `scale(${\r\n            Math.min(window.innerWidth / width, window.innerHeight / height) *\r\n            scaleMult\r\n        })`;\r\n        element.style.left = `${(window.innerWidth - width) / 2}px`;\r\n        element.style.top = `${(window.innerHeight - height) / 2}px`;\r\n    }\r\n    return Math.min(window.innerWidth / width, window.innerHeight / height);\r\n};\r\n  \r\nwindow.addEventListener('resize', function () {\r\n    resize();\r\n});\r\nresize();\r\nchangeCameraScale(0.5);\r\n\r\n/* harmony default export */ const eXclient_render = ((/* unused pure expression or super */ null && (render)));\n;// CONCATENATED MODULE: ./eXclient/msgpackr.js\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],t):t((e=\"undefined\"!=typeof globalThis?globalThis:e||self).msgpackr={})}(undefined,function(e){\"use strict\";try{$=new TextDecoder}catch(t){}var $,r,n,i,s,f,u,l,o,a=0,c={},x=0,d=0,h=[],_={useRecords:!1,mapsAsObjects:!0};class p{}let g=new p;g.name=\"MessagePack 0xC1\";var y=!1,b=2;try{Function(\"\")}catch(w){b=1/0}class m{constructor(e){e&&(!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),!e.sequential||!1===e.trusted||(e.trusted=!0,e.structures||!1==e.useRecords||(e.structures=[],e.maxSharedStructures||(e.maxSharedStructures=0))),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0),e.int64AsNumber&&(e.int64AsType=\"number\")),Object.assign(this,e)}unpack(e,t){if(r)return G(()=>(H(),this?this.unpack(e,t):m.prototype.unpack.call(_,e,t)));e.buffer||e.constructor!==ArrayBuffer||(e=\"undefined\"!=typeof Buffer?Buffer.from(e):new Uint8Array(e)),\"object\"==typeof t?(n=t.end||e.length,a=t.start||0):(a=0,n=t>-1?t:e.length),d=0,s=null,f=null,r=e;try{l=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch($){if(r=null,e instanceof Uint8Array)throw $;throw Error(\"Source must be a Uint8Array or Buffer but was a \"+(e&&\"object\"==typeof e?e.constructor.name:typeof e))}return this instanceof m?(c=this,this.structures?i=this.structures:(!i||i.length>0)&&(i=[])):(c=_,(!i||i.length>0)&&(i=[])),S(t)}unpackMultiple(e,t){let $,r=0;try{y=!0;let n=e.length,i=this?this.unpack(e,n):ee.unpack(e,n);if(t){if(!1===t(i,r,a))return;for(;a<n;)if(r=a,!1===t(S(),r,a))return}else{for($=[i];a<n;)r=a,$.push(S());return $}}catch(s){throw s.lastPosition=r,s.values=$,s}finally{y=!1,H()}}_mergeStructures(e,t){Object.isFrozen(e=e||[])&&(e=e.map(e=>e.slice(0)));for(let $=0,r=e.length;$<r;$++){let n=e[$];n&&(n.isShared=!0,$>=32&&(n.highByte=$-32>>5))}for(let i in e.sharedLength=e.length,t||[])if(i>=0){let s=e[i],f=t[i];f&&(s&&((e.restoreStructures||(e.restoreStructures=[]))[i]=s),e[i]=f)}return this.structures=e}decode(e,t){return this.unpack(e,t)}}function S(e){try{if(!c.trusted&&!y){let t=i.sharedLength||0;t<i.length&&(i.length=t)}let $;if(c.randomAccessStructure&&r[a]<64&&r[a]>=32&&o?($=o(r,a,n,c),r=null,!(e&&e.lazy)&&$&&($=$.toJSON()),a=n):$=k(),f&&(a=f.postBundlePosition,f=null),y&&(i.restoreStructures=null),a==n)i&&i.restoreStructures&&U(),i=null,r=null,u&&(u=null);else if(a>n)throw Error(\"Unexpected end of MessagePack data\");else if(!y){let s;try{s=JSON.stringify($,(e,t)=>\"bigint\"==typeof t?`${t}n`:t).slice(0,100)}catch(l){s=\"(JSON view not available \"+l+\")\"}throw Error(\"Data read, but end of buffer not reached \"+s)}return $}catch(x){throw i&&i.restoreStructures&&U(),H(),(x instanceof RangeError||x.message.startsWith(\"Unexpected end of buffer\")||a>n)&&(x.incomplete=!0),x}}function U(){for(let e in i.restoreStructures)i[e]=i.restoreStructures[e];i.restoreStructures=null}function k(){let e=r[a++];if(e<160){if(e<128){if(e<64)return e;{let t=i[63&e]||c.getStructures&&O()[63&e];return t?(t.read||(t.read=A(t,63&e)),t.read()):e}}if(e<144){if(e-=128,c.mapsAsObjects){let $={};for(let u=0;u<e;u++){let o=W();\"__proto__\"===o&&(o=\"__proto_\"),$[o]=k()}return $}{let _=new Map;for(let p=0;p<e;p++)_.set(k(),k());return _}}{let y=Array(e-=144);for(let b=0;b<e;b++)y[b]=k();return c.freezeData?Object.freeze(y):y}}if(e<192){let w=e-160;if(d>=a)return s.slice(a-x,(a+=w)-x);if(0==d&&n<140){let m=w<16?C(w):R(w);if(null!=m)return m}return T(w)}{let S;switch(e){case 192:return null;case 193:if(f){if((S=k())>0)return f[1].slice(f.position1,f.position1+=S);return f[0].slice(f.position0,f.position0-=S)}return g;case 194:return!1;case 195:return!0;case 196:if(void 0===(S=r[a++]))throw Error(\"Unexpected end of buffer\");return N(S);case 197:return S=l.getUint16(a),a+=2,N(S);case 198:return S=l.getUint32(a),a+=4,N(S);case 199:return D(r[a++]);case 200:return S=l.getUint16(a),a+=2,D(S);case 201:return S=l.getUint32(a),a+=4,D(S);case 202:if(S=l.getFloat32(a),c.useFloat32>2){let U=Q[(127&r[a])<<1|r[a+1]>>7];return a+=4,(U*S+(S>0?.5:-.5)>>0)/U}return a+=4,S;case 203:return S=l.getFloat64(a),a+=8,S;case 204:return r[a++];case 205:return S=l.getUint16(a),a+=2,S;case 206:return S=l.getUint32(a),a+=4,S;case 207:return\"number\"===c.int64AsType?(S=4294967296*l.getUint32(a),S+=l.getUint32(a+4)):\"string\"===c.int64AsType?S=l.getBigUint64(a).toString():\"auto\"===c.int64AsType?(S=l.getBigUint64(a))<=BigInt(2)<<BigInt(52)&&(S=Number(S)):S=l.getBigUint64(a),a+=8,S;case 208:return l.getInt8(a++);case 209:return S=l.getInt16(a),a+=2,S;case 210:return S=l.getInt32(a),a+=4,S;case 211:return\"number\"===c.int64AsType?(S=4294967296*l.getInt32(a),S+=l.getUint32(a+4)):\"string\"===c.int64AsType?S=l.getBigInt64(a).toString():\"auto\"===c.int64AsType?(S=l.getBigInt64(a))>=BigInt(-2)<<BigInt(52)&&S<=BigInt(2)<<BigInt(52)&&(S=Number(S)):S=l.getBigInt64(a),a+=8,S;case 212:if(114==(S=r[a++]))return J(63&r[a++]);{let I=h[S];if(I){if(I.read)return a++,I.read(k());if(I.noBuffer)return a++,I();return I(r.subarray(a,++a))}throw Error(\"Unknown extension \"+S)}case 213:if(114==(S=r[a]))return a++,J(63&r[a++],r[a++]);return D(2);case 214:return D(4);case 215:return D(8);case 216:return D(16);case 217:if(S=r[a++],d>=a)return s.slice(a-x,(a+=S)-x);return B(S);case 218:if(S=l.getUint16(a),d>=(a+=2))return s.slice(a-x,(a+=S)-x);return L(S);case 219:if(S=l.getUint32(a),d>=(a+=4))return s.slice(a-x,(a+=S)-x);return F(S);case 220:return S=l.getUint16(a),a+=2,z(S);case 221:return S=l.getUint32(a),a+=4,z(S);case 222:return S=l.getUint16(a),a+=2,E(S);case 223:return S=l.getUint32(a),a+=4,E(S);default:if(e>=224)return e-256;if(void 0===e){let v=Error(\"Unexpected end of MessagePack data\");throw v.incomplete=!0,v}throw Error(\"Unknown MessagePack token \"+e)}}}let I=/^[a-zA-Z_$][a-zA-Z\\d_$]*$/;function A(e,t){function $(){if($.count++>b){let r=e.read=Function(\"r\",\"return function(){return \"+(c.freezeData?\"Object.freeze\":\"\")+\"({\"+e.map(e=>\"__proto__\"===e?\"__proto_:r()\":I.test(e)?e+\":r()\":\"[\"+JSON.stringify(e)+\"]:r()\").join(\",\")+\"})}\")(k);return 0===e.highByte&&(e.read=v(t,e.read)),r()}let n={};for(let i=0,s=e.length;i<s;i++){let f=e[i];\"__proto__\"===f&&(f=\"__proto_\"),n[f]=k()}return c.freezeData?Object.freeze(n):n}return($.count=0,0===e.highByte)?v(t,$):$}let v=(e,t)=>function(){let $=r[a++];if(0===$)return t();let n=e<32?-(e+($<<5)):e+($<<5),s=i[n]||O()[n];if(!s)throw Error(\"Record id is not defined for \"+n);return s.read||(s.read=A(s,e)),s.read()};function O(){let e=G(()=>(r=null,c.getStructures()));return i=c._mergeStructures(e,i)}var T=P,B=P,L=P,F=P;function P(e){let t;if(e<16&&(t=C(e)))return t;if(e>64&&$)return $.decode(r.subarray(a,a+=e));let n=a+e,i=[];for(t=\"\";a<n;){let s=r[a++];if((128&s)==0)i.push(s);else if((224&s)==192){let f=63&r[a++];i.push((31&s)<<6|f)}else if((240&s)==224){let u=63&r[a++],l=63&r[a++];i.push((31&s)<<12|u<<6|l)}else if((248&s)==240){let o=63&r[a++],c=63&r[a++],x=63&r[a++],d=(7&s)<<18|o<<12|c<<6|x;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|1023&d),i.push(d)}else i.push(s);i.length>=4096&&(t+=M.apply(String,i),i.length=0)}return i.length>0&&(t+=M.apply(String,i)),t}function z(e){let t=Array(e);for(let $=0;$<e;$++)t[$]=k();return c.freezeData?Object.freeze(t):t}function E(e){if(c.mapsAsObjects){let t={};for(let $=0;$<e;$++){let r=W();\"__proto__\"===r&&(r=\"__proto_\"),t[r]=k()}return t}{let n=new Map;for(let i=0;i<e;i++)n.set(k(),k());return n}}var M=String.fromCharCode;function R(e){let t=a,$=Array(e);for(let n=0;n<e;n++){let i=r[a++];if((128&i)>0){a=t;return}$[n]=i}return M.apply(String,$)}function C(e){if(e<4){if(e<2){if(0===e)return\"\";{let t=r[a++];if((128&t)>1){a-=1;return}return M(t)}}{let $=r[a++],n=r[a++];if((128&$)>0||(128&n)>0){a-=2;return}if(e<3)return M($,n);let i=r[a++];if((128&i)>0){a-=3;return}return M($,n,i)}}{let s=r[a++],f=r[a++],u=r[a++],l=r[a++];if((128&s)>0||(128&f)>0||(128&u)>0||(128&l)>0){a-=4;return}if(e<6){if(4===e)return M(s,f,u,l);{let o=r[a++];if((128&o)>0){a-=5;return}return M(s,f,u,l,o)}}if(e<8){let c=r[a++],x=r[a++];if((128&c)>0||(128&x)>0){a-=6;return}if(e<7)return M(s,f,u,l,c,x);let d=r[a++];if((128&d)>0){a-=7;return}return M(s,f,u,l,c,x,d)}{let h=r[a++],_=r[a++],p=r[a++],g=r[a++];if((128&h)>0||(128&_)>0||(128&p)>0||(128&g)>0){a-=8;return}if(e<10){if(8===e)return M(s,f,u,l,h,_,p,g);{let y=r[a++];if((128&y)>0){a-=9;return}return M(s,f,u,l,h,_,p,g,y)}}if(e<12){let b=r[a++],w=r[a++];if((128&b)>0||(128&w)>0){a-=10;return}if(e<11)return M(s,f,u,l,h,_,p,g,b,w);let m=r[a++];if((128&m)>0){a-=11;return}return M(s,f,u,l,h,_,p,g,b,w,m)}{let S=r[a++],U=r[a++],k=r[a++],I=r[a++];if((128&S)>0||(128&U)>0||(128&k)>0||(128&I)>0){a-=12;return}if(e<14){if(12===e)return M(s,f,u,l,h,_,p,g,S,U,k,I);{let A=r[a++];if((128&A)>0){a-=13;return}return M(s,f,u,l,h,_,p,g,S,U,k,I,A)}}{let v=r[a++],O=r[a++];if((128&v)>0||(128&O)>0){a-=14;return}if(e<15)return M(s,f,u,l,h,_,p,g,S,U,k,I,v,O);let T=r[a++];if((128&T)>0){a-=15;return}return M(s,f,u,l,h,_,p,g,S,U,k,I,v,O,T)}}}}}function j(){let e=r[a++],t;if(e<192)t=e-160;else switch(e){case 217:t=r[a++];break;case 218:t=l.getUint16(a),a+=2;break;case 219:t=l.getUint32(a),a+=4;break;default:throw Error(\"Expected string\")}return P(t)}function N(e){return c.copyBuffers?Uint8Array.prototype.slice.call(r,a,a+=e):r.subarray(a,a+=e)}function D(e){let t=r[a++];if(h[t]){let $;return h[t](r.subarray(a,$=a+=e),e=>{a=e;try{return k()}finally{a=$}})}throw Error(\"Unknown extension type \"+t)}var V=Array(4096);function W(){let e=r[a++];if(!(e>=160)||!(e<192))return a--,k().toString();if(e-=160,d>=a)return s.slice(a-x,(a+=e)-x);if(!(0==d&&n<180))return T(e);let t=(e<<5^(e>1?l.getUint16(a):e>0?r[a]:0))&4095,$=V[t],i=a,f=a+e-3,u,o=0;if($&&$.bytes==e){for(;i<f;){if((u=l.getUint32(i))!=$[o++]){i=1879048192;break}i+=4}for(f+=3;i<f;)if((u=r[i++])!=$[o++]){i=1879048192;break}if(i===f)return a=i,$.string;f-=3,i=a}for($=[],V[t]=$,$.bytes=e;i<f;)u=l.getUint32(i),$.push(u),i+=4;for(f+=3;i<f;)u=r[i++],$.push(u);let c=e<16?C(e):R(e);return null!=c?$.string=c:$.string=T(e)}let J=(e,t)=>{let $=k().map(e=>e.toString()),r=e;void 0!==t&&(e=e<32?-((t<<5)+e):(t<<5)+e,$.highByte=t);let n=i[e];return n&&(n.isShared||y)&&((i.restoreStructures||(i.restoreStructures=[]))[e]=n),i[e]=$,$.read=A($,r),$.read()};h[0]=()=>{},h[0].noBuffer=!0;let q={Error,TypeError,ReferenceError};h[101]=()=>{let e=k();return(q[e[0]]||Error)(e[1])},h[105]=e=>{let t=l.getUint32(a-4);u||(u=new Map);let $=r[a],n;n=$>=144&&$<160||220==$||221==$?[]:{};let i={target:n};u.set(t,i);let s=k();return i.used?Object.assign(n,s):(i.target=s,s)},h[112]=e=>{let t=l.getUint32(a-4),$=u.get(t);return $.used=!0,$.target},h[115]=()=>new Set(k());let K=[\"Int8\",\"Uint8\",\"Uint8Clamped\",\"Int16\",\"Uint16\",\"Int32\",\"Uint32\",\"Float32\",\"Float64\",\"BigInt64\",\"BigUint64\"].map(e=>e+\"Array\"),Y=\"object\"==typeof globalThis?globalThis:window;h[116]=e=>{let t=e[0],$=K[t];if(!$)throw Error(\"Could not find typed array for code \"+t);return new Y[$](Uint8Array.prototype.slice.call(e,1).buffer)},h[120]=()=>{let e=k();return RegExp(e[0],e[1])};let Z=[];function G(e){let t=n,$=a,o=x,h=d,_=s,p=u,g=f,b=new Uint8Array(r.slice(0,n)),w=i,m=i.slice(0,i.length),S=c,U=y,k=e();return n=t,a=$,x=o,d=h,s=_,u=p,f=g,r=b,y=U,(i=w).splice(0,i.length,...m),c=S,l=new DataView(r.buffer,r.byteOffset,r.byteLength),k}function H(){r=null,u=null,i=null}h[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],$=a;return a+=t-e.length,f=Z,(f=[j(),j()]).position0=0,f.position1=0,f.postBundlePosition=a,a=$,k()},h[255]=e=>4==e.length?new Date((16777216*e[0]+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):8==e.length?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((3&e[3])*4294967296+16777216*e[4]+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):12==e.length?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((128&e[4]?-281474976710656:0)+1099511627776*e[6]+4294967296*e[7]+16777216*e[8]+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date(\"invalid\");let Q=Array(147);for(let X=0;X<256;X++)Q[X]=+(\"1e\"+Math.floor(45.15-.30103*X));var ee=new m({useRecords:!1});let et=ee.unpack,e$=ee.unpackMultiple,er=ee.unpack,en={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4},ei=new Float32Array(1),es=new Uint8Array(ei.buffer,0,4),ef;try{ef=new TextEncoder}catch(eu){}let el,eo,ea=\"undefined\"!=typeof Buffer,ec=ea?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,ex=ea?Buffer:Uint8Array,ed=ea?4294967296:2144337920,eh,e_,ep,eg=0,ey,e0=null,e2,e1=/[\\u0080-\\uFFFF]/,e6=Symbol(\"record-id\");class e4 extends m{constructor(e){super(e),this.offset=0;let t,$,r,n,i=ex.prototype.utf8Write?function(e,t){return eh.utf8Write(e,t,4294967295)}:!!ef&&!!ef.encodeInto&&function(e,t){return ef.encodeInto(e,eh.subarray(t)).written},s=this;e||(e={});let f=e&&e.sequential,u=e.structures||e.saveStructures,l=e.maxSharedStructures;if(null==l&&(l=u?32:0),l>8160)throw Error(\"Maximum maxSharedStructure is 8160\");e.structuredClone&&void 0==e.moreTypes&&(this.moreTypes=!0);let o=e.maxOwnStructures;null==o&&(o=u?32:64),this.structures||!1==e.useRecords||(this.structures=[]);let a=l>32||o+l>64,c=l+64,x=l+o+64;if(x>8256)throw Error(\"Maximum maxSharedStructure + maxOwnStructure is 8192\");let d=[],h=0,_=0;this.pack=this.encode=function(e,i){if(eh||(ep=(eh=new ec(8192)).dataView||(eh.dataView=new DataView(eh.buffer,0,8192)),eg=0),(ey=eh.length-10)-eg<2048?(ep=(eh=new ec(eh.length)).dataView||(eh.dataView=new DataView(eh.buffer,0,eh.length)),ey=eh.length-10,eg=0):eg=eg+7&2147483640,t=eg,i&eT&&(eg+=255&i),n=s.structuredClone?new Map:null,s.bundleStrings&&\"string\"!=typeof e?(e0=[]).size=1/0:e0=null,r=s.structures){r.uninitialized&&(r=s._mergeStructures(s.getStructures()));let u=r.sharedLength||0;if(u>l)throw Error(\"Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to \"+r.sharedLength);if(!r.transitions){r.transitions=Object.create(null);for(let o=0;o<u;o++){let a=r[o];if(!a)continue;let c,x=r.transitions;for(let d=0,h=a.length;d<h;d++){let _=a[d];(c=x[_])||(c=x[_]=Object.create(null)),x=c}x[e6]=o+64}this.lastNamedStructuresLength=u}f||(r.nextId=u+64)}$&&($=!1);try{s.randomAccessStructure&&e&&e.constructor&&e.constructor===Object?A(e):y(e);let g=e0;if(e0&&eS(t,y,0),n&&n.idsToInsert){let b=n.idsToInsert.sort((e,t)=>e.offset>t.offset?1:-1),w=b.length,m=-1;for(;g&&w>0;){let S=b[--w].offset+t;S<g.stringsPosition+t&&-1===m&&(m=0),S>g.position+t?m>=0&&(m+=6):(m>=0&&(ep.setUint32(g.position+t,ep.getUint32(g.position+t)+m),m=-1),g=g.previous,w++)}m>=0&&g&&ep.setUint32(g.position+t,ep.getUint32(g.position+t)+m),(eg+=6*b.length)>ey&&U(eg),s.offset=eg;let k=function e(t,$){let r,n=6*$.length,i=t.length-n;for(;r=$.pop();){let s=r.offset,f=r.id;t.copyWithin(s+n,s,i);let u=s+(n-=6);t[u++]=214,t[u++]=105,t[u++]=f>>24,t[u++]=f>>16&255,t[u++]=f>>8&255,t[u++]=255&f,i=s}return t}(eh.subarray(t,eg),b);return n=null,k}if(s.offset=eg,i&ev)return eh.start=t,eh.end=eg,eh;return eh.subarray(t,eg)}finally{if(r&&(p(),$&&s.saveStructures)){var I,v;let O=r.sharedLength||0,T=eh.subarray(t,eg),B=(I=r,v=s,I.isCompatible=e=>{let t=!e||(v.lastNamedStructuresLength||0)===e.length;return t||v._mergeStructures(e),t},I);if(!1===s.saveStructures(B,B.isCompatible))return s.pack(e,i);return s.lastNamedStructuresLength=O,T}i&eO&&(eg=t)}};let p=()=>{_<10&&_++;let e=r.sharedLength||0;if(r.length>e&&!f&&(r.length=e),h>1e4)r.transitions=null,_=0,h=0,d.length>0&&(d=[]);else if(d.length>0&&!f){for(let t=0,$=d.length;t<$;t++)d[t][e6]=0;d=[]}},g=e=>{var t=e.length;t<16?eh[eg++]=144|t:t<65536?(eh[eg++]=220,eh[eg++]=t>>8,eh[eg++]=255&t):(eh[eg++]=221,ep.setUint32(eg,t),eg+=4);for(let $=0;$<t;$++)y(e[$])},y=e=>{eg>ey&&(eh=U(eg));var $,r=typeof e;if(\"string\"===r){let s=e.length;if(e0&&s>=4&&s<4096){if((e0.size+=s)>21760){let f,u=(e0[0]?3*e0[0].length+e0[1].length:0)+10;eg+u>ey&&(eh=U(eg+u));let l;e0.position?(l=e0,eh[eg]=200,eg+=3,eh[eg++]=98,f=eg-t,eg+=4,eS(t,y,0),ep.setUint16(f+t-3,eg-t-f)):(eh[eg++]=214,eh[eg++]=98,f=eg-t,eg+=4),(e0=[\"\",\"\"]).previous=l,e0.size=0,e0.position=f}let o=e1.test(e);e0[o?0:1]+=e,eh[eg++]=193,y(o?-s:s);return}let a;a=s<32?1:s<256?2:s<65536?3:5;let c=3*s;if(eg+c>ey&&(eh=U(eg+c)),s<64||!i){let x,d,h,_=eg+a;for(x=0;x<s;x++)(d=e.charCodeAt(x))<128?eh[_++]=d:d<2048?(eh[_++]=d>>6|192,eh[_++]=63&d|128):(64512&d)==55296&&(64512&(h=e.charCodeAt(x+1)))==56320?(d=65536+((1023&d)<<10)+(1023&h),x++,eh[_++]=d>>18|240,eh[_++]=d>>12&63|128,eh[_++]=d>>6&63|128,eh[_++]=63&d|128):(eh[_++]=d>>12|224,eh[_++]=d>>6&63|128,eh[_++]=63&d|128);$=_-eg-a}else $=i(e,eg+a);$<32?eh[eg++]=160|$:$<256?(a<2&&eh.copyWithin(eg+2,eg+1,eg+1+$),eh[eg++]=217,eh[eg++]=$):$<65536?(a<3&&eh.copyWithin(eg+3,eg+2,eg+2+$),eh[eg++]=218,eh[eg++]=$>>8,eh[eg++]=255&$):(a<5&&eh.copyWithin(eg+5,eg+3,eg+3+$),eh[eg++]=219,ep.setUint32(eg,$),eg+=4),eg+=$}else if(\"number\"===r){if(e>>>0===e)e<32||e<128&&!1===this.useRecords||e<64&&!this.randomAccessStructure?eh[eg++]=e:e<256?(eh[eg++]=204,eh[eg++]=e):e<65536?(eh[eg++]=205,eh[eg++]=e>>8,eh[eg++]=255&e):(eh[eg++]=206,ep.setUint32(eg,e),eg+=4);else if(e>>0===e)e>=-32?eh[eg++]=256+e:e>=-128?(eh[eg++]=208,eh[eg++]=e+256):e>=-32768?(eh[eg++]=209,ep.setInt16(eg,e),eg+=2):(eh[eg++]=210,ep.setInt32(eg,e),eg+=4);else{let p;if((p=this.useFloat32)>0&&e<4294967296&&e>=-2147483648){eh[eg++]=202,ep.setFloat32(eg,e);let b;if(p<4||(b=e*Q[(127&eh[eg])<<1|eh[eg+1]>>7])>>0===b){eg+=4;return}eg--}eh[eg++]=203,ep.setFloat64(eg,e),eg+=8}}else if(\"object\"===r||\"function\"===r){if(e){if(n){let w=n.get(e);if(w){if(!w.id){let m=n.idsToInsert||(n.idsToInsert=[]);w.id=m.push(w)}eh[eg++]=214,eh[eg++]=112,ep.setUint32(eg,w.id),eg+=4;return}n.set(e,{offset:eg-t})}let k=e.constructor;if(k===Object)S(e,!0);else if(k===Array)g(e);else if(k===Map){if(this.mapAsEmptyObject)eh[eg++]=128;else for(let[I,A]of(($=e.size)<16?eh[eg++]=128|$:$<65536?(eh[eg++]=222,eh[eg++]=$>>8,eh[eg++]=255&$):(eh[eg++]=223,ep.setUint32(eg,$),eg+=4),e))y(I),y(A)}else{for(let v=0,O=el.length;v<O;v++)if(e instanceof eo[v]){let T=el[v];if(T.write){T.type&&(eh[eg++]=212,eh[eg++]=T.type,eh[eg++]=0);let B=T.write.call(this,e);B===e?Array.isArray(e)?g(e):S(e):y(B);return}let L=eh,F=ep,P=eg;eh=null;let z;try{z=T.pack.call(this,e,e=>(eh=L,L=null,(eg+=e)>ey&&U(eg),{target:eh,targetView:ep,position:eg-e}),y)}finally{L&&(eh=L,ep=F,eg=P,ey=eh.length-10)}z&&(z.length+eg>ey&&U(z.length+eg),eg=em(z,eh,eg,T.type));return}if(Array.isArray(e))g(e);else{if(e.toJSON){let E=e.toJSON();if(E!==e)return y(E)}if(\"function\"===r)return y(this.writeFunction&&this.writeFunction(e));S(e,!e.hasOwnProperty)}}}else eh[eg++]=192}else if(\"boolean\"===r)eh[eg++]=e?195:194;else if(\"bigint\"===r){if(e<BigInt(1)<<BigInt(63)&&e>=-(BigInt(1)<<BigInt(63)))eh[eg++]=211,ep.setBigInt64(eg,e);else if(e<BigInt(1)<<BigInt(64)&&e>0)eh[eg++]=207,ep.setBigUint64(eg,e);else if(this.largeBigIntToFloat)eh[eg++]=203,ep.setFloat64(eg,Number(e));else throw RangeError(e+\" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64\");eg+=8}else if(\"undefined\"===r)this.encodeUndefinedAsNil?eh[eg++]=192:(eh[eg++]=212,eh[eg++]=0,eh[eg++]=0);else throw Error(\"Unknown type: \"+r)},b=this.variableMapSize||this.coercibleKeyAsNumber?e=>{let t=Object.keys(e),$=t.length;$<16?eh[eg++]=128|$:$<65536?(eh[eg++]=222,eh[eg++]=$>>8,eh[eg++]=255&$):(eh[eg++]=223,ep.setUint32(eg,$),eg+=4);let r;if(this.coercibleKeyAsNumber)for(let n=0;n<$;n++){let i=Number(r=t[n]);y(isNaN(i)?r:i),y(e[r])}else for(let s=0;s<$;s++)y(r=t[s]),y(e[r])}:(e,$)=>{eh[eg++]=222;let r=eg-t;eg+=2;let n=0;for(let i in e)($||e.hasOwnProperty(i))&&(y(i),y(e[i]),n++);eh[r+++t]=n>>8,eh[r+t]=255&n},w=!1===this.useRecords?b:e.progressiveRecords&&!a?(e,$)=>{let n,i=r.transitions||(r.transitions=Object.create(null)),s=eg++-t,f;for(let u in e)if($||e.hasOwnProperty(u)){if(n=i[u])i=n;else{let l=Object.keys(e),o=i;i=r.transitions;let a=0;for(let c=0,x=l.length;c<x;c++){let d=l[c];!(n=i[d])&&(n=i[d]=Object.create(null),a++),i=n}s+t+1==eg?(eg--,k(i,l,a)):I(i,l,s,a),f=!0,i=o[u]}y(e[u])}if(!f){let h=i[e6];h?eh[s+t]=h:I(i,Object.keys(e),s,0)}}:(e,t)=>{let $,n=r.transitions||(r.transitions=Object.create(null)),i=0;for(let s in e)(t||e.hasOwnProperty(s))&&(!($=n[s])&&($=n[s]=Object.create(null),i++),n=$);let f=n[e6];for(let u in f?f>=96&&a?(eh[eg++]=(31&(f-=96))+96,eh[eg++]=f>>5):eh[eg++]=f:k(n,n.__keys__||Object.keys(e),i),e)(t||e.hasOwnProperty(u))&&y(e[u])},m=\"function\"==typeof this.useRecords&&this.useRecords,S=m?(e,t)=>{m(e)?w(e,t):b(e,t)}:w,U=e=>{let $;if(e>16777216){if(e-t>ed)throw Error(\"Packed buffer would be larger than maximum buffer size\");$=Math.min(ed,4096*Math.round(Math.max((e-t)*(e>67108864?1.25:2),4194304)/4096))}else $=(Math.max(e-t<<2,eh.length-1)>>12)+1<<12;let r=new ec($);return ep=r.dataView||(r.dataView=new DataView(r.buffer,0,$)),e=Math.min(e,eh.length),eh.copy?eh.copy(r,0,t,e):r.set(eh.slice(t,e)),eg-=t,t=0,ey=r.length-10,eh=r},k=(e,t,n)=>{let i=r.nextId;i||(i=64),i<c&&this.shouldShareStructure&&!this.shouldShareStructure(t)?((i=r.nextOwnId)<x||(i=c),r.nextOwnId=i+1):(i>=x&&(i=c),r.nextId=i+1);let s=t.highByte=i>=96&&a?i-96>>5:-1;e[e6]=i,e.__keys__=t,r[i-64]=t,i<c?(t.isShared=!0,r.sharedLength=i-63,$=!0,s>=0?(eh[eg++]=(31&i)+96,eh[eg++]=s):eh[eg++]=i):(s>=0?(eh[eg++]=213,eh[eg++]=114,eh[eg++]=(31&i)+96,eh[eg++]=s):(eh[eg++]=212,eh[eg++]=114,eh[eg++]=i),n&&(h+=_*n),d.length>=o&&(d.shift()[e6]=0),d.push(e),y(t))},I=(e,$,r,n)=>{let i=eh,s=eg,f=ey,u=t;eh=e_,eg=0,t=0,eh||(e_=eh=new ec(8192)),ey=eh.length-10,k(e,$,n),e_=eh;let l=eg;if(eh=i,eg=s,ey=f,t=u,l>1){let o=eg+l-1;o>ey&&U(o);let a=r+t;eh.copyWithin(a+l,a+1,eg),eh.set(e_.slice(0,l),a),eg=o}else eh[r+t]=e_[0]},A=(e,n)=>{let i=e2(e,eh,t,eg,r,U,(e,t,r)=>{if(r)return $=!0;eg=t;let n=eh;return(y(e),p(),n!==eh)?{position:eg,targetView:ep,target:eh}:eg},this);if(0===i)return S(e,!0);eg=i}}useBuffer(e){eh=e,ep=new DataView(eh.buffer,eh.byteOffset,eh.byteLength),eg=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}function eb(e,t,$,r){let n=e.byteLength;if(n+1<256){var{target:i,position:s}=$(4+n);i[s++]=199,i[s++]=n+1}else if(n+1<65536){var{target:i,position:s}=$(5+n);i[s++]=200,i[s++]=n+1>>8,i[s++]=n+1&255}else{var{target:i,position:s,targetView:f}=$(7+n);i[s++]=201,f.setUint32(s,n+1),s+=4}i[s++]=116,i[s++]=t,i.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s)}function ew(e,t){let $=e.byteLength;if($<256){var r,n,{target:r,position:n}=t($+2);r[n++]=196,r[n++]=$}else if($<65536){var{target:r,position:n}=t($+3);r[n++]=197,r[n++]=$>>8,r[n++]=255&$}else{var{target:r,position:n,targetView:i}=t($+5);r[n++]=198,i.setUint32(n,$),n+=4}r.set(e,n)}function em(e,t,$,r){let n=e.length;switch(n){case 1:t[$++]=212;break;case 2:t[$++]=213;break;case 4:t[$++]=214;break;case 8:t[$++]=215;break;case 16:t[$++]=216;break;default:n<256?(t[$++]=199,t[$++]=n):n<65536?(t[$++]=200,t[$++]=n>>8,t[$++]=255&n):(t[$++]=201,t[$++]=n>>24,t[$++]=n>>16&255,t[$++]=n>>8&255,t[$++]=255&n)}return t[$++]=r,t.set(e,$),$+=n}function eS(e,t,$){if(e0.length>0){ep.setUint32(e0.position+e,eg+$-e0.position-e),e0.stringsPosition=eg-e;let r=e0;e0=null,t(r[0]),t(r[1])}}eo=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,p],el=[{pack(e,t,$){let r=e.getTime()/1e3;if((this.useTimestamp32||0===e.getMilliseconds())&&r>=0&&r<4294967296){let{target:n,targetView:i,position:s}=t(6);n[s++]=214,n[s++]=255,i.setUint32(s,r)}else if(r>0&&r<4294967296){let{target:f,targetView:u,position:l}=t(10);f[l++]=215,f[l++]=255,u.setUint32(l,4e6*e.getMilliseconds()+(r/1e3/4294967296>>0)),u.setUint32(l+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),$(this.onInvalidDate());let{target:o,targetView:a,position:c}=t(3);o[c++]=212,o[c++]=255,o[c++]=255}else{let{target:x,targetView:d,position:h}=t(15);x[h++]=199,x[h++]=12,x[h++]=255,d.setUint32(h,1e6*e.getMilliseconds()),d.setBigInt64(h+4,BigInt(Math.floor(r)))}}},{pack(e,t,$){if(this.setAsEmptyObject)return t(0),$({});let r=Array.from(e),{target:n,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=115,n[i++]=0),$(r)}},{pack(e,t,$){let{target:r,position:n}=t(this.moreTypes?3:0);this.moreTypes&&(r[n++]=212,r[n++]=101,r[n++]=0),$([e.name,e.message])}},{pack(e,t,$){let{target:r,position:n}=t(this.moreTypes?3:0);this.moreTypes&&(r[n++]=212,r[n++]=120,r[n++]=0),$([e.source,e.flags])}},{pack(e,t){this.moreTypes?eb(e,16,t):ew(ea?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let $=e.constructor;$!==ex&&this.moreTypes?eb(e,K.indexOf($.name),t):ew(e,t)}},{pack(e,t){let{target:$,position:r}=t(1);$[r]=193}}];let eU=new e4({useRecords:!1}),ek=eU.pack,eI=eU.pack,{NEVER:e8,ALWAYS:eA,DECIMAL_ROUND:e5,DECIMAL_FIT:e3}=en,ev=512,eO=1024,eT=2048;async function*eB(e,t){let $=new e4(t);for await(let r of e)yield $.pack(r)}let eL=function e(t,$={}){if(!t||\"object\"!=typeof t)throw Error(\"first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a promise\");let r=new m($),n,i=e=>{let t;n&&(e=Buffer.concat([n,e]),n=void 0);try{t=r.unpackMultiple(e)}catch($){if($.incomplete)n=e.slice($.lastPosition),t=$.values;else throw $}return t};return\"function\"==typeof t[Symbol.iterator]?function* e(){for(let $ of t)yield*i($)}():\"function\"==typeof t[Symbol.asyncIterator]?async function* e(){for await(let $ of t)yield*i($)}():void 0},eF=function e(t,$={}){if(t&&\"object\"==typeof t){if(\"function\"==typeof t[Symbol.iterator])return function* e(t,$){let r=new e4($);for(let n of t)yield r.pack(n)}(t,$);if(\"function\"==typeof t.then||\"function\"==typeof t[Symbol.asyncIterator])return eB(t,$);else throw Error(\"first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a Promise\")}throw Error(\"first argument must be an Iterable, Async Iterable, or a Promise for an Async Iterable\")};e.ALWAYS=eA,e.C1=g,e.DECIMAL_FIT=e3,e.DECIMAL_ROUND=e5,e.Decoder=m,e.Encoder=e4,e.FLOAT32_OPTIONS=en,e.NEVER=e8,e.Packr=e4,e.REUSE_BUFFER_MODE=ev,e.Unpackr=m,e.addExtension=function e(t){var $;if(t.Class){if(!t.pack&&!t.write)throw Error(\"Extension has no pack or write function\");if(t.pack&&!t.type)throw Error(\"Extension has no type (numeric code to identify the extension)\");eo.unshift(t.Class),el.unshift(t)}($=t).unpack?h[$.type]=$.unpack:h[$.type]=$},e.clearSource=H,e.decode=er,e.decodeIter=eL,e.encode=eI,e.encodeIter=eF,e.isNativeAccelerationEnabled=!1,e.mapsAsObjects=!0,e.pack=ek,e.roundFloat32=function e(t){ei[0]=t;let $=Q[(127&es[3])<<1|es[2]>>7];return($*t+(t>0?.5:-.5)>>0)/$},e.unpack=et,e.unpackMultiple=e$,e.useRecords=!1});\n;// CONCATENATED MODULE: ./client/utils.js\nconst until = (condition, checkInterval=400) => {\r\n    if(!!condition()) return true;\r\n    return new Promise(resolve => {\r\n        let interval = setInterval(() => {\r\n            if (!condition()) return;\r\n            clearInterval(interval);\r\n            resolve();\r\n        }, checkInterval)\r\n    })\r\n}\r\n\r\nconst SCROLL_PARAMS = Object.freeze({\r\n    sensitivity: 10 * 1300,\r\n    minAvgSpeed: 0.5 * 1300,\r\n    maxScrollTime: 150,\r\n    edgeMargin: 117 // out of 900\r\n});\r\n\r\nconst environment = window.environment = typeof location === 'undefined' ? 'server' : ((location.origin.endsWith('8080') || location.href.endsWith('editor')) ? 'editor' : 'client');\r\n\r\nconst memoizedColors = {};\r\n\r\nfunction blendColor(color1, color2, t) {\r\n\tconst memoizedIndex = color1 + '_' + color2 + '_' + t;\r\n\tif (memoizedColors[memoizedIndex] !== undefined) {\r\n\t\treturn memoizedColors[memoizedIndex];\r\n\t}\r\n\tconst rgb1 = {\r\n\t\tr: parseInt(color1.slice(1, 3), 16),\r\n\t\tg: parseInt(color1.slice(3, 5), 16),\r\n\t\tb: parseInt(color1.slice(5, 7), 16)\r\n\t}\r\n\tconst rgb2 = {\r\n\t\tr: parseInt(color2.slice(1, 3), 16),\r\n\t\tg: parseInt(color2.slice(3, 5), 16),\r\n\t\tb: parseInt(color2.slice(5, 7), 16)\r\n\t}\r\n\r\n\tconst result = rgbToHex(Math.floor(rgb1.r * (1 - t) + rgb2.r * t), Math.floor(rgb1.g * (1 - t) + rgb2.g * t), Math.floor(rgb1.b * (1 - t) + rgb2.b * t))\r\n\tmemoizedColors[memoizedIndex] = result;\r\n\treturn result;\r\n}\r\n\r\nfunction rgbToHex(r, g, b) {\r\n\treturn \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n}\r\n\r\nfunction componentToHex(c) {\r\n\tvar hex = c.toString(16);\r\n\treturn hex.length == 1 ? \"0\" + hex : hex;\r\n}\r\n\r\n// function shortAngleDist(a0,a1) {\r\n// \tconst max = Math.PI*2;\r\n// \tconst da = (a1 - a0) % max;\r\n// \treturn 2*da % max - da;\r\n// }\r\n\r\nwindow.jewelBoxUrl = 'https://upload.wikimedia.org/wikipedia/commons/c/c3/A_Snapshot_of_the_Jewel_Box_cluster_with_the_ESO_VLT.jpg';\r\nwindow.decorationImgs = {};\r\nif(typeof Image !== 'undefined'){\r\n\twindow.arrowImg = new Image();\r\n\twindow.starImg = new Image();\r\n\tif(environment === 'editor'){\r\n\t\t// editor\r\n\t\t(async() => {\r\n\t\t\tconst exps = await __webpack_require__.e(/* import() */ 254).then(__webpack_require__.bind(__webpack_require__, 230));\r\n\t\t\twindow.arrowImg = exps.default.arrowImg;\r\n\t\t\twindow.starImg = exps.default.starImg;\r\n\t\t})();\r\n\t} else {\r\n\t\t// client\r\n\t\twindow.arrowImg.src = './gfx/arrow.png';\r\n\t\twindow.starImg.src = window.jewelBoxUrl;\r\n\t}\r\n} else {\r\n\t// server\r\n\twindow.arrowImg = window.starImg = {};\r\n}\r\n\r\nwindow.colourRgb = (r,g,b) => {\r\n\tr = Math.max(Math.min(Number(r), 100), 0) * 2.55;\r\n\tg = Math.max(Math.min(Number(g), 100), 0) * 2.55;\r\n\tb = Math.max(Math.min(Number(b), 100), 0) * 2.55;\r\n\tr = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);\r\n\tg = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);\r\n\tb = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);\r\n\treturn '#' + r + g + b;\r\n}\r\n\r\nif(environment === 'server') global.colourRgb = window.colourRgb;\r\n\r\nwindow.md = (a) => {return (a !== a || a === undefined || a === null) ? 0 : a;}; // make defined\r\nwindow.makeNumber = (a) => {return Number.isFinite(a) === true ? a : 0;};\r\nwindow.makeNotNaN = (a) => {return (a === a) ? a : 0;};\r\nwindow.makeNotNull = (a) => {return a === null ? 0 : a};\r\nwindow.makeNotUndefined = (a) => {return a === undefined ? 0 : a};\r\nwindow.rlt = (a) => {window.loopTrap = 1000; return a;};// reset loop trap\r\nwindow.makeType = (a,typeArr) => {\r\n\tif(typeArr.includes(generateConnectionType(a)) === true)return a;\r\n\treturn defaultTypeMap[typeof a];\r\n}\r\nwindow.generateConnectionType = (val) => {\r\n\tconst type = typeof val;\r\n\tif(type === 'number') return 'Number';\r\n\tif(type === 'string') {\r\n\t  // if(val[0] === '#') return 'Colour';\r\n\t  return ['String', 'Colour'];\r\n\t}\r\n\tif(type === 'boolean') return 'Boolean';\r\n\tif(Array.isArray(val) === true) return 'Array';\r\n\treturn null;\r\n}\r\nconst defaultTypeMap = {undefined: 0, string: '', boolean: true/*glass is half full*/, number: 0, object: []/*exclusively used for blockly, where arrays are the only object*/};\r\n\r\nconst encoder = new TextEncoder();\r\nfunction encodeAtPosition(string, u8array, position) {\r\n\treturn encoder.encodeInto(\r\n\t\tstring,\r\n\t\tposition ? u8array.subarray(position | 0) : u8array,\r\n\t);\r\n}\r\nconst decoder = new TextDecoder();\r\nfunction decodeText(u8array, startPos=0){\r\n\treturn decoder.decode(u8array).slice(startPos);\r\n}\r\n\r\n/* harmony default export */ const utils = ({ until, SCROLL_PARAMS, blendColor, environment, encodeAtPosition, decodeText });\n;// CONCATENATED MODULE: ./eXclient/networking.js\n\r\n\r\n// used for decoding chat messages\r\n\r\nconst {decodeText: networking_decodeText} = utils;\r\n\r\nconst HOST = location.origin.replace(/^http/, 'ws');\r\nlet ws, nextMsgFlag;\r\n\r\nconst messageQueue = [];\r\nwindow.send = (data) => {\r\n    messageQueue.push(data);\r\n}\r\n\r\nfunction initWS() {\r\n    ws = new WebSocket(HOST);\r\n    ws.binaryType = \"arraybuffer\"; // sends messages with binary and stuff o-o yes i am very smart\r\n\r\n    ws.addEventListener(\"message\", function (data) {\r\n        if(nextMsgFlag !== undefined){\r\n            messageMap[nextMsgFlag](data.data);\r\n            nextMsgFlag = undefined;\r\n            return;//\r\n        }\r\n        const decoded = new Uint8Array(data.data);\r\n        messageMap[decoded[0]](decoded);\r\n    });\r\n\r\n    ws.onopen = () => {\r\n        console.log('connected to the server!');\r\n        window.send = (data) => {\r\n            ws.send(data);\r\n        }\r\n        for(let i = 0; i < messageQueue.length; i++){\r\n            send(messageQueue[i]);\r\n        }\r\n    }\r\n\r\n    ws.onclose = () => {\r\n        nextMsgFlag = undefined;\r\n        console.log('Websocket closed.');// Attempting to reconnect...\r\n        // TODO: reconnection.\r\n    }\r\n}\r\n\r\ninitWS();\r\n\r\n// first byte encodes the message type\r\nconst messageMap = [\r\n    // 0 - selfId / all data needed to start game \r\n    (data) => {\r\n        // TODO\r\n    },\r\n    // 1 - reload page (for hot refresh)\r\n    () => {\r\n        location.reload();\r\n    },\r\n    // 2 - init planet\r\n    (data) => {\r\n        // unpack it\r\n        data = msgpackr.unpack(data);\r\n\r\n        window.won = false;\r\n        const [players, obstacleData, mapName, dimensions, selfId] = data;\r\n        fetch(location.origin + `/maps/${mapName}.js`, {method: 'GET'}).then(async (d) => {\r\n            const levelData = await d.text();\r\n\r\n            const prevScript = document.getElementById('gameScript');\r\n            if(prevScript) prevScript.remove();\r\n\r\n            resetGame();\r\n            window.players.length = window.obstacles.length = 0;\r\n            const s = document.createElement('script');\r\n            s.id = \"gameScript\";\r\n            s.text = levelData;\r\n            document.body.appendChild(s);\r\n\r\n            for(let i = 0; i < players.length; i++){\r\n                if(players[i] === undefined) {window.players.push(undefined); continue;}\r\n                const playerData = players[i];\r\n                const p = createPlayerFromData(playerData);\r\n    \r\n                window.players.push(p);// pushing p!!\r\n            }\r\n\r\n            for(let i = 0; i < obstacleData.length; i++){\r\n                const o = window.obstacles[i];\r\n                for(let key in obstacleData[i]){\r\n                    o[key] = obstacleData[i][key];\r\n                }\r\n            }\r\n\r\n            window.mapDimensions = dimensions;\r\n    \r\n            window.selfId = selfId;\r\n    \r\n            window.startGame();\r\n        })\r\n    },\r\n    // 3 - flag next message as type and don't decode it\r\n    (data) => {\r\n        nextMsgFlag = data[1];\r\n    },\r\n    // 4 - player x and y\r\n    (data) => {\r\n        const raw = data.buffer;\r\n        const u16 = new Uint16Array(raw);\r\n        const id = u16[1];\r\n\r\n        if(id === window.selfId) return;\r\n\r\n        const f32 = new Float32Array(raw);\r\n        window.players[id].pos.x = f32[1];\r\n        window.players[id].pos.y = f32[2];\r\n    },\r\n    // 5 - new player\r\n    (data) => {\r\n        let p = createPlayerFromData(msgpackr.unpack(data));\r\n        window.players[p.id] = p;\r\n    },\r\n    // 6 - remove player\r\n    (data) => {\r\n        let id = new Uint16Array(data.buffer)[1];\r\n        window.players[id] = undefined;// make america undefined again\r\n    },\r\n    // 7 - chat message\r\n    (data) => {\r\n        const chatMsg = networking_decodeText(data, 2);\r\n        const type = ['normal', 'system', 'dev', 'guest'][data[1]];\r\n\r\n        const div = document.createElement('div');\r\n        if (type !== 'system') {\r\n            div.classList.add('chat-message');\r\n        } else {\r\n            div.classList.add('system-message');\r\n            // if (data.difficulty != undefined) {\r\n            //     div.classList.add(data.difficulty.toLowerCase());\r\n            // }\r\n        }\r\n        div.innerHTML = `${type === 'system'\r\n            ? '<span class=\"rainbow\">[SERVER]</span>'\r\n            : type === 'dev'\r\n            ? '<span class=\"rainbow\">[DEV]</span> '\r\n            : ''}${type === 'guest' ? '<span class=\"guest\">' : ''}${\r\n                chatMsg\r\n            }${type === 'guest' ? '</span>' : ''}`;\r\n        const chatMessageDiv = document.querySelector('.chat-div');\r\n        chatMessageDiv.appendChild(div);\r\n        chatMessageDiv.scrollTop = chatMessageDiv.scrollHeight;\r\n    }\r\n]\r\n\r\nfunction createPlayerFromData(data){\r\n    const p = window.createPlayer();\r\n\r\n    p.pos.x = data.pos.x;\r\n    p.pos.y = data.pos.y;\r\n    p.name = data.name;\r\n    p.id = data.id;\r\n\r\n    return p;\r\n}\n;// CONCATENATED MODULE: ./client/scroll.js\n\r\nconst { until: scroll_until, environment: scroll_environment } = utils;\r\n\r\nlet nextCode;\r\nconst nextCodeLoaded = () => { return nextCode !== undefined; };\r\nconst isServer = typeof location === 'undefined';\r\nlet reqUrl = isServer === true ? '' : `${location.origin}/game`;\r\nlet loadingCurrent = false;\r\nlet nextFileName = '';\r\nlet lastFileNameStack = [];\r\nlet forwardFileNameStack = [];\r\nwindow.levelFileName = '';\r\n\r\nwindow.isExClient = true;// TEMP\r\n\r\n// never get code from server in editor\r\nif(scroll_environment === 'editor' || scroll_environment === 'server' || window.isExClient === true){\r\n    getNextCode = async () => {\r\n        await scroll_until(() => { return false; })\r\n    };\r\n    scroll_scroll = () => {};\r\n} else if(location.href.includes('standalone') === true){\r\n    window.standalone = true;\r\n    const split = location.href.split('/');\r\n    reqUrl += '/' + split[split.length - 1];\r\n    scroll_scroll = () => {};\r\n} else if(localStorage.getItem('tutorialCompleted') === null) {\r\n    let getNextCodeLoaded = false;\r\n    getNextCode = async () => {\r\n        await scroll_until(() => {return getNextCodeLoaded !== false});\r\n        return getNextCode();\r\n    };\r\n    window.tutorial = true;\r\n    (async () => {\r\n        const exps = await __webpack_require__.e(/* import() */ 186).then(__webpack_require__.bind(__webpack_require__, 186));\r\n        getNextCode = exps.default;\r\n        getNextCodeLoaded = true;\r\n    })();\r\n}\r\n\r\n// get first code\r\ngetNextCode().then(async (code) => {\r\n    // load first request\r\n    nextCode = code;\r\n    replaceScript();\r\n\r\n    if(window.standalone === true){\r\n        getNextCode = async () => {\r\n            await scroll_until(() => { return false; })\r\n        };\r\n        return;\r\n    }\r\n\r\n    // load next code when it arrives\r\n    nextCode = await firstNextCode;\r\n})\r\n\r\n// get next code\r\nlet firstNextCode = getNextCode();\r\n\r\n// on scroll\r\nasync function scroll_scroll(up=false){\r\n    // don't allow scrolling if we're loading the current code\r\n    // it'll look the same to the user anyways\r\n    if(loadingCurrent === true) return;\r\n    if(up === true){\r\n        if(lastFileNameStack.length === 0) return;\r\n        var lastCode = nextCode;\r\n        forwardFileNameStack.push(window.levelFileName);\r\n        nextCode = await getLastCode(lastFileNameStack.pop());\r\n    } else if(window.levelFileName !== ''){\r\n        lastFileNameStack.push(window.levelFileName);\r\n        if(lastFileNameStack.length > 42) lastFileNameStack.shift();\r\n        if(forwardFileNameStack.length !== 0) nextCode = await getLastCode(forwardFileNameStack.pop());\r\n    }\r\n\r\n    window.scrollingUp = up === true;\r\n    window.lastObstacles = [];\r\n    for(let i = 0; i < obstacles.length; i++){\r\n        window.lastObstacles.push(obstacles[i]);\r\n    }\r\n    for(let key in window.colors){\r\n        window.lastColors[key] = window.colors[key];\r\n        window.colors[key] = window.defaultColors[key];\r\n    }\r\n    window.lastPlayerData = [player.pos.x, player.pos.y];\r\n\r\n    // if we already have the next code\r\n    if(nextCode !== undefined){\r\n        // append new script to run second game\r\n        replaceScript();\r\n\r\n        // animation timer\r\n        window.scrollAnimation = 0;\r\n\r\n        // fetch new next code\r\n        if(up === true) nextCode = lastCode;\r\n        else nextCode = await getNextCode();\r\n    } else {\r\n        // loading current, nextcode\r\n        loadingCurrent = true;\r\n\r\n        // load blank screen for now\r\n        removeScript();\r\n\r\n        // animation timer\r\n        window.scrollAnimation = 0;\r\n\r\n        // code is on its way, wait until it gets here\r\n        await scroll_until(nextCodeLoaded, 16.66);\r\n\r\n        // set code\r\n        replaceScript();\r\n\r\n        // unlock mutex\r\n        loadingCurrent = false;\r\n\r\n        // fetch new next code\r\n        nextCode = await getNextCode();\r\n    }\r\n}\r\n\r\nwindow.won = false;\r\nasync function getNextCode(){\r\n    const response = await fetch(reqUrl);\r\n    if (!response.ok) throw new Error(`Failed to fetch ${reqUrl}`);\r\n    nextFileName = response.headers.get('Fn');\r\n    return response.text();\r\n}\r\n\r\nasync function getLastCode(fileName){\r\n    const fileNameWithoutTheJS = fileName.slice(0, fileName.length-3);\r\n    const response = await fetch(reqUrl + '/' + fileNameWithoutTheJS);\r\n    if (!response.ok) throw new Error(`Failed to fetch ${reqUrl}`);\r\n    nextFileName = fileName;\r\n    return response.text();\r\n}\r\n\r\n// replaces code running with nextCode\r\nasync function replaceScript(){\r\n    removeScript();\r\n\r\n    window.resetGame();\r\n    stopMusic();\r\n\r\n    const scriptElement = document.createElement('script');\r\n    scriptElement.id = \"gameScript\";\r\n    scriptElement.text = nextCode;\r\n    document.body.appendChild(scriptElement);\r\n\r\n    nextCode = undefined;\r\n    window.levelFileName = nextFileName;\r\n}\r\n\r\nwindow.removeScript = function removeScript(){\r\n    const last = document.getElementById(\"gameScript\");\r\n    if(last !== null) last.remove();\r\n    window.resetGame();\r\n    stopMusic();\r\n}\r\n\r\nwindow.resetGame = () => {\r\n    window.obstacles.length = window.mouseUpFunctions.length = window.mouseDownFunctions.length = window.mouseMoveFunctions.length = 0;\r\n    if(window.environment !== 'editor') {window.respawnPlayer(); /*player.renderRadius = player.sat.r;*/ }\r\n    else {window.infiniteLoop = false;}\r\n    for(let key in window.defaultColors) { window.colors[key] = window.defaultColors[key]; }\r\n    if(window.colors.vignette !== undefined) window.colors.vignette = structuredClone(window.defaultColors.vignette);\r\n    window.mouseDownFunctions.push(() => {\r\n        if(player.dead === true) window.respawnPlayer();\r\n    })\r\n    if(window.addSideMenuEvtListeners !== undefined) window.addSideMenuEvtListeners(nextFileName);\r\n    window.spawnPosition.x = 100;\r\n    window.spawnPosition.y = 1500;\r\n    const player = window.players[window.selfId];\r\n    if(player !== undefined){\r\n        player.sat.r = 49.5;\r\n        player.speed = player.baseSpeed = 0.43;\r\n    }\r\n    window.idToObs = {};\r\n}\r\n\r\n/* harmony default export */ const client_scroll = (scroll_scroll);\n;// CONCATENATED MODULE: ./client/components.js\n\r\nconst { environment: components_environment, blendColor: components_blendColor, encodeAtPosition: components_encodeAtPosition } = utils;\r\n\r\nlet toScroll = false;\r\n\r\nwindow.respawnPlayer = () => {\r\n    const player = window.players[window.selfId];\r\n    if(player === undefined) return;\r\n    player.pos.x = window.spawnPosition.x;\r\n    player.pos.y = window.spawnPosition.y;\r\n    player.renderRadius = 0;\r\n    player.dead = false;\r\n    player.forces.length = 0;\r\n    if(dragging === true) {window.onmouseup(); dragging = true;}\r\n    else window.onmouseup();\r\n}\r\n\r\nconst SAT = window.SAT;\r\nSAT.Circle.prototype.rotate = function (angle) {\r\n    this.pos.rotate(angle);\r\n}\r\n\r\nfunction create(shape, simulates, effects, params){\r\n    const e = {\r\n        sat: satMap[shape](params),\r\n        simulate: [],\r\n        effect: [],\r\n        renderShape: renderShapeMap[shape],\r\n        renderEffect: effects.map(e => renderEffectMap[e]),\r\n    };\r\n    e.renderEffectTimer = 0;\r\n    e.pos = e.sat.pos;\r\n    if(shape === 0) e.sat.r = Math.max(e.sat.r, 0.001);\r\n    else if(shape === 3) {e.isText = true; e.text = params.text; e.fontSize = params.fontSize; }\r\n    for(let key in window.satConstraintsMap[shape]){\r\n        // [min, max, mustBeInt, customValidator(e)]\r\n        const c = window.satConstraintsMap[shape][key];\r\n        if(c[2] === true) e[key] = Math.round(e[key]);\r\n        if(e[key] < c[0]) e[key] = c[0];\r\n        else if(e[key] > c[1]) e[key] = c[1];\r\n    }\r\n    e.dimensions = generateDimensions(e);\r\n    for(let i = 0; i < simulates.length; i++){\r\n        e.simulate.push(simulateMap[simulates[i]]);\r\n        initSimulateMap[simulates[i]](e, params);\r\n        for(let key in window.simulateConstraintsMap[simulates[i]]){\r\n            // [min, max, mustBeInt, customValidator(e)]\r\n            const c = window.simulateConstraintsMap[simulates[i]][key];\r\n            if(c[2] === true) e[key] = Math.round(e[key]);\r\n            if(e[key] < c[0]) e[key] = c[0];\r\n            else if(e[key] > c[1]) e[key] = c[1];\r\n        }\r\n    }\r\n    for(let i = 0; i < effects.length; i++){\r\n        e.effect.push(effectMap[effects[i]]);\r\n        initEffectMap[effects[i]](e, params);\r\n        if(idleEffectMap[effects[i]] !== undefined) e.simulate.push(idleEffectMap[effects[i]]);\r\n        for(let key in window.effectConstraintsMap[effects[i]]){\r\n            // [min, max, mustBeInt, customValidator(e)]\r\n            const c = window.effectConstraintsMap[effects[i]][key];\r\n            if(c[2] === true) e[key] = Math.round(e[key]);\r\n            if(e[key] < c[0]) e[key] = c[0];\r\n            else if(e[key] > c[1]) e[key] = c[1];\r\n        }\r\n    }\r\n    if(params.sf !== undefined) e.simulate.push(params.sf);\r\n    if(params.ef !== undefined) {e.effect.push(params.ef); e.renderEffect.push(renderEffectMap[3]);}\r\n    \r\n    components_obstacles.push(e);\r\n\r\n    // fixing polygon points if they're dynamically generated\r\n    if(params.fixPoly !== undefined){\r\n        if(components_environment === 'editor'){\r\n            e.sat.setPoints(window.fixPolygon(params.points).map(pt => new SAT.Vector(pt[0], pt[1])));\r\n            e.dimensions = generateDimensions(e);\r\n        } else {\r\n            (async()=>{\r\n                await __webpack_require__.e(/* import() */ 281).then(__webpack_require__.bind(__webpack_require__, 281));\r\n                e.sat.setPoints(window.fixPolygon(params.points).map(pt => new SAT.Vector(pt[0], pt[1])));\r\n                e.dimensions = generateDimensions(e);\r\n            })();\r\n        }\r\n    }\r\n}\r\nwindow.C = create;\r\nwindow.idToObs = {};\r\nwindow.tickFns = [];\r\n\r\nfunction components_interpolate(start, end, t){\r\n    return (1-t) * start + t * end;\r\n}\r\n\r\nlet res = new SAT.Response();\r\nlet angle, collided = false;\r\nfunction simulate(){\r\n    // player simulation\r\n    const player = window.players[window.selfId];\r\n\r\n    if(window.isExClient === true){\r\n        player.renderRadius = components_interpolate(player.renderRadius, player.sat.r, dt * 1 / 90);\r\n    } else {\r\n        player.renderRadius = player.renderRadius * 0.83 + player.sat.r * 0.17;\r\n    }\r\n\r\n    if(window.isExClient === true && player.dead === false) {\r\n        player.xa = (input.right - input.left) * player.speed * player.axisSpeedMultX * dt / 16.66;\r\n        player.ya = (input.down - input.up) * player.speed * player.axisSpeedMultY * dt / 16.66;\r\n\r\n        if(input.shift === true) {\r\n            if(player.god === true){\r\n                player.xa *= 3;\r\n                player.ya *= 3;\r\n            } else {\r\n                player.xa *= 0.5;\r\n                player.ya *= 0.5;\r\n            }\r\n        }\r\n\r\n        player.xv += player.xa;\r\n        player.yv += player.ya;\r\n\r\n        player.pos.x += player.xv * dt;\r\n        player.pos.y += player.yv * dt;\r\n\r\n        player.xv *= Math.pow(0.4, dt / 16.66)//interpolate(player.xv, 0, 1 - Math.exp(player.friction * dt / 16.66));\r\n        player.yv *= Math.pow(0.4, dt / 16.66)//1 - Math.exp(player.friction * dt / 16.66);\r\n    } else if(window.dragging === true && player.dead === false){\r\n        if(player.axisSpeedMultX === 0 || player.axisSpeedMultY === 0) angle = Math.atan2((window.mouseY - player.pos.y), (window.mouseX - player.pos.x));\r\n        else angle = Math.atan2((window.mouseY - player.pos.y) * player.axisSpeedMultX, (window.mouseX - player.pos.x) * player.axisSpeedMultY);\r\n        player.xv = Math.cos(angle) * player.speed * player.axisSpeedMultX;\r\n        player.yv = Math.sin(angle) * player.speed * player.axisSpeedMultY;\r\n        if(Math.abs(player.xv) > Math.abs(player.pos.x - window.mouseX)) player.xv = window.mouseX - player.pos.x;\r\n        if(Math.abs(player.yv) > Math.abs(player.pos.y - window.mouseY)) player.yv = window.mouseY - player.pos.y;\r\n        player.pos.x += player.xv;\r\n        player.pos.y += player.yv;\r\n    } else {\r\n        player.xv = player.yv = 0;\r\n    }\r\n    player.axisSpeedMultX = player.axisSpeedMultY = 1;\r\n\r\n    if(player.stopForces === true){\r\n        player.stopForces = false;\r\n        player.forces.length = 0;\r\n    } else {\r\n        for(let i = 0; i < player.forces.length; i++){\r\n            // [x, y, decay]\r\n            player.pos.x += player.forces[i][0];\r\n            player.pos.y += player.forces[i][1];\r\n            player.forces[i][0] *= Math.pow(player.forces[i][2], dt / 16.66);\r\n            player.forces[i][1] *= Math.pow(player.forces[i][2], dt / 16.66);\r\n            if(Math.abs(player.forces[i][0]) < 0.01 && Math.abs(player.forces[i][1]) < 0.01){\r\n                player.forces.splice(i,1);\r\n                i--;\r\n                continue;\r\n            }\r\n        }\r\n    }    \r\n\r\n    if(player.dead === true){\r\n        player.renderRadius = player.lastAliveRadius;\r\n        for(let i = 0; i < components_obstacles.length; i++){\r\n            // obstacle simulation\r\n            for(let j = 0; j < components_obstacles[i].simulate.length; j++){\r\n                components_obstacles[i].simulate[j](components_obstacles[i]);\r\n            }\r\n        }\r\n    } else {\r\n        player.lastAliveRadius = player.sat.r;\r\n        if(player.god !== true){\r\n            if(player.pos.x - player.sat.r < 0) player.pos.x = player.sat.r;\r\n            else if(player.pos.x + player.sat.r > window.mapDimensions.x) player.pos.x = window.mapDimensions.x - player.sat.r;\r\n            if(player.pos.y - player.sat.r < 0) player.pos.y = player.sat.r;\r\n            else if(player.pos.y + player.sat.r > window.mapDimensions.y) player.pos.y = window.mapDimensions.y - player.sat.r;\r\n        \r\n            for(let i = 0; i < components_obstacles.length; i++){\r\n                // collision (done before simulation because that is what last rendered frame sees)\r\n                // TODO: bounding box check\r\n                if(components_obstacles[i].sat.r !== undefined){\r\n                    collided = SAT.testCircleCircle(components_obstacles[i].sat, player.sat, res);\r\n                } else {\r\n                    collided = SAT.testPolygonCircle(components_obstacles[i].sat, player.sat, res);\r\n                }\r\n                if(collided === true){\r\n                    for(let j = 0; j < components_obstacles[i].effect.length; j++){\r\n                        components_obstacles[i].effect[j](player, res, components_obstacles[i], i);\r\n                    }\r\n                }\r\n                res.clear();// TODO: test if this is really needed\r\n        \r\n                // obstacle simulation\r\n                for(let j = 0; j < components_obstacles[i].simulate.length; j++){\r\n                    components_obstacles[i].simulate[j](components_obstacles[i], player);\r\n                }\r\n            }\r\n        } else {\r\n            // just do simulation if in godmode\r\n            for(let i = 0; i < components_obstacles.length; i++){\r\n                for(let j = 0; j < components_obstacles[i].simulate.length; j++){\r\n                    components_obstacles[i].simulate[j](components_obstacles[i], player);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if(player.touchingNormalIndexes.length !== 0 || player.lastTouchingNormalIndexes.length !== 0){\r\n        player.lastTouchingNormalIndexes = player.touchingNormalIndexes;\r\n        player.touchingNormalIndexes = [];\r\n    }\r\n\r\n    if(player.onSafe === true){\r\n        player.onSafe = false;\r\n        player.dead = false;\r\n    }\r\n\r\n    // bounding the player by the walls\r\n    player.touchingWall = false;\r\n    if(player.sat.r > 900) player.sat.r = 900;\r\n\r\n    if(player.god !== true){\r\n        if(player.pos.x - player.sat.r < 0){\r\n            player.pos.x = player.sat.r;\r\n            player.touchingWall = true;\r\n        } else if(player.pos.x + player.sat.r > mapDimensions.x){\r\n            player.pos.x = mapDimensions.x - player.sat.r;\r\n            player.touchingWall = true;\r\n        }\r\n        if(player.pos.y - player.sat.r < 0){\r\n            player.pos.y = player.sat.r;\r\n            player.touchingWall = true;\r\n        } else if(player.pos.y + player.sat.r > mapDimensions.y){\r\n            player.pos.y = mapDimensions.y - player.sat.r;\r\n            player.touchingWall = true;\r\n        }\r\n    } else {\r\n        player.dead = false;\r\n    }\r\n\r\n    if(window.tickFns.length > 0){\r\n        for(let i = 0; i < window.tickFns.length; i++){\r\n            window.tickFns[i]();\r\n        }\r\n        window.tickFns.length = 0;\r\n    }\r\n\r\n    // scrolling if specified by a simulate type\r\n    if(toScroll === true){\r\n        toScroll = false;\r\n        if(window.dragging === true) window.onmouseup();\r\n        client_scroll();\r\n    }\r\n\r\n    // (rendering happens in between)\r\n}\r\n\r\n// 0 - circle, 1 - polygon\r\nconst collisionMatrix = [\r\n    SAT.testCircleCircle, SAT.testCirclePolygon,\r\n    SAT.testPolygonCircle, SAT.testPolygonPolygon\r\n]\r\nwindow.collide = (a,b) => {\r\n    res.hasCollided = collisionMatrix[(a.sat.r === undefined) * 2 + (b.sat.r === undefined)](a.sat, b.sat, res);\r\n    return res;// make sure to clear after use!\r\n}\r\nwindow.boundAB = (a,b) => {\r\n    const res = window.collide(a,b);\r\n    if(res.hasCollided === true) {\r\n        a.pos.x -= res.overlapV.x;\r\n        a.pos.y -= res.overlapV.y;\r\n    }\r\n    res.clear();\r\n}\r\nwindow.isABColliding = (a,b) => {\r\n    if(a === undefined || b === undefined) return false;\r\n    const res = window.collide(a,b);\r\n    const hasCollided = res.hasCollided;\r\n    res.clear();\r\n    return hasCollided;\r\n}\r\n\r\nconst satMap = [\r\n    /*circle*/\r\n    (p) => {\r\n        // x,y,r\r\n        return new SAT.Circle(new SAT.Vector(p.x, p.y), p.r);\r\n    },\r\n    /*rectangle*/\r\n    (p) => {\r\n        // x,y,w,h\r\n        return new SAT.Box(new SAT.Vector(p.x, p.y), p.w, p.h).toPolygon();\r\n    },\r\n    /*polygon*/\r\n    (p) => {\r\n        // points: [[x,y], ...]\r\n        if(p.points.length < 2) p.points = window.satDefaultMap[2].points;\r\n        p.x = 0; p.y = 0;\r\n        const s = new SAT.Polygon(new SAT.Vector(), p.points.map(pt => new SAT.Vector(pt[0], pt[1])));\r\n        s.pos.x = p.x;\r\n        s.pos.y = p.y;\r\n        return s;\r\n    },\r\n    /*text*/\r\n    (p) => {\r\n        if(window.isServer === true) return new SAT.Box(new SAT.Vector(p.x, p.y), 100, 100).toPolygon();\r\n        ctx.textAlign = 'center';\r\n        ctx.textBaseline = 'middle';\r\n        ctx.font = `${p.fontSize}px Inter`;\r\n        const dimensions = ctx.measureText(p.text);\r\n        const w = dimensions.actualBoundingBoxRight + dimensions.actualBoundingBoxLeft;\r\n        const h = dimensions.actualBoundingBoxDescent + dimensions.actualBoundingBoxAscent;\r\n        const s = new SAT.Box(new SAT.Vector(p.x - w / 2, p.y - h / 2), w, h).toPolygon();\r\n        return s;\r\n    }\r\n];\r\n\r\n// font loading fix\r\nfunction fixFonts() {\r\n    const os = window.obstacles;\r\n    for(let i = 0; i < os.length; i++){\r\n        if(os[i].isText !== true) continue;\r\n        const oldDimensions = os[i].dimensions;\r\n        os[i].dimensions = generateDimensions(os[i]);\r\n        os[i].pos.x += (oldDimensions.x - os[i].dimensions.x) / 2;\r\n        os[i].pos.y += (oldDimensions.y - os[i].dimensions.y) / 2;\r\n    }\r\n}\r\nsetTimeout(fixFonts, 1000);\r\nsetTimeout(fixFonts, 3000);\r\n\r\nfunction generateDimensions(o){\r\n    const sat = o.sat;\r\n    if(sat.r !== undefined){\r\n        return {\r\n            x: sat.r * 2,\r\n            y: sat.r * 2\r\n        }\r\n    }\r\n    \r\n    if(o.isText === true){\r\n        ctx.textAlign = 'center';\r\n        ctx.textBaseline = 'middle';\r\n        ctx.font = `${o.fontSize}px Inter`;\r\n        const dimensions = ctx.measureText(o.text);\r\n        return {\r\n            x: dimensions.actualBoundingBoxRight + dimensions.actualBoundingBoxLeft,\r\n            wOffset: (dimensions.actualBoundingBoxRight - dimensions.actualBoundingBoxLeft) / 2,\r\n            y: dimensions.actualBoundingBoxDescent + dimensions.actualBoundingBoxAscent,\r\n            hOffset: (dimensions.actualBoundingBoxDescent - dimensions.actualBoundingBoxAscent) / 2// *0.75?\r\n        }\r\n    }\r\n    \r\n    let top, right, bottom, left;\r\n    bottom = right = -Infinity;\r\n    top = left = Infinity;\r\n    for(let p of sat.points){\r\n        if(p.x < left) left = p.x;\r\n        if(p.x > right) right = p.x;\r\n        if(p.y > bottom) bottom = p.y;\r\n        if(p.y < top) top = p.y;\r\n    }\r\n\r\n    return {\r\n        x: right - left,\r\n        y: bottom - top\r\n    }\r\n}\r\nwindow.generateDimensions = generateDimensions;\r\n\r\nfunction generateTopLeftCoordinates(o){\r\n    let topLeftX = o.pos.x, topLeftY = o.pos.y;\r\n    if(o.sat.r !== undefined) {\r\n        topLeftX -= o.sat.r;\r\n        topLeftY -= o.sat.r; \r\n    } else {\r\n        let minX = Infinity;\r\n        let minY = Infinity;\r\n        for(let i = 0; i < o.sat.points.length; i++){\r\n            if(o.sat.points[i].x < minX) minX = o.sat.points[i].x;\r\n            if(o.sat.points[i].y < minY) minY = o.sat.points[i].y;\r\n        }\r\n        topLeftX += minX;\r\n        topLeftY += minY;\r\n    }\r\n    return [topLeftX, topLeftY];\r\n}\r\nwindow.generateTopLeftCoordinates = generateTopLeftCoordinates;\r\n\r\nwindow.satMapI2N = [\r\n    'circle',\r\n    'rectangle',\r\n    'polygon',\r\n    'text'\r\n];\r\n\r\nwindow.satConstraintsMap = [\r\n    undefined,\r\n    undefined,\r\n    undefined,\r\n    {fontSize: [1]}\r\n];\r\n\r\nwindow.satDefaultMap = [\r\n    // circle\r\n    {\r\n        x: 450,\r\n        y: 800,\r\n        r: 120\r\n    },\r\n    // rectangle\r\n    {\r\n        x: 300,\r\n        y: 700,\r\n        w: 300,\r\n        h: 200\r\n    },\r\n    // polygon\r\n    {\r\n        points: [[300,700],[600,700],[450,900]],\r\n    },\r\n    // text\r\n    {\r\n        x: 450,\r\n        y: 800,\r\n        text: ['Why hello there', 'I am a text :D', 'Evades X', 'Taste the Edge.'][Math.floor(Math.random() * 4)],\r\n        fontSize: 80,\r\n    }\r\n]\r\n\r\nconst TAU = Math.PI * 2;\r\nconst renderShapeMap = [\r\n    /*circle*/\r\n    (o) => {\r\n        ctx.arc(o.pos.x, o.pos.y, o.sat.r, 0, TAU);\r\n    },\r\n    /*rectangle*/\r\n    (o) => {\r\n        // o.sat.calcPoints[0] is at 0,0 so we can drop that from the first two args\r\n        if(o.rotation !== undefined){\r\n            renderShapeMap[2](o);\r\n            return;\r\n        }\r\n        ctx.rect(o.pos.x, o.pos.y, o.dimensions.x, o.dimensions.y);\r\n    },\r\n    /*polygon*/\r\n    (o) => {\r\n        for(let i = 0; i < o.sat.points.length; i++){\r\n            ctx.lineTo(o.pos.x + o.sat.points[i].x, o.pos.y + o.sat.points[i].y);\r\n        }\r\n        ctx.lineTo(o.pos.x + o.sat.points[0].x, o.pos.y + o.sat.points[0].y);\r\n    },\r\n    /*text*/\r\n    (o) => {\r\n        // draw rectangle for clipping purposes\r\n        renderShapeMap[1](o);\r\n    }\r\n]\r\n\r\nconst initSimulateMap = [\r\n    /*pathMove*/\r\n    (o, init) => {\r\n\t\to.path = init.path;// like [[x,y,speed], ...]\r\n\r\n        // filtering out consecutive duplicates\r\n        for(let i = o.path.length-1; i >= 1; i--){\r\n            if(o.path[i][0] === o.path[i-1][0] && o.path[i][1] === o.path[i-1][1]) o.path.splice(i,1);\r\n        }\r\n\r\n        if(o.path.length < 2) o.path = window.simulateDefaultMap[0].path;\r\n\r\n        o.currentPoint = Math.floor(init.currentPoint) % o.path.length;\r\n\r\n        o.pointOn = o.path[o.currentPoint];\r\n        o.speed = o.pointOn[2];\r\n        \r\n        let nextPointIndex = o.currentPoint + 1;\r\n        if (nextPointIndex === o.path.length) nextPointIndex = 0;\r\n        \r\n        o.pointTo = o.path[nextPointIndex];\r\n        angle = Math.atan2(o.pointTo[1] - o.pointOn[1], o.pointTo[0] - o.pointOn[0]);\r\n        o.xv = Math.cos(angle) * o.speed;\r\n        o.yv = Math.sin(angle) * o.speed;\r\n\r\n        o.timeRemain = Math.sqrt((o.pointOn[0] - o.pointTo[0])**2 + (o.pointOn[1] - o.pointTo[1])**2) / o.speed;\r\n        \r\n        const fractionalPointOffset = init.currentPoint - Math.floor(init.currentPoint);\r\n        if(fractionalPointOffset !== 0){\r\n            const newTimeRemain = o.timeRemain * (1 - fractionalPointOffset);\r\n            const delta = o.timeRemain - newTimeRemain;\r\n            o.pos.x += delta * o.xv;\r\n            o.pos.y += delta * o.yv;\r\n            o.timeRemain = newTimeRemain;\r\n        }\r\n\r\n        o.pos.x += o.pointOn[0] - o.path[0][0];\r\n        o.pos.y += o.pointOn[1] - o.path[0][1];\r\n    },\r\n    // /*rotate*/\r\n    (o, init) => {\r\n        o.pivotX = init.pivotX;\r\n        o.pivotY = init.pivotY;\r\n        o.rotation = 0;\r\n        if(init.initialRotation !== 0 && init.initialRotation !== undefined){\r\n            let lastDt = window.dt;\r\n            window.dt = 1000 / 60;\r\n            o.rotateSpeed = init.initialRotation * Math.PI / 180;\r\n            simulateMap[1](o);\r\n            window.dt = lastDt;\r\n        }\r\n        o.rotateSpeed = init.rotateSpeed;\r\n    },\r\n    // /*grow*/\r\n    (o, init) => {\r\n        o.growSpeed = init.growSpeed;\r\n        o.shrinkSpeed = init.shrinkSpeed;\r\n        o.maxGrowth = init.maxGrowth;\r\n        o.minGrowth = init.minGrowth;\r\n        o.growing = init.toStartGrowing;\r\n        o.growth = o.lastGrowth = init.startGrowth;\r\n    },\r\n    // /*custom*/\r\n    () => {},\r\n    // /*id*/\r\n    (o, init) => {\r\n        let id = init.id.toString().trim();\r\n        if(window.idToObs[id] !== undefined && components_environment === 'editor') alert(`Warning! Duplicate id \"${id}\" found! Duplicate ids override each other.`);\r\n        window.idToObs[id] = o;\r\n    }\r\n]\r\n\r\nconst simulateMap = [\r\n    /*pathMove*/\r\n    (o) => {\r\n        o.pos.x += o.xv * dt;\r\n        o.pos.y += o.yv * dt;\r\n\r\n        o.timeRemain -= dt;\r\n        if (o.timeRemain <= 0) {\r\n            o.currentPoint++;\r\n            if (o.currentPoint === o.path.length) o.currentPoint = 0;\r\n            \r\n            o.pointOn = o.path[o.currentPoint];\r\n            o.speed = o.pointOn[2];\r\n    \r\n            // snapping back to the point that we should be on\r\n            o.pos.x += o.xv * o.timeRemain;\r\n            o.pos.y += o.yv * o.timeRemain;\r\n    \r\n            let nextPointIndex = o.currentPoint + 1;\r\n            if (nextPointIndex === o.path.length) nextPointIndex = 0;\r\n            \r\n            o.pointTo = o.path[nextPointIndex];\r\n    \r\n            angle = Math.atan2(o.pointTo[1] - o.pointOn[1], o.pointTo[0] - o.pointOn[0]);\r\n            o.xv = Math.cos(angle) * o.speed;\r\n            o.yv = Math.sin(angle) * o.speed;\r\n            \r\n            let dist = Math.sqrt((o.pointOn[0]-o.xv*o.timeRemain - o.pointTo[0])**2 + (o.pointOn[1]-o.yv*o.timeRemain - o.pointTo[1])**2);\r\n            \r\n            if((o.xv ** 2 + o.yv ** 2) * (o.timeRemain ** 2) > dist){\r\n                // we've overshot the next point, just stay on the inital point (no sync)\r\n                dist = Math.sqrt((o.pointOn[0] - o.pointTo[0])**2 + (o.pointOn[1] - o.pointTo[1])**2);\r\n            } else {\r\n                // correct to next pt (sync)\r\n                o.pos.x -= o.xv * o.timeRemain;\r\n                o.pos.y -= o.yv * o.timeRemain;\r\n            }\r\n\r\n            // time = distance / speed\r\n            o.timeRemain = dist / o.speed;\r\n        }\r\n    },\r\n    /*rotate*/\r\n    (o) => {\r\n        if(o.sat.r !== undefined){\r\n            o.pos.x -= o.pivotX;\r\n            o.pos.y -= o.pivotY;\r\n            o.sat.rotate(o.rotateSpeed * dt);\r\n            o.pos.x += o.pivotX;\r\n            o.pos.y += o.pivotY;\r\n        } else {\r\n            o.sat.translate(o.pos.x-o.pivotX, o.pos.y-o.pivotY);\r\n            o.sat.rotate(o.rotateSpeed * dt);\r\n            o.sat.translate(o.pivotX-o.pos.x, o.pivotY-o.pos.y);\r\n        }\r\n        \r\n        o.rotation += o.rotateSpeed * dt;\r\n        o.dimensions = generateDimensions(o);\r\n    },\r\n    /*grow*/\r\n    (o) => {\r\n        if(o.growing === true) {\r\n            o.growth += o.growSpeed * dt;\r\n            if(o.growth >= o.maxGrowth){\r\n                o.growing = false;\r\n                o.growth = o.maxGrowth;\r\n            }\r\n        }\r\n        else {\r\n            o.growth -= o.shrinkSpeed * dt;\r\n            if(o.growth <= o.minGrowth){\r\n                o.growing = true;\r\n                o.growth = o.minGrowth;\r\n            }\r\n        }\r\n\r\n        const growthRatio = o.growth / o.lastGrowth;\r\n\r\n        if(o.sat.r !== undefined){\r\n            // circle\r\n            o.sat.r *= growthRatio;\r\n        } else {\r\n            // poly\r\n            let [middleX, middleY] = generateTopLeftCoordinates(o);\r\n            middleX += o.dimensions.x / 2;\r\n            middleY += o.dimensions.y / 2;\r\n\r\n            for(let i = 0; i < o.sat.points.length; i++){\r\n                o.sat.points[i].x = (o.sat.points[i].x + o.pos.x - middleX) * growthRatio - o.pos.x + middleX;\r\n                o.sat.points[i].y = (o.sat.points[i].y + o.pos.y - middleY) * growthRatio - o.pos.y + middleY;\r\n            }\r\n            o.sat.setPoints(o.sat.points);\r\n\r\n            if(o.isText === true){\r\n                o.fontSize *= growthRatio;\r\n            }\r\n        }\r\n\r\n        o.dimensions = generateDimensions(o);\r\n        o.lastGrowth = o.growth;\r\n    },\r\n    /*custom*/\r\n    () => {},\r\n    /*id*/\r\n    () => {}\r\n]\r\n\r\nwindow.simulateMapI2N = [\r\n    'pathMove',\r\n    'rotate',\r\n    'grow',\r\n    'custom',\r\n    'id'\r\n]\r\n\r\nwindow.simulateDefaultMap = [\r\n    // pathMove\r\n    {\r\n        currentPoint: 0,\r\n        path: [[0,0,1],[100,0,2],[0,100,3]],\r\n    },\r\n    // rotate\r\n    {\r\n        initialRotation: 0,\r\n        rotateSpeed: 0.01,\r\n        pivotX: 450,\r\n        pivotY: 800\r\n    },\r\n    // grow\r\n    {\r\n        growSpeed: 0.006,\r\n        shrinkSpeed: 0.006,\r\n        maxGrowth: 1.25,\r\n        minGrowth: 1,\r\n        startGrowth: 1,\r\n        toStartGrowing: true,\r\n    },\r\n    // custom\r\n    {},\r\n    // id\r\n    {\r\n        id: 'uniqueId'\r\n    }\r\n]\r\n\r\nwindow.simulateConstraintsMap = [\r\n    {currentPoint: [0]},\r\n    undefined,\r\n    {growSpeed: [0], shrinkSpeed: [0], minGrowth: [0.001], maxGrowth: [0.001]},\r\n    undefined,\r\n    undefined,\r\n];\r\n\r\nconst initEffectMap = [\r\n    /*bound*/\r\n    () => {},\r\n    /*kill*/\r\n    (o, params) => {\r\n        o.collidable = params.collidable ?? true;\r\n    },\r\n    /*bounce*/\r\n    (o, params) => {\r\n        // bounciness, decay\r\n        o.bounciness = params.bounciness;\r\n        o.decay = params.decay;\r\n    },\r\n    /*custom*/\r\n    () => {},\r\n    /*customImage*/\r\n    (o, params) => {\r\n        o.img = typeof Image === 'undefined' ? {} : new Image();\r\n        o.img.src = params.url;\r\n        o.imgLoaded = false;\r\n        o.img.onload = () => {o.imgLoaded = true;}\r\n    },\r\n    /*stopForces*/\r\n    () => {},\r\n    /*winpad*/\r\n    (o, params) => {\r\n        o.isWinpad = true;\r\n    },\r\n    /*coin*/\r\n    (o, params) => {\r\n        o.collected = false;\r\n        o.coinAmount = params.coinAmount;\r\n        o.color = params.color;\r\n    },\r\n    /*coindoor*/\r\n    (o, params) => {\r\n        o.isCoindoor = true;\r\n        o.maxCoins = o.coins = params.coindoorCoinAmount;\r\n        o.coinDoorColor = params.coinDoorColor;\r\n    },\r\n    /*checkpoint*/\r\n    (o, params) => {\r\n        o.collected = false;\r\n        o.checkpointOffsetX = params.checkpointOffsetX;\r\n        o.checkpointOffsetY = params.checkpointOffsetY;\r\n    },\r\n    /*breakable*/\r\n    (o, params) => {\r\n        o.maxStrength = params.maxStrength;//60\r\n        o.strength = o.maxStrength;\r\n        o.regenTime = params.regenTime;\r\n        o.lastBrokeTime = -1E99;\r\n        o.healSpeed = params.healSpeed;\r\n    },\r\n    /*safe*/\r\n    () => {},\r\n    /*tp*/\r\n    (o, params) => {\r\n        o.tpx = params.tpx;\r\n        o.tpy = params.tpy;\r\n    },\r\n    /*conveyor*/\r\n    (o, params) => {\r\n        o.conveyorForce = params.conveyorForce;\r\n        o.conveyorAngle = params.conveyorAngle * Math.PI / 180;\r\n        o.conveyorAngleRotateSpeed = params.conveyorAngleRotateSpeed * Math.PI/180;\r\n        o.conveyorFriction = params.conveyorFriction;\r\n    },\r\n    /*platformer*/\r\n    (o, params) => {\r\n        o.platformerForce = params.platformerForce;\r\n        o.platformerAngle = params.platformerAngle * Math.PI/180;\r\n        o.platformerAngleRotateSpeed = params.platformerAngleRotateSpeed * Math.PI/180;\r\n        o.platformerFriction = params.platformerFriction;\r\n\r\n        // o.maxJumps = params.maxJumps// TODO: IMPLEMENT JUMPS. also TODO: add a preserve jump parameter that makes jumps conserve even if you are not bounded that frame. If disabled, platformer only lets you jump when you're on a plat THAT FRAME\r\n        o.maxJumpCooldown = params.maxJumpCooldown;// in ticks\r\n        o.jumpCooldown = 0;\r\n        o.jumpForce = params.jumpForce;\r\n        o.jumpFriction = params.jumpDecay;\r\n\r\n        o.touchingPlatformer = false;\r\n    },\r\n    /*restrictAxis*/\r\n    (o, params) => {\r\n        o.axisSpeedMultX = params.axisSpeedMultX;\r\n        o.axisSpeedMultY = params.axisSpeedMultY;\r\n    },\r\n    /*snapGrid*/\r\n    (o, params) => {\r\n        o.toSnapX = params.toSnapX;\r\n        o.toSnapY = params.toSnapY;\r\n        o.snapDistanceX = params.snapDistanceX;\r\n        o.snapDistanceY = params.snapDistanceY;\r\n        o.snapCooldown = o.maxSnapCooldown = params.snapCooldown;\r\n        o.snapAngle = params.snapAngle * Math.PI / 180;\r\n        o.snapAngleRotateSpeed = params.snapAngleRotateSpeed * Math.PI/180;\r\n\r\n        o.interpolatePlayerData = {};\r\n        // o.snapDistanceX = Math.max(35, o.snapDistanceX);\r\n        // o.snapDistanceY = Math.max(35, o.snapDistanceY);\r\n\r\n        o.snapToShowVelocity = Math.min(o.snapDistanceX, o.snapDistanceY) > 40;\r\n        o.snapMagnitude = Math.sqrt(o.snapDistanceX ** 2 + o.snapDistanceY ** 2); //(o.snapDistanceX + o.snapDistanceY)/2\r\n    },\r\n    /*timeTrap*/\r\n    (o, params) => {\r\n        o.timeTrapTime = o.timeTrapMaxTime = params.timeTrapMaxTime;\r\n        o.timeTrapRecoverySpeed = params.timeTrapRecoverySpeed;\r\n        o.timeTrapToKill = params.timeTrapToKill;\r\n        o.timeTrapToShowTenth = params.timeTrapToShowTenth;\r\n        o.timeTrapIntersecting = false;\r\n    },\r\n    /*changeSize*/\r\n    (o, params) => {\r\n        o.sizeMult = params.sizeMult;\r\n        o.sizeChangePermanent = params.sizeChangePermanent;\r\n        o.lastChangeSizeColliding = o.changeSizeColliding = false;\r\n    },\r\n    /*changeSpeed*/\r\n    (o, params) => {\r\n        o.speedMult = params.speedMult;\r\n        o.speedChangePermanent = params.speedChangePermanent;\r\n    },\r\n    /*solidColor*/\r\n    (o, params) => {\r\n        o.hex = params.hex;\r\n    },\r\n    /*decoration*/\r\n    (o, params) => {\r\n        o.decoFilePath = params.decoFilePath;\r\n    },\r\n    /*changeMap*/\r\n    (o, params) => {\r\n        o.mapName = params.mapName;\r\n        // difficulty?\r\n    },\r\n    /*tornado*/\r\n    (o, params) => {\r\n        o.tornadoStrength = params.tornadoStrength;\r\n    },\r\n]\r\n\r\nconst effectMap = [\r\n    /*bound*/\r\n    (p, res, o, id) => {\r\n        p.pos.x += res.overlapV.x;\r\n        p.pos.y += res.overlapV.y;\r\n        p.touchingNormalIndexes.push(id);\r\n    },\r\n    /*kill*/\r\n    (p, res, o) => {\r\n        if(res.overlap > 1) p.dead = true;\r\n        if(o.collidable === true){\r\n            p.pos.x += res.overlapV.x;\r\n            p.pos.y += res.overlapV.y;\r\n        }\r\n    },\r\n    /*bounce*/\r\n    (p, res, o) => {\r\n        p.pos.x += res.overlapV.x;\r\n        p.pos.y += res.overlapV.y;\r\n\r\n        angle = Math.atan2(res.overlapV.y, res.overlapV.x);\r\n\r\n        p.forces.push([Math.cos(angle) * o.bounciness, Math.sin(angle) * o.bounciness, o.decay]);\r\n    },\r\n    /*custom*/\r\n    () => {},\r\n    /*customImage*/\r\n    () => {},\r\n    /*stopForces*/\r\n    (p) => {\r\n        p.stopForces = true;\r\n    },\r\n    /*winpad*/\r\n    (p, res, o) => {\r\n        if(components_environment === 'editor' || window.standalone === true){\r\n            // respawn\r\n            window.respawnPlayer();\r\n            if(window.inClearCheckMode === true){\r\n                window.exitClearCheckMode();\r\n                uploadCode();\r\n            }\r\n        } else if(window.won !== true){\r\n            window.won = true;\r\n            if(window.isExClient === true){\r\n                const buf = new Uint8Array(1);\r\n                buf[0] = 1; // type 1 - won map\r\n                send(buf);\r\n            } else {\r\n                // scroll\r\n                toScroll = true;\r\n\r\n                if(window.tutorial === true){\r\n                    window.beatCurrentTutorialMap();\r\n                }\r\n            }\r\n        }\r\n    },\r\n    /*coin*/\r\n    (p, res, o) => {\r\n        if(o.collected === true){\r\n            return;\r\n        }\r\n        o.collected = true;\r\n        for(let i = 0; i < components_obstacles.length; i++){\r\n            if(components_obstacles[i].isCoindoor === true && components_obstacles[i].coinDoorColor === o.color){\r\n                components_obstacles[i].coins -= o.coinAmount;\r\n            }\r\n        }\r\n    },\r\n    /*coindoor*/\r\n    (p, res, o) => {\r\n        if(o.coins > 0){\r\n            p.pos.x += res.overlapV.x;\r\n            p.pos.y += res.overlapV.y;\r\n        }\r\n    },\r\n    /*checkpoint*/\r\n    (p, res, o) => {\r\n        if(o.collected === true) return;\r\n        o.collected = true;\r\n\r\n        let [topLeftX, topLeftY] = generateTopLeftCoordinates(o);\r\n        \r\n        window.spawnPosition.x = topLeftX + o.dimensions.x / 2;\r\n        window.spawnPosition.y = topLeftY + o.dimensions.y / 2;\r\n    },\r\n    /*breakable*/\r\n    (p, res, o) => {\r\n        if(o.strength > 0){\r\n            p.pos.x += res.overlapV.x;\r\n            p.pos.y += res.overlapV.y;\r\n            o.strength -= dt;\r\n            if(o.strength < 0) o.strength = 0;\r\n        }\r\n\r\n        // breakable obs shouldn't regenerate on top of you\r\n        o.lastBrokeTime = window.now;\r\n    },\r\n    /*safe*/\r\n    (p, res, o) => {\r\n        p.onSafe = true;\r\n    },\r\n    /*tp*/\r\n    (p, res, o) => {\r\n        // whoosh sound effect?\r\n        p.pos.x = o.tpx;\r\n        p.pos.y = o.tpy;\r\n        p.renderRadius = Math.min(p.renderRadius, p.sat.r / 2);\r\n    },\r\n    /*conveyor*/\r\n    (p, res, o) => {\r\n        p.forces.push([Math.cos(o.conveyorAngle) * o.conveyorForce, Math.sin(o.conveyorAngle) * o.conveyorForce, o.conveyorFriction]);\r\n    },\r\n    /*platformer*/\r\n    (p, res, o, id) => {\r\n        o.touchingPlatformer = true;\r\n        o.jumpCooldown--;\r\n\r\n        // add conveyor force\r\n        p.forces.push([Math.cos(o.platformerAngle) * o.platformerForce, Math.sin(o.platformerAngle) * o.platformerForce, o.platformerFriction]);\r\n\r\n        // idea: find the amount of x/y the player moves in the platformer and move the opposite to effectively lock the player's motion perpendicular to the platformer's direction\r\n        const playerVelAngle = Math.atan2(p.yv, p.xv);\r\n\r\n        const angleBetween = o.platformerAngle - playerVelAngle;\r\n\r\n        const distMovedOnPlatAngle = Math.cos(angleBetween) * Math.sqrt(p.yv ** 2 + p.xv ** 2);\r\n\r\n        p.pos.x -= Math.cos(o.platformerAngle) * distMovedOnPlatAngle;\r\n        p.pos.y -= Math.sin(o.platformerAngle) * distMovedOnPlatAngle;\r\n\r\n        // checking if we were either intersecting with a normal last frame that's indexed after the obs or we are intersecting with a normal rn\r\n        if(o.jumpCooldown <= 0 && (p.touchingNormalIndexes.length !== 0 || p.lastTouchingNormalIndexes[p.lastTouchingNormalIndexes.length-1] >= id || p.touchingWall === true)){\r\n            o.canJump = true;\r\n            // OLD: if we're within 30 degrees, jump; NEW: if the mouse is above the thumbs up in the rendering\r\n            if(/*Math.abs(shortAngleDist(o.platformerAngle + Math.PI, playerVelAngle)) < Math.PI / 6*/window.dragging === true && player.pos.y - window.mouseY > player.sat.r + 50){\r\n                p.forces.push([-Math.cos(o.platformerAngle) * o.jumpForce, -Math.sin(o.platformerAngle) * o.jumpForce, o.jumpFriction]);\r\n                o.jumpCooldown = o.maxJumpCooldown;\r\n            }\r\n        } else {\r\n            o.canJump = false;\r\n        }\r\n    },\r\n    /*restrictAxis*/\r\n    (p, res, o) => {\r\n        p.axisSpeedMultX *= o.axisSpeedMultX;\r\n        p.axisSpeedMultY *= o.axisSpeedMultY;\r\n    },\r\n    /*snapGrid*/\r\n    (p, res, o) => {\r\n        // for those who haven't seen it, this is kind of my magnum opus of simulation functions.\r\n        // Developed a few years back later presented at a conference. Ask me (serum) about it!\r\n        // the basic idea of how it works is we have to snap to a rotated snap grid in space, so we\r\n        // translate the player to the snapGrid until its like the snap grid is unrotated. Then we snap\r\n        // by moduloing the x to the grid and then rotate back to get the final position.\r\n        o.snapCooldown -= dt;\r\n\r\n        if(o.snapCooldown <= 0 && (Math.abs(p.xv) > 0.01 || Math.abs(p.yv) > 0.01)){\r\n            o.snapCooldown = o.maxSnapCooldown;\r\n            let playerSnapAngle = Math.atan2(p.yv, p.xv);\r\n            o.interpolatePlayerData = {\r\n                time: Math.min(o.maxSnapCooldown-1, 5),\r\n                nextX: p.pos.x + Math.cos(playerSnapAngle) * o.snapMagnitude * 0.95,\r\n                nextY: p.pos.y + Math.sin(playerSnapAngle) * o.snapMagnitude * 0.95\r\n            };\r\n            // p.pos.x += Math.cos(o.pSnapAngle) * o.snapDistanceX;\r\n            // p.pos.y += Math.sin(o.pSnapAngle) * o.snapDistanceY;\r\n        }\r\n\r\n        if(o.interpolatePlayerData.time > 1){\r\n            o.interpolatePlayerData.time--;\r\n            p.pos.x = p.pos.x * 0.8 + 0.2 * o.interpolatePlayerData.nextX;\r\n            p.pos.y = p.pos.y * 0.8 + 0.2 * o.interpolatePlayerData.nextY;\r\n        } else {\r\n            let [topLeftX, topLeftY] = generateTopLeftCoordinates(o);\r\n            let middleX = topLeftX + o.dimensions.x / 2;\r\n            let middleY = topLeftY + o.dimensions.y / 2;\r\n            // in order to snap correctly, rotate both the p and the o the negative snapAngle relative to the o's center\r\n            // this means that the player will be relatively correct to the obs and the obs will be axis-aligned\r\n            let prt = {\r\n                angle: Math.atan2(p.pos.y - middleY, p.pos.x - middleX) - o.snapAngle,\r\n                distance: Math.sqrt((p.pos.y - middleY)**2 + (p.pos.x - middleX)**2)\r\n            }\r\n\r\n            prt.x = Math.cos(prt.angle) * prt.distance;\r\n            prt.y = Math.sin(prt.angle) * prt.distance;\r\n\r\n            // applying the transform just like the norotate snap that i coded earlier\r\n            // in other words, snap the relative p to the relative grid\r\n            prt.x = prt.x * 0.4 + 0.6 * (Math.round(prt.x / o.snapDistanceX) * o.snapDistanceX + p.xv * (o.snapToShowVelocity*2-1));\r\n            prt.y = prt.y * 0.4 + 0.6 * (Math.round(prt.y / o.snapDistanceY) * o.snapDistanceY + p.yv * (o.snapToShowVelocity*2-1));\r\n\r\n            prt.angle = Math.atan2(prt.y, prt.x) + o.snapAngle;\r\n            prt.distance = Math.sqrt(prt.y**2 + prt.x**2);\r\n\r\n            // rotating back\r\n            // translating the relative coordinates back to absolute ones\r\n            p.pos.x = Math.cos(prt.angle) * prt.distance + middleX;\r\n            p.pos.y = Math.sin(prt.angle) * prt.distance + middleY;\r\n\r\n            // checking if the original point was outside of the snapgrid as a result of rotation. If so, apply translations to make it right\r\n            if(p.pos.x < topLeftX - p.speed || p.pos.x > topLeftX + o.dimensions.x + p.speed){\r\n                p.pos.x += Math.sign(p.xv) * o.snapDistanceX*0.6;\r\n            }\r\n\r\n            if(p.pos.y < topLeftY - p.speed || p.pos.y > topLeftY + o.dimensions.y + p.speed){\r\n                p.pos.y += Math.sign(p.yv) * o.snapDistanceY*0.6;\r\n            }\r\n        }\r\n    },\r\n    /*timeTrap*/\r\n    (p, res, o) => {\r\n        o.timeTrapIntersecting = true;\r\n        o.timeTrapTime -= dt;\r\n        if(o.timeTrapTime < 0){\r\n            if(o.timeTrapToKill === true) p.dead = true;\r\n            o.timeTrapTime = 0;\r\n        }\r\n    },\r\n    /*changeSize*/\r\n    (p, res, o) => {\r\n        if(o.sizeMult < 1 && o.lastChangeSizeColliding === false){\r\n            // if the player would not be colliding with the obstacle with the smaller radius,\r\n            // don't scale the player to avoid frame 1 yes frame 2 no jitter effects\r\n\r\n            // basically, we do this by effectively decreasing the obstacle's border radius (so poly would just be smaller poly)\r\n            // if the player has not already collided. If the player is colliding, we already decreased the radius so there's no need to decrease the border\r\n            res.clear();\r\n            p.sat.r *= o.sizeMult;\r\n            if(o.sat.r !== undefined){\r\n                collided = SAT.testCircleCircle(o.sat, p.sat, res);\r\n            } else {\r\n                collided = SAT.testPolygonCircle(o.sat, p.sat, res);\r\n            }\r\n            p.sat.r /= o.sizeMult;\r\n            if(collided === false){\r\n                return;\r\n            }\r\n        }\r\n        if(o.sizeChangePermanent === true){\r\n            if(o.permanentSizeChangeDone === undefined){\r\n                o.permanentSizeChangeDone = true;\r\n                p.sat.r *= o.sizeMult;\r\n            }\r\n        }\r\n        o.changeSizeColliding = true;\r\n    },\r\n    /*changeSpeed*/\r\n    (p, res, o) => {\r\n        if(o.speedChangePermanent === true){\r\n            if(o.permanentSpeedChangeDone === undefined){\r\n                o.permanentSpeedChangeDone = true;\r\n                p.speed *= o.speedMult;\r\n            }\r\n        } else {\r\n            p.axisSpeedMultX *= o.speedMult;\r\n            p.axisSpeedMultY *= o.speedMult;\r\n        }\r\n    },\r\n    /*solidColor*/\r\n    (p, res, o) => {},\r\n    /*decoration*/\r\n    (p, res, o) => {},\r\n    /*changeMap*/\r\n    (p, res, o) => {\r\n        if(window.won === true) return;\r\n        window.won = true;\r\n        if(window.isExClient === true){\r\n            const mapName = o.mapName;\r\n            const buf = new Uint8Array(1 + mapName.length);\r\n            buf[0] = 2; // type 2 - change map\r\n            components_encodeAtPosition(mapName, buf, 1);\r\n            send(buf);\r\n        } else {\r\n            // TODO: send user to the specified omni\r\n        }\r\n    },\r\n    /*tornado*/\r\n    (p, res, o) => {\r\n        p.pos.x += Math.cos(Math.random() * 360) * o.tornadoStrength;\r\n        p.pos.y += Math.sin(Math.random() * 360) * o.tornadoStrength;\r\n    }\r\n]\r\n\r\nconst idleEffectMap = [\r\n    // 'bound',\r\n    undefined,\r\n    // 'kill',\r\n    undefined,\r\n    // 'bounce',\r\n    undefined,\r\n    // 'custom'\r\n    undefined,\r\n    // 'customImage'\r\n    undefined,\r\n    // 'stopForces',\r\n    undefined,\r\n    // 'winpad',\r\n    undefined,\r\n    // 'coin',\r\n    undefined,\r\n    // 'coindoor',\r\n    undefined,\r\n    // 'checkpoint',\r\n    undefined,\r\n    // 'breakable',\r\n    (o) => {\r\n        if (o.strength < o.maxStrength && window.now-o.lastBrokeTime > o.regenTime) {\r\n            o.strength += o.healSpeed * dt;\r\n            if(o.strength >= o.maxStrength){\r\n                o.lastBrokeTime = window.now;\r\n                o.strength = o.maxStrength;\r\n            }\r\n        }\r\n    },\r\n    // 'safe',\r\n    undefined,\r\n    // 'tp',\r\n    undefined,\r\n    // 'conveyor',\r\n    (o) => {\r\n        o.conveyorAngle += o.conveyorAngleRotateSpeed * dt;\r\n    },\r\n    // 'platformer',\r\n    (o) => {\r\n        o.platformerAngle += o.platformerAngleRotateSpeed * dt;\r\n    },\r\n    // 'restrictAxis',\r\n    undefined,\r\n    // 'snapGrid',\r\n    (o) => {\r\n        o.snapAngle += o.snapAngleRotateSpeed * dt;\r\n    },\r\n    // 'timeTrap'\r\n    (o) => {\r\n        if(o.timeTrapIntersecting !== true) o.timeTrapTime += o.timeTrapRecoverySpeed * dt;\r\n        if(o.timeTrapTime > o.timeTrapMaxTime) o.timeTrapTime = o.timeTrapMaxTime;\r\n        o.timeTrapIntersecting = false;\r\n    },\r\n    // 'changeSize'\r\n    (o, p) => {\r\n        if(o.sizeChangePermanent === true) return;\r\n\r\n        if(o.lastChangeSizeColliding === true && o.changeSizeColliding === false){\r\n            // exit\r\n            p.sat.r /= o.sizeMult;\r\n        } else if(o.lastChangeSizeColliding === false && o.changeSizeColliding === true){\r\n            // enter\r\n            p.sat.r *= o.sizeMult;\r\n        }\r\n\r\n        o.lastChangeSizeColliding = o.changeSizeColliding;\r\n        o.changeSizeColliding = false;\r\n    },\r\n    // 'changeSpeed'\r\n    undefined,\r\n    // 'solidColor'\r\n    undefined,\r\n    // 'decoration'\r\n    undefined,\r\n    // 'changeMap'\r\n    undefined,\r\n    // 'tornado'\r\n    undefined\r\n]\r\n\r\nwindow.effectConstraintsMap = [\r\n    /*bound*/\r\n    undefined,\r\n    /*kill*/\r\n    undefined,\r\n    /*bounce*/\r\n    {decay: [undefined, 1]},\r\n    /*custom*/\r\n    undefined,\r\n    /*customImage*/\r\n    undefined,\r\n    /*stopForces*/\r\n    undefined,\r\n    /*winpad*/\r\n    undefined,\r\n    /*coin*/\r\n    {coinAmount: [1]},\r\n    /*coindoor*/\r\n    {coins: [1], maxCoins: [1]},\r\n    /*checkpoint*/\r\n    undefined,\r\n    /*breakable*/\r\n    {maxStrength: [1], regenTime: [0], healSpeed: [0]},\r\n    /*safe*/\r\n    undefined,\r\n    /*tp*/\r\n    undefined,\r\n    /*conveyor*/\r\n    {conveyorFriction: [undefined, 1]},\r\n    /*platformer*/\r\n    {platformerFriction: [undefined, 1], jumpFriction: [undefined, 1]},\r\n    /*restrictAxis*/\r\n    undefined,\r\n    /*snapGrid*/\r\n    {snapDistanceX: [0.1], snapDistanceY: [0.1], snapCooldown: [0]},\r\n    /*timeTrap*/\r\n    {timeTrapTime: [0], timeTrapMaxTime: [0]},\r\n    /*changeSize*/\r\n    undefined,\r\n    /*changeSpeed*/\r\n    undefined,\r\n    /*solidColor*/\r\n    undefined,\r\n    /*decoration*/\r\n    undefined,\r\n    /*changeMap*/\r\n    undefined,\r\n    /*tornado*/\r\n    undefined\r\n]\r\n\r\nwindow.effectMapI2N = [\r\n    'bound',\r\n    'kill',\r\n    'bounce',\r\n    'custom',\r\n    'customImage',\r\n    'stopForces',\r\n    'winpad',\r\n    'coin',\r\n    'coindoor',\r\n    'checkpoint',\r\n    'breakable',\r\n    'safe',\r\n    'tp',\r\n    'conveyor',\r\n    'platformer',\r\n    'restrictAxis',\r\n    'snapGrid',\r\n    'timeTrap',\r\n    'changeSize',\r\n    'changeSpeed',\r\n    'solidColor',\r\n    'decoration',\r\n    'changeMap',\r\n    'tornado'\r\n]\r\n\r\nwindow.effectDefaultMap = [\r\n    // bound\r\n    {},\r\n    // kill\r\n    {\r\n        collidable: true\r\n    },\r\n    // bounce\r\n    {\r\n        bounciness: 1,\r\n        decay: 0.98\r\n    },\r\n    // custom\r\n    {},\r\n    // customEffect\r\n    {\r\n        url: 'http://tinyurl.com/dwayne-t-rj'\r\n    },\r\n    // stopForces\r\n    {},\r\n    // winpad\r\n    {},\r\n    // coin\r\n    {\r\n        coinAmount: 1,\r\n        color: '#d6d611'\r\n    },\r\n    // coindoor\r\n    {\r\n        coindoorCoinAmount: 3,\r\n        coinDoorColor: '#d6d611'\r\n    },\r\n    // checkpoint\r\n    {\r\n        checkpointOffsetX: 0,\r\n        checkpointOffsetY: 0\r\n    },\r\n    // breakable\r\n    {\r\n        maxStrength: 60,\r\n        regenTime: 100,\r\n        healSpeed: 1\r\n    },\r\n    // safe\r\n    {},\r\n    // tp\r\n    {\r\n        tpx: 100,\r\n        tpy: 100\r\n    },\r\n    // conveyor\r\n    {\r\n        conveyorForce: 0.3,\r\n        conveyorAngle: 90,\r\n        conveyorAngleRotateSpeed: 0,\r\n        conveyorFriction: 0.8\r\n    },\r\n    // platformer\r\n    {\r\n        platformerForce: 1,\r\n        platformerAngle: 90,\r\n        platformerAngleRotateSpeed: 0,\r\n        platformerFriction: 0.875,\r\n        maxJumpCooldown: 30,\r\n        jumpForce: 20,\r\n        jumpDecay: 0.95,\r\n        // maxJumps: 1\r\n    },\r\n    // restrictAxis\r\n    {\r\n        axisSpeedMultX: 0,\r\n        axisSpeedMultY: 1\r\n    },\r\n    // snapGrid\r\n    {\r\n        toSnapX: true,\r\n        toSnapY: true,\r\n        snapDistanceX: 100,\r\n        snapDistanceY: 100,\r\n        snapCooldown: 40,\r\n        snapAngle: 0,\r\n        snapAngleRotateSpeed: 0\r\n    },\r\n    // timeTrap\r\n    {\r\n        timeTrapMaxTime: 300,\r\n        timeTrapRecoverySpeed: 1.5,\r\n        timeTrapToKill: true,\r\n        timeTrapToShowTenth: false\r\n    },\r\n    // changeSize\r\n    {\r\n        sizeMult: 1.5,\r\n        sizeChangePermanent: false\r\n    },\r\n    // changeSpeed\r\n    {\r\n        speedMult: 2.5,\r\n        speedChangePermanent: false\r\n    },\r\n    // solidColor\r\n    {\r\n        hex: '#FFFFFF'\r\n    },\r\n    // decoration\r\n    {},\r\n    // changeMap\r\n    {mapName: 'hub'},\r\n    // tornado\r\n    {tornadoStrength: 1}\r\n]\r\n\r\nconst renderEffectMap = [\r\n    /*bound*/\r\n    (o) => { \r\n        ctx.fillStyle = window.colors.tile;\r\n    },\r\n    /*kill*/\r\n    (o) => {\r\n        ctx.fillStyle = o.collidable === true ? '#c70000' : '#9e0000';\r\n        ctx.strokeStyle = 'black';\r\n        ctx.toStroke = true;\r\n        ctx.lineWidth = 4;\r\n    },\r\n    /*bounce*/\r\n    (o) => {\r\n        ctx.fillStyle = 'blue';\r\n    },\r\n    /*custom*/\r\n    (o) => {\r\n        ctx.toFill = false;\r\n\r\n        ctx.cleanUpFunction = () => {\r\n            ctx.save();\r\n            ctx.clip();\r\n\r\n            const [topLeftX, topLeftY] = generateTopLeftCoordinates(o);\r\n            ctx.drawImage(window.starImg, topLeftX, topLeftY, o.dimensions.x, o.dimensions.y);\r\n\r\n            ctx.restore();\r\n        }\r\n    },\r\n    /*customImage*/\r\n    (o) => {\r\n        ctx.toFill = false;\r\n        if(o.imgLoaded === false) return;\r\n\r\n        ctx.cleanUpFunction = () => {\r\n            ctx.save();\r\n            ctx.clip();\r\n\r\n            const [topLeftX, topLeftY] = generateTopLeftCoordinates(o);\r\n            ctx.drawImage(o.img, topLeftX, topLeftY, o.dimensions.x, o.dimensions.y);\r\n\r\n            ctx.restore();\r\n        }\r\n    },\r\n    /*stopForces*/\r\n    (o) => {\r\n        ctx.fillStyle = 'orange';\r\n        ctx.strokeStyle = 'black';\r\n        ctx.lineWidth = 6;\r\n        ctx.globalAlpha = 0.1;\r\n        ctx.toStroke = true;\r\n    },\r\n    /*winpad*/\r\n    (o) => {\r\n        ctx.fillStyle = `hsl(${window.time/12},50%,50%)`;\r\n        ctx.shadowColor = ctx.fillStyle;\r\n        ctx.shadowBlur = 15;\r\n        ctx.cleanUpFunction = () => {\r\n            ctx.shadowBlur = 0;\r\n        }\r\n    },\r\n    /*coin*/\r\n    (o) => {\r\n        ctx.fillStyle = o.color;\r\n        if(o.collected === true){\r\n            ctx.globalAlpha = 0.2;\r\n        } else {\r\n            ctx.globalAlpha = 0.8;\r\n        }\r\n        if(o.coinAmount !== 1){\r\n            ctx.cleanUpFunction = () => {\r\n                let [middleX, middleY] = generateTopLeftCoordinates(o);\r\n                middleX += o.dimensions.x / 2; middleY += o.dimensions.y / 2;\r\n\r\n                ctx.fillStyle = window.colors.tile;//'#313131';\r\n                ctx.font = `${Math.min(60, o.dimensions.x/4, o.dimensions.y/4)}px Inter`;\r\n                ctx.textAlign = 'center';\r\n                ctx.textBaseline = 'middle';\r\n                ctx.fillText(\r\n                    Math.max(0, o.coinAmount),\r\n                    middleX,\r\n                    middleY\r\n                );\r\n            }\r\n        }\r\n    },\r\n    /*coindoor*/\r\n    (o) => {\r\n        ctx.fillStyle = window.colors.tile;\r\n        ctx.globalAlpha = o.coins <= 0 ? 0.5 : 1;\r\n        ctx.cleanUpFunction = () => {\r\n            ctx.fillStyle = o.coinDoorColor;\r\n\r\n            let [middleX, middleY] = generateTopLeftCoordinates(o);\r\n            middleX += o.dimensions.x / 2; middleY += o.dimensions.y / 2;\r\n\r\n            ctx.beginPath();\r\n            ctx.roundRect(middleX-o.dimensions.x/4, middleY-o.dimensions.y/4, o.dimensions.x/2, o.dimensions.y/2, Math.min(o.dimensions.x,o.dimensions.y)/20);\r\n            ctx.fill();\r\n            ctx.closePath();\r\n    \r\n            ctx.fillStyle = window.colors.tile;//'#313131'//'#484a00';\r\n            ctx.font = `${Math.min(60, o.dimensions.x/4, o.dimensions.y/4)}px Inter`;\r\n            ctx.textAlign = 'center';\r\n            ctx.textBaseline = 'middle';\r\n            ctx.fillText(\r\n                Math.max(0, o.coins),\r\n                middleX,\r\n                middleY\r\n            );\r\n        }\r\n    },\r\n    /*checkpoint*/\r\n    (o) => {\r\n        if (o.collected === true) {\r\n            ctx.fillStyle = '#0fba09';\r\n            ctx.globalAlpha = 0.15;\r\n        } else {\r\n            ctx.fillStyle = '#05962b';\r\n            ctx.globalAlpha = 0.8;\r\n        }\r\n        // ctx.cleanUpFunction = () => {\r\n        //     ctx.globalAlpha /= 5;\r\n        //     const grd = ctx.createRadialGradient(o.pos.x, o.pos.y, 0, o.pos.x, o.pos.y, (o.dimensions.x + o.dimensions.y)/3);\r\n\r\n        //     grd.addColorStop(0, \"rgba(255,255,255,1)\");\r\n        //     grd.addColorStop(1, \"rgba(255,255,255,0)\");\r\n\r\n        //     ctx.fillStyle = grd;\r\n        //     renderEffectMap[7](o);\r\n        // }\r\n    },\r\n    /*breakable*/\r\n    (o) => {\r\n        ctx.fillStyle = window.colors.tile;// to make it into hex\r\n        ctx.fillStyle = components_blendColor('#000000', ctx.fillStyle, 0.5);\r\n        ctx.globalAlpha = o.strength / o.maxStrength;\r\n    },\r\n    /*safe*/\r\n    (o) => {\r\n        ctx.fillStyle = '#8c8c8c';\r\n        ctx.globalAlpha = 0.25;\r\n    },\r\n    /*tp*/\r\n    (o) => {\r\n        ctx.fillStyle = '#38ab30';\r\n    },\r\n    /*conveyor*/\r\n    (o) => {\r\n        ctx.fillStyle = window.colors.tile;\r\n        ctx.globalAlpha = 0.1;\r\n        ctx.cleanUpFunction = () => {\r\n            ctx.save();\r\n            ctx.clip();\r\n            let [topLeftX, topLeftY] = generateTopLeftCoordinates(o);\r\n\r\n            ctx.globalAlpha = 1;\r\n            for(let x = topLeftX + 50; x <= topLeftX + o.dimensions.x + 50; x += 100){\r\n                for(let y = topLeftY + 50; y <= topLeftY + o.dimensions.y + 50; y += 100){\r\n                    ctx.translate(x,y);\r\n                    ctx.rotate(o.conveyorAngle+Math.PI/2);\r\n                    ctx.drawImage(window.arrowImg, -50, -50, 100, 100);\r\n                    ctx.rotate(-o.conveyorAngle-Math.PI/2);\r\n                    ctx.translate(-x,-y);\r\n                }\r\n            }\r\n\r\n            ctx.restore();\r\n            // ctx.beginPath();\r\n            // ctx.fillStyle = 'red';\r\n            // ctx.arc(topLeftX, topLeftY, 30, 0, Math.PI * 2);\r\n            // ctx.fill();\r\n            // ctx.closePath();\r\n        }\r\n    },\r\n    /*platformer*/\r\n    (o) => {\r\n        ctx.fillStyle = window.colors.tile;\r\n        ctx.globalAlpha = 0.1;\r\n        ctx.cleanUpFunction = () => {\r\n            ctx.save();\r\n            ctx.clip();\r\n            let [topLeftX, topLeftY] = generateTopLeftCoordinates(o);\r\n\r\n            const offsetX = (window.time * o.platformerForce * Math.cos(o.platformerAngle) / 10) % 100 - 100;\r\n            const offsetY = (window.time * o.platformerForce * Math.sin(o.platformerAngle) / 10) % 100 - 100;\r\n\r\n            ctx.globalAlpha = 1;\r\n            for(let x = topLeftX + offsetX + 50; x <= topLeftX + o.dimensions.x + 50; x += 100){\r\n                for(let y = topLeftY + offsetY + 50; y <= topLeftY + o.dimensions.y + 50; y += 100){\r\n                    ctx.translate(x,y);\r\n                    ctx.rotate(o.platformerAngle+Math.PI/2);\r\n                    ctx.drawImage(window.arrowImg, -50, -50, 100, 100);\r\n                    ctx.rotate(-o.platformerAngle-Math.PI/2);\r\n                    ctx.translate(-x,-y);\r\n                }\r\n            }\r\n\r\n            ctx.restore();\r\n\r\n            // rendering  if player can jump\r\n            // if there ever is to be more emojis like this, then make an array of emojis that i can push to that render on top of each other every frame (w/ priority? sorted?)\r\n            if(o.canJump === true && o.touchingPlatformer === true){\r\n                ctx.globalAlpha = 1;\r\n                ctx.fillStyle = 'white';\r\n                ctx.font = `56px Inter`;\r\n                ctx.textAlign = 'center';\r\n                ctx.textBaseline = 'middle';\r\n                ctx.fillText('', player.pos.x, player.pos.y - player.sat.r - 50);\r\n            }\r\n            o.touchingPlatformer = false;\r\n        }\r\n    },\r\n    /*restrictAxis*/\r\n    (o) => {\r\n        if(o.axisSpeedMultX < 0 && o.axisSpeedMultY < 0){\r\n            ctx.strokeStyle = 'red';\r\n        } else if(o.axisSpeedMultX < 0 || o.axisSpeedMultY < 0){\r\n            ctx.strokeStyle = '#ff6969';\r\n        } else if(o.axisSpeedMultY > 1 || o.axisSpeedMultY > 1){\r\n            ctx.strokeStyle = '#c5c500';\r\n        } else {\r\n            ctx.strokeStyle = 'white';\r\n        }\r\n        ctx.lineWidth = 4;\r\n        ctx.toFill = false;\r\n        ctx.toStroke = true;\r\n        ctx.cleanUpFunction = () => {\r\n            ctx.lineWidth = 3;\r\n            ctx.save();\r\n\r\n            let [topLeftX, topLeftY] = generateTopLeftCoordinates(o);\r\n            ctx.translate(topLeftX + o.dimensions.x / 2, topLeftY + o.dimensions.y / 2);\r\n\r\n            ctx.clip();\r\n\r\n            ctx.globalAlpha = o.axisSpeedMultX > 1 ? 0.8 : (Math.max(0.3,o.axisSpeedMultX < 0 ? -o.axisSpeedMultX : 1-o.axisSpeedMultX));\r\n            ctx.strokeStyle = o.axisSpeedMultX < 0 ? 'red' : (o.axisSpeedMultX > 1 ? '#c5c500' : 'white');\r\n\r\n            ctx.beginPath();\r\n            for(let x = -o.dimensions.x/2; x <= o.dimensions.x/2; x += 50){\r\n                ctx.moveTo(x,-o.dimensions.y/2);\r\n                ctx.lineTo(x,o.dimensions.y/2);\r\n            }\r\n            ctx.stroke();\r\n            ctx.closePath();\r\n\r\n            ctx.globalAlpha = o.axisSpeedMultY > 1 ? 0.8 : (Math.max(0.3,o.axisSpeedMultY < 0 ? -o.axisSpeedMultY : 1-o.axisSpeedMultY));\r\n            ctx.strokeStyle = o.axisSpeedMultY < 0 ? 'red' : (o.axisSpeedMultY > 1 ? '#c5c500' : 'white');\r\n\r\n            ctx.beginPath();\r\n            for(let y = -o.dimensions.y/2; y <= o.dimensions.y/2; y += 50){\r\n                ctx.moveTo(-o.dimensions.x/2,y);\r\n                ctx.lineTo(o.dimensions.x/2,y);\r\n            }\r\n            ctx.stroke();\r\n            ctx.closePath();\r\n\r\n            ctx.restore();\r\n        }\r\n    },\r\n    /*snapGrid*/\r\n    (o) => {\r\n        ctx.fillStyle = '#00008a';\r\n        ctx.globalAlpha = 0.1;\r\n        ctx.toClip = true;\r\n\r\n        ctx.cleanUpFunction = () => {\r\n            ctx.save();\r\n            ctx.clip();\r\n\r\n            ctx.strokeStyle = components_blendColor('#0f0000', '#000000', Math.max(0,o.snapCooldown) / o.maxSnapCooldown);\r\n            ctx.lineWidth = 4;\r\n            ctx.globalAlpha = 0.17;\r\n\r\n            let [middleX, middleY] = generateTopLeftCoordinates(o);\r\n            middleX += o.dimensions.x / 2; middleY += o.dimensions.y / 2;\r\n            ctx.translate(middleX, middleY);\r\n\r\n            o.snapRotateMovementExpansion = {\r\n                base: (Math.max(o.dimensions.x,o.dimensions.y)**2/Math.sqrt(o.dimensions.x**2+o.dimensions.y**2))\r\n            }\r\n            o.snapRotateMovementExpansion.x = Math.ceil(o.snapRotateMovementExpansion.base/o.snapDistanceX+1)*o.snapDistanceX;\r\n            o.snapRotateMovementExpansion.y = Math.ceil(o.snapRotateMovementExpansion.base/o.snapDistanceY+1)*o.snapDistanceY;\r\n\r\n            ctx.rotate(o.snapAngle);\r\n\r\n            let renderPath = new Path2D();\r\n            if(o.toSnapX === true){\r\n                for(let x = -o.snapRotateMovementExpansion.x; x <= o.snapRotateMovementExpansion.x; x += o.snapDistanceX){\r\n                    renderPath.rect(-10 + x, -o.snapRotateMovementExpansion.x - 10, 20, 2 * o.snapRotateMovementExpansion.x + 20);\r\n                    // ctx.moveTo(x,-o.snapRotateMovementExpansion);\r\n                    // ctx.lineTo(x,o.snapRotateMovementExpansion);\r\n                }\r\n            }\r\n\r\n            if(o.toSnapY === true){\r\n                for(let y = -o.snapRotateMovementExpansion.y; y <= o.snapRotateMovementExpansion.y; y += o.snapDistanceY){\r\n                    renderPath.rect(-o.snapRotateMovementExpansion.y - 10, -10 + y, 2 * o.snapRotateMovementExpansion.y + 20, 20);\r\n                    // ctx.moveTo(-o.snapRotateMovementExpansion,y);\r\n                    // ctx.lineTo(o.snapRotateMovementExpansion,y);\r\n                }\r\n            }\r\n            ctx.stroke(renderPath);\r\n            ctx.closePath();\r\n            \r\n            // drawing snapMagnitude indicator\r\n            const player = window.players[window.selfId];\r\n            if(player.pos.x + o.snapMagnitude < middleX - o.dimensions.x/2 || player.pos.x - o.snapMagnitude > middleX + o.dimensions.x/2 || player.pos.y + o.snapMagnitude < middleY - o.dimensions.y/2 || player.pos.y - o.snapMagnitude > middleY + o.dimensions.y/2){\r\n                ctx.restore();\r\n                return;\r\n            }\r\n            ctx.strokeStyle = 'grey';\r\n            ctx.fillStyle = 'black';\r\n            ctx.globalAlpha = 0.2;\r\n            ctx.beginPath();\r\n\r\n            ctx.clip(renderPath);\r\n\r\n            ctx.rotate(-o.snapAngle);\r\n            ctx.translate(-middleX,-middleY);\r\n\r\n            ctx.arc(player.pos.x, player.pos.y, o.snapMagnitude, 0, Math.PI*2);\r\n            ctx.stroke();\r\n            ctx.fill();\r\n            ctx.closePath();\r\n\r\n            ctx.restore();\r\n        }\r\n    },\r\n    /*timeTrap*/\r\n    (o) => {\r\n        let [middleX, middleY] = generateTopLeftCoordinates(o);\r\n        middleX += o.dimensions.x / 2; middleY += o.dimensions.y/2;\r\n\r\n        let grd = ctx.createRadialGradient(middleX, middleY, 0, middleX, middleY, Math.min(100, (o.dimensions.x + o.dimensions.y)/3));\r\n\r\n        if(o.timeTrapToKill === false){\r\n            grd.addColorStop(0, \"rgba(199,199,199,0)\");\r\n            grd.addColorStop(1, \"rgba(199,199,199,1)\");\r\n        } else {\r\n            grd.addColorStop(0, \"rgba(199,0,0,0)\");\r\n            grd.addColorStop(1, \"rgba(199,0,0,1)\");\r\n        }\r\n\r\n        ctx.fillStyle = grd;\r\n        ctx.globalAlpha = Math.max(0.12, 0.5 - o.timeTrapTime / o.timeTrapMaxTime / 2);\r\n        \r\n        ctx.cleanUpFunction = () => {\r\n            ctx.globalAlpha = Math.max(0.3, o.timeTrapTime / o.timeTrapMaxTime / 3);\r\n            ctx.fillStyle = 'white';\r\n            ctx.font = `${Math.min(o.dimensions.x, o.dimensions.y)/2}px Inter`;\r\n            ctx.textAlign = 'center';\r\n            ctx.textBaseline = 'middle';\r\n\r\n            ctx.fillText(o.timeTrapToShowTenth === true ? Math.round(o.timeTrapTime/1000 * 10) / 10 : Math.round(o.timeTrapTime/1000), middleX, middleY);\r\n        }\r\n    },\r\n    /*changeSize*/\r\n    (o) => {\r\n        if(o.sizeChangePermanent === true){\r\n            ctx.toStroke = true;\r\n            ctx.lineWidth = 10;\r\n            ctx.lineDashOffset = -window.time / 15;\r\n            if (o.sizeMult > 1){\r\n                ctx.strokeStyle = '#0e30ad';\r\n            } else {\r\n                ctx.strokeStyle = '#1c1852';\r\n            }\r\n            ctx.setLineDash([30, 40]);\r\n\r\n            ctx.cleanUpFunction = () => {\r\n                ctx.setLineDash([]);\r\n            }\r\n        }\r\n        \r\n        if(o.permanentSizeChangeDone === true) {\r\n            ctx.toFill = false;\r\n        } else {\r\n            if (o.sizeMult > 1){\r\n                ctx.fillStyle = '#0e30ad';\r\n            } else {\r\n                ctx.fillStyle = '#1c1852';\r\n            }\r\n        }\r\n\r\n        \r\n        ctx.globalAlpha = 0.28;\r\n    },\r\n    /*changeSpeed*/\r\n    (o) => {\r\n        if(o.speedChangePermanent === true){\r\n            ctx.toStroke = true;\r\n            ctx.lineWidth = 10;\r\n            ctx.lineDashOffset = -window.time / 15;\r\n            ctx.strokeStyle = '#eba500';\r\n            ctx.setLineDash([30, 40]);\r\n\r\n            ctx.cleanUpFunction = () => {\r\n                ctx.setLineDash([]);\r\n            }\r\n        }\r\n\r\n        if(o.permanentSpeedChangeDone === true) {\r\n            ctx.toFill = false;\r\n        } else {\r\n            ctx.fillStyle = '#eba500';\r\n            ctx.toStroke = true;\r\n            ctx.lineWidth = 3;\r\n            ctx.strokeStyle = ctx.fillStyle;\r\n        }\r\n        ctx.globalAlpha = 0.25;\r\n\r\n        // permanents should dissapear upon use i think\r\n    },\r\n    /*solidColor*/\r\n    (o) => {\r\n        ctx.fillStyle = o.hex;\r\n        if(o.isText === true)ctx.globalAlpha = 0;\r\n    },\r\n    /*decoration*/\r\n    (o) => {\r\n        ctx.toFill = false;\r\n\r\n        const decoImg = decorationImgs[o.decoFilePath];\r\n        if(decoImg === undefined){\r\n            decorationImgs[o.decoFilePath] = 'loading';\r\n            let img = new Image();\r\n            if(o.decoFilePath.slice(0,4) === 'http'){\r\n                img.src = o.decoFilePath;\r\n                img.onload = () => {\r\n                    decorationImgs[o.decoFilePath] = img;\r\n                }\r\n            } else {\r\n                if(components_environment === 'editor'){\r\n                    __webpack_require__(796)(`./${o.decoFilePath}`).then(data => {\r\n                        img.src = data.default;\r\n                        decorationImgs[o.decoFilePath] = img;\r\n                    });\r\n                } else {\r\n                    img.src = `./gfx/decorations/${o.decoFilePath}`;\r\n                    img.onload = () => {\r\n                        decorationImgs[o.decoFilePath] = img;\r\n                    }\r\n                }\r\n            }\r\n            return;\r\n        } else if(decoImg === 'loading') {\r\n            return;\r\n        }\r\n\r\n        let [middleX, middleY] = generateTopLeftCoordinates(o);\r\n        middleX += o.dimensions.x / 2;\r\n        middleY += o.dimensions.y / 2;\r\n        const maxDimension = Math.max(o.dimensions.x, o.dimensions.y);\r\n\r\n        ctx.translate(middleX, middleY);\r\n        if(o.rotation !== undefined) ctx.rotate(o.rotation);\r\n        ctx.drawImage(decoImg, -maxDimension / 2, -maxDimension / 2, maxDimension, maxDimension);\r\n        if(o.rotation !== undefined) ctx.rotate(-o.rotation);\r\n        ctx.translate(-middleX, -middleY);\r\n    },\r\n    /*changeMap*/\r\n    (o) => {\r\n        // difficulty images?\r\n        let [middleX, topY] = generateTopLeftCoordinates(o);\r\n        middleX += o.dimensions.x / 2;\r\n        ctx.font = `${o.dimensions.x / 3.5}px Inter`;\r\n        ctx.fillStyle = 'white';\r\n        ctx.textAlign = 'center';\r\n        ctx.textBaseline = 'middle';\r\n        ctx.fillText(\r\n            o.mapName,\r\n            middleX,\r\n            topY - o.dimensions.y / 4\r\n        );\r\n\r\n        ctx.fillStyle = `hsl(${window.time/12},50%,50%)`;\r\n        ctx.shadowColor = ctx.fillStyle;\r\n        ctx.shadowBlur = 15;\r\n        ctx.cleanUpFunction = () => {\r\n            ctx.shadowBlur = 0;\r\n        }\r\n    },\r\n    /*tornado*/\r\n    (o) => {\r\n        ctx.fillStyle = '#c0bbc9';\r\n        ctx.globalAlpha = 0.25;\r\n    }\r\n]\r\n\r\n// an obstacle is an ECS\r\nconst components_obstacles = window.obstacles = [];\r\n\r\nwindow.spawnPosition = {x: 100, y: 1500};\r\n// a player is also an ecs\r\nwindow.createPlayer = () => {\r\n    create(0/*circle*/, [], [], /*no simulate/ effects*/ {x: window.spawnPosition.x, y: window.spawnPosition.y, r: /*24.5*/49.5})\r\n    const player = components_obstacles.pop();\r\n    player.axisSpeedMultX = player.axisSpeedMultY = 1;\r\n    player.touchingNormalIndexes = [];\r\n    player.lastTouchingNormalIndexes = [];\r\n    player.renderRadius = player.lastAliveRadius = player.sat.r;\r\n    player.xv = player.yv = player.xa = player.ya = 0;\r\n    player.speed = player.baseSpeed = 0.43;\r\n    player.dead = false;\r\n    player.onSafe = false;\r\n    player.touchingWall = false;\r\n    player.stopForces = false;\r\n    player.forces = [];\r\n    player.id = undefined;\r\n    player.dev = true; player.god = false;\r\n    player.friction = 0.4;\r\n    return player;\r\n}\r\n\r\nwindow.players = [];\r\n\r\nif(window.isExClient !== true) {window.players.push(window.createPlayer()); window.selfId = 0; window.mapDimensions = components_environment === 'server' ? {x:2000,y:2000} : {x:900,y:1600}}\r\nif(window.isExClient === true || components_environment === 'server') window.mapDimensions = {x: 2000, y: 2000};\r\n\r\n/* harmony default export */ const components = (simulate);\n;// CONCATENATED MODULE: ./eXclient/input.js\nwindow.mouse = {\r\n    screen: {\r\n        x: -1,\r\n        y: -1\r\n    },\r\n    world: {\r\n        x: -1,\r\n        y: -1\r\n    }\r\n}\r\n\r\nwindow.mouseX = -1;\r\nwindow.mouseY = -1;\r\nwindow.scrollLocked = false;\r\nwindow.mouseDownFunctions = [];\r\nwindow.mouseMoveFunctions = [];\r\nwindow.mouseUpFunctions = [];\r\nwindow.mouseOut = false;\r\nwindow.pageX = -1;\r\nwindow.pageY = -1;\r\n\r\nwindow.dragging = false;\r\n\r\nwindow.onmousedown = (e) => {}\r\n\r\nwindow.onmousemove = (e) => {}\r\n\r\nwindow.onmouseup = () => {}\r\n\r\nwindow.oncontextmenu = (e) => { return e.preventDefault(); };\r\n\r\nconst Controls = {\r\n    KeyW: 'up',\r\n    KeyS: 'down',\r\n    KeyA: 'left',\r\n    KeyD: 'right',\r\n    ArrowUp: 'up',\r\n    ArrowDown: 'down',\r\n    ArrowLeft: 'left',\r\n    ArrowRight: 'right',\r\n    ShiftLeft: 'shift',\r\n    ShiftRight: 'shift',\r\n};\r\n\r\nwindow.input = {\r\n    up: false,\r\n    down: false,\r\n    left: false,\r\n    right: false,\r\n    shift: false\r\n};\r\n\r\nlet chatOpen = false, zenMode = false;\r\nwindow.onkeydown = handleKey;\r\nwindow.onkeyup = handleKey;\r\n\r\n\r\nconst {encodeAtPosition: input_encodeAtPosition} = utils;\r\n\r\nconst chat = document.querySelector('.chat');\r\nconst chatDiv = document.querySelector('.chatDiv');\r\nconst visChatDiv = document.querySelector('.chat-div');\r\n\r\nfunction handleKey(e){\r\n    if(window.state !== 'game') return;\r\n    if(chatOpen){\r\n        if(e.type === 'keydown' && e.code === 'Enter'){\r\n            let msg = chat.value.trim();\r\n            if(msg === '/reset'){\r\n                const mapName = 'hub';\r\n                const buf = new Uint8Array(1 + mapName.length);\r\n                buf[0] = 2; // type 2 - change map\r\n                input_encodeAtPosition(mapName, buf, 1);\r\n                send(buf);\r\n            }\r\n            else if(msg.slice(0,6) === '/scale'){\r\n                const num = parseFloat(msg.slice(7));\r\n                changeCameraScale(num);\r\n            }\r\n            else if(msg.length !== 0){\r\n                msg = window.username + ': ' + msg;\r\n                const buf = new Uint8Array(msg.length + 2);\r\n                buf[0] = 7;// type 0 - set username and join game\r\n                // ['normal', 'system', 'dev', 'guest']\r\n                if(window.players[window.selfId].dev === true) buf[1] = 2;\r\n                else if(window.players[window.selfId].guest === true) buf[1] = 3; \r\n                input_encodeAtPosition(msg, buf, 2);\r\n                send(buf);\r\n            }\r\n            chat.value = '';\r\n            chat.blur();\r\n            chatDiv.classList.add('hidden');\r\n            chatOpen = false;\r\n        }\r\n        // TODO\r\n    } else {\r\n        if (e.repeat) return e.preventDefault();\r\n\r\n        if(e.type === 'keydown'){\r\n            if(e.code === 'KeyO' && window.players[window.selfId].dev === true){\r\n                window.players[window.selfId].god = !window.players[window.selfId].god;\r\n                return e.preventDefault();\r\n            } else if(e.code === 'KeyR' && window.players[window.selfId].dead === true){\r\n                window.respawnPlayer();\r\n            } else if(e.code === 'Enter'){\r\n                chatOpen = true;\r\n                chatDiv.classList.remove('hidden');\r\n                chat.focus();\r\n            } else if (e.code === 'KeyZ') {\r\n                if (!zenMode) {\r\n                    chat.blur();\r\n                    if (!visChatDiv.classList.contains('hidden')) {\r\n                        visChatDiv.classList.add('hidden');\r\n                    }\r\n                    // if (!ref.lb.classList.contains('hide')) {\r\n                    //     ref.lb.classList.add('hide');\r\n                    // }\r\n                } else {\r\n                    if (visChatDiv.classList.contains('hidden')) {\r\n                        visChatDiv.classList.remove('hidden');\r\n                        visChatDiv.scrollTop = visChatDiv.scrollHeight;\r\n                    }\r\n                    // if (ref.lb.classList.contains('hide')) {\r\n                    //     ref.lb.classList.remove('hide');\r\n                    // }\r\n                }\r\n                zenMode = !zenMode;\r\n            }\r\n        }\r\n\r\n        if (Controls[e.code] != undefined) {\r\n            window.input[Controls[e.code]] = e.type === 'keydown';\r\n            e.preventDefault();\r\n        }\r\n    }\r\n}\n;// CONCATENATED MODULE: ./eXclient/index.js\nwindow.isExClient = true;\r\n\r\n\r\n// init rendering\r\n\r\n\r\n// handle client-server communication\r\n\r\n\r\n// game stuff\r\n\r\n\r\n// keyboard input\r\n\r\n\r\n// used for encoding messages sent to the server\r\n\r\nconst {encodeAtPosition: eXclient_encodeAtPosition} = utils;\r\n\r\n// joining game\r\nconst menu = document.querySelector('.menu');\r\nconst eXclient_form = document.querySelector('.playForm');\r\nconst usernameInput = document.querySelector('.nameInput');\r\nconst gui = window.gui = document.querySelector('.gui');\r\nwindow.state = 'menu';\r\neXclient_form.onsubmit = (e) => {\r\n    window.username = usernameInput.value;\r\n\r\n    const buf = new Uint8Array(window.username.length + 1);\r\n    buf[0] = 0;// type 0 - set username and join game\r\n    eXclient_encodeAtPosition(window.username, buf, 1);\r\n    window.send(buf);\r\n    return e.preventDefault();\r\n}\r\n\r\nwindow.startGame = () => {\r\n    window.state = 'game';\r\n    usernameInput.value = '';\r\n    menu.classList.add('fade-out');\r\n    gui.classList.remove('hidden');\r\n    menu.onanimationend = () => {\r\n        usernameInput.blur();\r\n        menu.classList.remove('fade-out');\r\n        menu.classList.add('hidden');\r\n    }\r\n    lastTime = now = performance.now();\r\n    window.respawnPlayer();\r\n    run();\r\n}\r\n\r\n// gameloop\r\nlet lastTime, accum, offtabTime;\r\naccum = window.frames = offtabTime = 0;\r\nwindow.time = window.dt = window.now = 0;\r\n// const FRAME_TIME = 1000 / 60;\r\nfunction run(){\r\n    requestAnimationFrame(run);\r\n\r\n    now = performance.now();\r\n    dt = now - lastTime;\r\n    accum += dt;\r\n    window.time += dt;\r\n    lastTime = now;\r\n\r\n    components();\r\n\r\n    // if(dt > 2000) offtabTime += dt;\r\n    \r\n    // // if we're not ahead\r\n    // if(accum > 0){\r\n    //     // simulate the frame as usual\r\n    //     window.frames++;\r\n    //     accum -= FRAME_TIME;\r\n    //     simulate();\r\n    // } else {\r\n    //     // we don't want to re-render, we have no interpolation! So just wait until next frame ig\r\n    //     requestAnimationFrame(run);\r\n    //     return;\r\n    // }\r\n\r\n    // requestAnimationFrame(run);\r\n\r\n    // // if we're behind\r\n    // if(accum > FRAME_TIME){\r\n    //     // if we're too far behind then give up\r\n    //     if(accum > 2000) accum = 0;\r\n\r\n    //     // otherwise simulate an extra catch-up tick\r\n    //     accum -= FRAME_TIME;\r\n    //     simulate();\r\n    // }\r\n\r\n    // sendUpdatePack();\r\n\r\n    window.render();\r\n}\r\n\r\nconst buf = new ArrayBuffer(12);// 12 bytes = 3 floats. First pos occupied by uint type, second two are position floats\r\nconst uview = new Uint8Array(buf);\r\nuview[0] = 4;// type 4 - player x and y\r\nconst fview = new Float32Array(buf); \r\nfunction sendUpdatePack(){\r\n    const player = window.players[window.selfId];\r\n    fview[1] = player.pos.x;\r\n    fview[2] = player.pos.y;\r\n\r\n    send(buf);\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlZQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9IQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzkyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdklBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL29tbmlzZXJ2ZXIvLi9lWGNsaWVudC9zdHlsZS5jc3M/NzI0YyIsIndlYnBhY2s6Ly9vbW5pc2VydmVyLy4vZVhjbGllbnQvcmVuZGVyLmpzPzU3MzAiLCJ3ZWJwYWNrOi8vb21uaXNlcnZlci8uL2VYY2xpZW50L21zZ3BhY2tyLmpzPzVmYzIiLCJ3ZWJwYWNrOi8vb21uaXNlcnZlci8uL2NsaWVudC91dGlscy5qcz81ODg1Iiwid2VicGFjazovL29tbmlzZXJ2ZXIvLi9lWGNsaWVudC9uZXR3b3JraW5nLmpzP2VmN2IiLCJ3ZWJwYWNrOi8vb21uaXNlcnZlci8uL2NsaWVudC9zY3JvbGwuanM/MzAxNSIsIndlYnBhY2s6Ly9vbW5pc2VydmVyLy4vY2xpZW50L2NvbXBvbmVudHMuanM/NWM3ZiIsIndlYnBhY2s6Ly9vbW5pc2VydmVyLy4vZVhjbGllbnQvaW5wdXQuanM/NmUwMyIsIndlYnBhY2s6Ly9vbW5pc2VydmVyLy4vZVhjbGllbnQvaW5kZXguanM/YmVjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5vcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiY29uc3QgY2FudmFzID0gd2luZG93LmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcclxuY29uc3QgY3R4ID0gd2luZG93LmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuY29uc3QgY2FtZXJhID0gd2luZG93LmNhbWVyYSA9IHtcclxuICAgIHg6IDAsIHk6IDAsIHNjYWxlOiAxXHJcbn1cclxuXHJcbndpbmRvdy5kZWZhdWx0Q29sb3JzID0ge1xyXG4gICAgdGlsZTogJyMxZjIyMjknLC8vIHRoZSBzdHJva2UgYW5kIG91dHNpZGUgb2YgYXJlbmFcclxuICAgIGJhY2tncm91bmQ6ICcjMzIzNjQ1JywvLyB0aGUgZmlsbGNvbG9yXHJcbiAgICB2aWduZXR0ZToge1xyXG4gICAgICAgIGlubmVyOiB7c2l6ZTowLjEscjowLGc6MCxiOjB9LFxyXG4gICAgICAgIG91dGVyOiB7c2l6ZTowLjYscjowLGc6MCxiOjB9LFxyXG4gICAgICAgIGlubmVySW50ZXJwOiB7c2l6ZTowLjEscjowLGc6MCxiOjB9LFxyXG4gICAgICAgIG91dGVySW50ZXJwOiB7c2l6ZTowLjYscjowLGc6MCxiOjB9XHJcbiAgICB9XHJcbn1cclxuXHJcbndpbmRvdy5jb2xvcnMgPSB7XHJcbiAgICB0aWxlOiB3aW5kb3cuZGVmYXVsdENvbG9ycy50aWxlLFxyXG4gICAgYmFja2dyb3VuZDogd2luZG93LmRlZmF1bHRDb2xvcnMuYmFja2dyb3VuZCxcclxuICAgIHZpZ25ldHRlOiB7XHJcbiAgICAgICAgaW5uZXI6IHtzaXplOjAuMSxyOjAsZzowLGI6MH0sXHJcbiAgICAgICAgb3V0ZXI6IHtzaXplOjAuNixyOjAsZzowLGI6MH0sXHJcbiAgICAgICAgaW5uZXJJbnRlcnA6IHtzaXplOjAuMSxyOjAsZzowLGI6MH0sXHJcbiAgICAgICAgb3V0ZXJJbnRlcnA6IHtzaXplOjAuNixyOjAsZzowLGI6MH1cclxuICAgIH1cclxufVxyXG5cclxud2luZG93LnNlbGZJZCA9IHVuZGVmaW5lZDtcclxud2luZG93LnRpbGVTaXplID0gMTAwO1xyXG4vLyBjb25zdCBmdWxsc2NyZWVuID0ge1xyXG4vLyAgICAgcmF0aW86IDkgLyAxNixcclxuLy8gICAgIHpvb206IDE4MDAsXHJcbi8vIH1cclxuY29uc3Qgd2lkdGggPSAxNjAwO1xyXG5jb25zdCBoZWlnaHQgPSA5MDA7XHJcblxyXG4vLyB3aW5kb3cudGlsZUltYWdlID0gdW5kZWZpbmVkO1xyXG4vLyB3aW5kb3cudGlsZUltYWdlQ29sb3JzID0ge1xyXG4vLyAgICAgdGlsZTogJycsIGJhY2tncm91bmQ6ICcnXHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGdlbmVyYXRlVGlsZUltYWdlKHt0aWxlLCBiYWNrZ3JvdW5kfSkge1xyXG4vLyAgICAgY29uc3QgY2FudiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4vLyAgICAgY29uc3QgdyA9IGNhbnZhcy53ICsgY3R4LmxpbmVXaWR0aCArIHdpbmRvdy50aWxlU2l6ZTtcclxuLy8gICAgIGNvbnN0IGggPSBjYW52YXMuaCArIGN0eC5saW5lV2lkdGggKyB3aW5kb3cudGlsZVNpemU7XHJcbiAgICBcclxuLy8gICAgIGNvbnN0IGN4ID0gY2Fudi5nZXRDb250ZXh0KCcyZCcpO1xyXG4vLyAgICAgY2Fudi53aWR0aCA9IHc7XHJcbi8vICAgICBjYW52LmhlaWdodCA9IGg7XHJcbi8vICAgICBjeC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuXHJcbi8vICAgICAvLyB0aWxlIGJhY2tncm91bmRcclxuLy8gICAgIGN4Lmdsb2JhbEFscGhhID0gMC43NTtcclxuLy8gICAgIGN4LnN0cm9rZVN0eWxlID0gdGlsZTtcclxuLy8gICAgIGN4LmZpbGxTdHlsZSA9IGJhY2tncm91bmQ7XHJcblxyXG4vLyAgICAgY3gubGluZVdpZHRoID0gMztcclxuLy8gICAgIGZvciAobGV0IHggPSAtY2FtZXJhLngldGlsZVNpemU7IHggPCBjYW52YXMudyArIGN0eC5saW5lV2lkdGggKyB3aW5kb3cudGlsZVNpemU7IHggKz0gd2luZG93LnRpbGVTaXplKSB7XHJcbi8vICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4vLyAgICAgICAgIGN0eC5tb3ZlVG8oeCwgMCk7XHJcbi8vICAgICAgICAgY3R4LmxpbmVUbyh4LCBjYW52YXMuaCk7XHJcbi8vICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4vLyAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBmb3IgKGxldCB5ID0gLWNhbWVyYS55JXRpbGVTaXplOyB5IDwgY2FudmFzLmggKyBjdHgubGluZVdpZHRoICsgd2luZG93LnRpbGVTaXplOyB5ICs9IHdpbmRvdy50aWxlU2l6ZSkge1xyXG4vLyAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuLy8gICAgICAgICBjdHgubW92ZVRvKDAsIHkpO1xyXG4vLyAgICAgICAgIGN0eC5saW5lVG8oY2FudmFzLncsIHkpO1xyXG4vLyAgICAgICAgIGN0eC5zdHJva2UoKTtcclxuLy8gICAgICAgICBjdHguY2xvc2VQYXRoKCk7Ly9cclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBjeC5nbG9iYWxBbHBoYSA9IDE7XHJcbi8vICAgICByZXR1cm4gY2FudjtcclxuLy8gfVxyXG5cclxuLy8gbGV0IHRpbGVJbWc7XHJcbi8vIGZ1bmN0aW9uIGNyZWF0ZVRpbGVJbWcoc2NhbGUsIHRoaWNjKSB7XHJcbi8vICAgICBjb25zdCB0aWxlU2l6ZSA9IDEwMDtcclxuLy8gICAgIC8vIGNvbnN0IHNpemUgPVxyXG4vLyAgICAgLy8gICAgIE1hdGgucm91bmQoTWF0aC5tYXgoY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSAvIHRpbGVTaXplKSAqXHJcbi8vICAgICAvLyAgICAgICAgIHRpbGVTaXplICtcclxuLy8gICAgIC8vICAgICAyMDA7XHJcbi8vICAgICBjb25zdCBjYW52ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbi8vICAgICBpZihzY2FsZSA8IDAuMSl7XHJcbi8vICAgICAgICAgcmV0dXJuIGNhbnY7XHJcbi8vICAgICB9XHJcbiAgICBcclxuLy8gICAgIGNvbnN0IHcgPSBjYW52YXMud2lkdGgvc2NhbGUgKyB0aWxlU2l6ZTtcclxuLy8gICAgIGNvbnN0IGggPSBjYW52YXMuaGVpZ2h0L3NjYWxlICsgdGlsZVNpemU7XHJcbiAgICBcclxuLy8gICAgIGNvbnN0IGN4ID0gY2Fudi5nZXRDb250ZXh0KCcyZCcpO1xyXG4vLyAgICAgY2Fudi53aWR0aCA9IHcvL3NpemUgLyBzY2FsZTtcclxuLy8gICAgIGNhbnYuaGVpZ2h0ID0gaC8vc2l6ZSAvIHNjYWxlO1xyXG4vLyAgICAgY3guaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XHJcblxyXG4vLyAgICAgLy8gdGlsZSBiYWNrZ3JvdW5kXHJcbi8vICAgICBjeC5nbG9iYWxBbHBoYSA9IDAuNzU7XHJcbi8vICAgICBjeC5zdHJva2VTdHlsZSA9IGNvbG9ycy50aWxlLy9jb2xvcnMuYmFja2dyb3VuZDtcclxuLy8gICAgIGN4LmxpbmVXaWR0aCA9IHRoaWNjID8gNCA6IDI7XHJcbi8vICAgICBmb3IgKGxldCB5ID0gMDsgeSA8PSBoOyB5ICs9IHRpbGVTaXplKSB7XHJcbi8vICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPD0gdzsgeCArPSB0aWxlU2l6ZSkge1xyXG4vLyAgICAgICAgICAgICBjeC5zdHJva2VSZWN0KHgsIHksIHRpbGVTaXplLCB0aWxlU2l6ZSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyAgICAgY3guZ2xvYmFsQWxwaGEgPSAxO1xyXG4vLyAgICAgcmV0dXJuIGNhbnY7XHJcbi8vIH1cclxuXHJcbmxldCBvcGFxSW5kZXgsIGxlbiwgbGFzdFBsYXllclgsIGxhc3RQbGF5ZXJZLCBsYXN0UGxheWVyUmFkaXVzLCBsYXN0R0EsIGogPSBmYWxzZSwgbGFzdE5MRFggPSAwLCBsYXN0TkxEWSA9IDA7XHJcbndpbmRvdy5yZW5kZXIgPSAob3M9d2luZG93Lm9ic3RhY2xlcywgY29scz13aW5kb3cuY29sb3JzLCBwbGF5ZXJzPXdpbmRvdy5wbGF5ZXJzKSA9PiB7XHJcbiAgICAvLyBUT0RPOiBvYnN0YWNsZSBpbnRlcnBvbGF0aW9uXHJcblxyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xzLnRpbGU7XHJcblxyXG4gICAgaWYod2luZG93LnNlbGZJZCAhPT0gdW5kZWZpbmVkKXtcclxuICAgICAgICBjb25zdCBtZSA9IHBsYXllcnNbd2luZG93LnNlbGZJZF07XHJcbiAgICAgICAgY2FtZXJhLnggPSBtZS5wb3MueDtcclxuICAgICAgICBjYW1lcmEueSA9IG1lLnBvcy55O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjdHguZmlsbFN0eWxlID0gY29scy50aWxlO1xyXG4gICAgY3R4LmZpbGxSZWN0KDAsMCxjYW52YXMudywgY2FudmFzLmgpO1xyXG5cclxuICAgIGN0eC5maWxsU3R5bGUgPSBjb2xzLmJhY2tncm91bmQ7XHJcbiAgICBjdHguZmlsbFJlY3QoLShjYW1lcmEueC1jYW52YXMudy8yKSwgLShjYW1lcmEueS1jYW52YXMuaC8yKSwgd2luZG93Lm1hcERpbWVuc2lvbnMueCwgd2luZG93Lm1hcERpbWVuc2lvbnMueSk7XHJcblxyXG4gICAgLy8gdGlsZSBiYWNrZ3JvdW5kXHJcbiAgICAvLyBjdHguc3Ryb2tlU3R5bGUgPSBjb2xzLnRpbGU7XHJcbiAgICAvLyBjdHguZmlsbFN0eWxlID0gY29scy5iYWNrZ3JvdW5kO1xyXG5cclxuICAgIC8vIGlmKHRpbGVJbWcgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAvLyAgICAgdGlsZUltZyA9IGNyZWF0ZVRpbGVJbWcoMSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gY29uc3QgaW1nID0gdGlsZUltZztcclxuICAgIC8vY3R4LnRyYW5zbGF0ZShwb3MueCAsIHBvcy55ICsgKGdyaWRPZmZzZXQueSAlIDUwKSk7XHJcbiAgICAvLyBjdHguZHJhd0ltYWdlKGltZywgKGNhbnZhcy53LzItY2FtZXJhLngpJXRpbGVTaXplLCAoY2FudmFzLmgvMi1jYW1lcmEueSkldGlsZVNpemUpO1xyXG4gICAgY3R4Lmdsb2JhbEFscGhhID0gMC43NTtcclxuICAgIGN0eC5saW5lV2lkdGggPSA0Ljg7XHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xzLnRpbGU7XHJcbiAgICBmb3IgKGxldCB4ID0gKGNhbnZhcy53LzItY2FtZXJhLngpJXRpbGVTaXplOyB4IDwgY2FudmFzLncgKyBjdHgubGluZVdpZHRoICsgd2luZG93LnRpbGVTaXplOyB4ICs9IHdpbmRvdy50aWxlU2l6ZSkge1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgubW92ZVRvKHgsIDApO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCwgY2FudmFzLmgpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgeSA9IChjYW52YXMuaC8yLWNhbWVyYS55KSV0aWxlU2l6ZTsgeSA8IGNhbnZhcy5oICsgY3R4LmxpbmVXaWR0aCArIHdpbmRvdy50aWxlU2l6ZTsgeSArPSB3aW5kb3cudGlsZVNpemUpIHtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbygwLCB5KTtcclxuICAgICAgICBjdHgubGluZVRvKGNhbnZhcy53LCB5KTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGN0eC5nbG9iYWxBbHBoYSA9IDE7XHJcblxyXG4gICAgLy8gVE9ETzogdGVzdCBpZiBpdCdzIGZhc3RlciB0byBkcmF3IHRpbGVzIG9yIGltYWdlXHJcbiAgICAvLyBpZih3aW5kb3cudGlsZUltYWdlQ29sb3JzLnRpbGUgIT09IHdpbmRvdy5jb2xvcnMudGlsZSB8fCB3aW5kb3cudGlsZUltYWdlQ29sb3JzLmJhY2tncm91bmQgIT09IHdpbmRvdy5jb2xvcnMuYmFja2dyb3VuZCl7XHJcbiAgICAvLyAgICAgLy8gVE9ETzogb3B0aW1pemUgZXZlbiBmdXJ0aGVyIHdpdGgganVzdCBnZW5lcmF0aW5nIGxpbmVzIGFuZCB1c2luZyBjbGVhclJlY3QgYW5kIGhhdmluZyBhbm90aGVyIGNhbnZhcyBpbiB0aGUgYmFja2dyb3VuZCB3aXRoIHRoZSBzb2xpZCBiZyBjb2xvciBmaWxsXHJcbiAgICAvLyAgICAgd2luZG93LnRpbGVJbWFnZSA9IGdlbmVyYXRlVGlsZUltYWdlKHdpbmRvdy5jb2xvcnMpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGN0eC5kcmF3SW1hZ2Uod2luZG93LnRpbGVJbWFnZSwgLWNhbWVyYS54ICUgdGlsZVNpemUsIC1jYW1lcmEueSAlIHRpbGVTaXplKTtcclxuICAgIGN0eC50cmFuc2xhdGUoLShjYW1lcmEueC1jYW52YXMudy8yKSwgLShjYW1lcmEueS1jYW52YXMuaC8yKSk7XHJcblxyXG4gICAgLy8gcmVuZGVyIG9ic3RhY2xlc1xyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IG9zLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICBsZW4gPSBvc1tpXS5lZmZlY3QubGVuZ3RoO1xyXG4gICAgICAgIGlmKGxlbiA9PT0gMSl7XHJcbiAgICAgICAgICAgIGogPSAwO1xyXG4gICAgICAgICAgICBjdHgudG9GaWxsID0gdHJ1ZTtcclxuICAgICAgICAgICAgY3R4LnRvU3Ryb2tlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSA0OyBcclxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBvc1tpXS5yZW5kZXJTaGFwZShvc1tpXSk7XHJcbiAgICAgICAgICAgIG9zW2ldLnJlbmRlckVmZmVjdFtqXShvc1tpXSk7XHJcbiAgICAgICAgICAgIGlmKG9zW2ldLmlzVGV4dCA9PT0gdHJ1ZSkgcmVuZGVyVGV4dFNwZWNpYWxzKG9zW2ldLCBjb2xzKTtcclxuICAgICAgICAgICAgaWYoY3R4LnRvRmlsbCA9PT0gdHJ1ZSkgY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgaWYoY3R4LnRvU3Ryb2tlID09PSB0cnVlKSBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIGlmKGN0eC5jbGVhblVwRnVuY3Rpb24gIT09IHVuZGVmaW5lZCkgeyBjdHguY2xlYW5VcEZ1bmN0aW9uKCk7IGN0eC5jbGVhblVwRnVuY3Rpb24gPSB1bmRlZmluZWQ7IH1cclxuICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNvIHdlIHdhbnQgdG8gZmFkZSBiZXR3ZWVuIHRoZSBlZmZlY3QgcmVuZGVycy4gV2UgcmVuZGVyIGEgcHJldmlvdXMgb25lIHdpdGggMSBvcGFjaXR5IGFuZCB0aGVuIHJhaXNlIHRoZSBuZXh0IG9uZSBmcm9tIDAtMSBvcGFjaXR5LCB1bnRpbCB0aGUgbmV4dCBvbmUgYmVjb21lcyB0aGUgcHJldmlvdXMgYW5kIHRoZSBjeWNsZSByZXBlYXRzXHJcbiAgICAgICAgICAgIG9zW2ldLnJlbmRlckVmZmVjdFRpbWVyICs9IDEvMTI4O1xyXG4gICAgICAgICAgICBpZihvc1tpXS5yZW5kZXJFZmZlY3RUaW1lciA+PSBsZW4pIG9zW2ldLnJlbmRlckVmZmVjdFRpbWVyIC09IGxlbjtcclxuXHJcbiAgICAgICAgICAgIG9wYXFJbmRleCA9IE1hdGguZmxvb3Iob3NbaV0ucmVuZGVyRWZmZWN0VGltZXIpO1xyXG4gICAgICAgICAgICAvKmxldCBmdWxsSW5kZXgqL2ogPSBvcGFxSW5kZXggLSAxO1xyXG4gICAgICAgICAgICBpZigvKmZ1bGxJbmRleCovaiA9PT0gLTEpIC8qZnVsbEluZGV4Ki9qID0gbGVuLTE7XHJcbiAgICAgICAgICAgIC8vIGogPSBmdWxsSW5kZXg7XHJcblxyXG4gICAgICAgICAgICAvLyByZW5kZXIgZnVsbCBpbmRleFxyXG4gICAgICAgICAgICBjdHgudG9GaWxsID0gdHJ1ZTtcclxuICAgICAgICAgICAgY3R4LnRvU3Ryb2tlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xyXG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIG9zW2ldLnJlbmRlclNoYXBlKG9zW2ldKTtcclxuICAgICAgICAgICAgb3NbaV0ucmVuZGVyRWZmZWN0W2pdKG9zW2ldKTtcclxuICAgICAgICAgICAgaWYob3NbaV0uaXNUZXh0ID09PSB0cnVlKSByZW5kZXJUZXh0U3BlY2lhbHMob3NbaV0sIGNvbHMpO1xyXG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG4gICAgICAgICAgICBpZihjdHgudG9GaWxsID09PSB0cnVlKSBjdHguZmlsbCgpO1xyXG4gICAgICAgICAgICBpZihjdHgudG9TdHJva2UgPT09IHRydWUpIGN0eC5zdHJva2UoKTtcclxuICAgICAgICAgICAgaWYoY3R4LmNsZWFuVXBGdW5jdGlvbiAhPT0gdW5kZWZpbmVkKSB7IGN0eC5jbGVhblVwRnVuY3Rpb24oKTsgY3R4LmNsZWFuVXBGdW5jdGlvbiA9IHVuZGVmaW5lZDsgfVxyXG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcblxyXG4gICAgICAgICAgICAvLyByZW5kZXIgb3BhcSBpbmRleFxyXG4gICAgICAgICAgICBqID0gb3BhcUluZGV4O1xyXG4gICAgICAgICAgICBjdHgudG9GaWxsID0gdHJ1ZTtcclxuICAgICAgICAgICAgY3R4LnRvU3Ryb2tlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xyXG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIG9zW2ldLnJlbmRlclNoYXBlKG9zW2ldKTtcclxuICAgICAgICAgICAgb3NbaV0ucmVuZGVyRWZmZWN0W2pdKG9zW2ldKTtcclxuICAgICAgICAgICAgaWYob3NbaV0uaXNUZXh0ID09PSB0cnVlKSByZW5kZXJUZXh0U3BlY2lhbHMob3NbaV0sIGNvbHMpO1xyXG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBvc1tpXS5yZW5kZXJFZmZlY3RUaW1lciAtIG9wYXFJbmRleDtcclxuICAgICAgICAgICAgaWYoY3R4LnRvRmlsbCA9PT0gdHJ1ZSkgY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgaWYoY3R4LnRvU3Ryb2tlID09PSB0cnVlKSBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIGlmKGN0eC5jbGVhblVwRnVuY3Rpb24gIT09IHVuZGVmaW5lZCkgeyBjdHguY2xlYW5VcEZ1bmN0aW9uKCk7IGN0eC5jbGVhblVwRnVuY3Rpb24gPSB1bmRlZmluZWQ7IH1cclxuICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyByZW5kZXIgcGxheWVyc1xyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHBsYXllcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGNvbnN0IHBsYXllciA9IHBsYXllcnNbaV07XHJcbiAgICAgICAgaWYocGxheWVyID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBwbGF5ZXIuZGVhZCA9PT0gdHJ1ZSA/ICdyZWQnIDogJ2JsYWNrJztcclxuXHJcbiAgICAgICAgY29uc3QgbGFzdFJhZGl1cyA9IHBsYXllci5zYXQucjtcclxuICAgICAgICBwbGF5ZXIuc2F0LnIgPSBwbGF5ZXIucmVuZGVyUmFkaXVzO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBwbGF5ZXIucmVuZGVyU2hhcGUocGxheWVyKTtcclxuICAgICAgICBcclxuICAgICAgICBpZihwbGF5ZXIucmVuZGVyUmFkaXVzID49IDApIGN0eC5maWxsKCk7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG5lZ2F0aXZlIHJhZGl1c1xyXG4gICAgICAgICAgICBjb25zdCBkaWFtZXRlciA9IDIgKiBNYXRoLlBJICogTWF0aC5hYnMocGxheWVyLmRlYWQgPT09IHRydWUgPyBwbGF5ZXIuc2F0LnIgOiBsYXN0UGxheWVyUmFkaXVzKTtcclxuICAgICAgICAgICAgY29uc3QgdGltZXNBcm91bmQgPSBNYXRoLm1heCgzLCBNYXRoLmZsb29yKGRpYW1ldGVyIC8gNDIpKTtcclxuICAgICAgICAgICAgbGFzdE5MRFggPSBsYXN0TkxEWCAqIDAuOTYgKyAyLzcqZGlhbWV0ZXIvdGltZXNBcm91bmQgKiAwLjA0O1xyXG4gICAgICAgICAgICBsYXN0TkxEWSA9IGxhc3ROTERZICogMC45NiArIDUvNypkaWFtZXRlci90aW1lc0Fyb3VuZCAqIDAuMDQ7XHJcbiAgICAgICAgICAgIGN0eC5zZXRMaW5lRGFzaChbbGFzdE5MRFgsIGxhc3ROTERZXSk7XHJcbiAgICAgICAgICAgIGN0eC5saW5lRGFzaE9mZnNldCA9ICgtd2luZG93LnRpbWUgLyAyNikgJSBkaWFtZXRlcjtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gY3R4LmZpbGxTdHlsZTtcclxuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDg7XHJcbiAgICAgICAgICAgIGN0eC5saW5lQ2FwID0gJ3JvdW5kJztcclxuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICBjdHguc2V0TGluZURhc2goW10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihwbGF5ZXIuZ29kID09PSB0cnVlKSB7Y3R4LnN0cm9rZVN0eWxlID0gJ3B1cnBsZSc7IGN0eC5saW5lV2lkdGggPSAxMDsgY3R4LnN0cm9rZSgpOyB9XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG5cclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcclxuICAgICAgICBjdHguZm9udCA9IGAkezE1ICogKChNYXRoLmFicyhwbGF5ZXIucmVuZGVyUmFkaXVzKSArIDAuNSkgLyAyNSl9cHggSW50ZXJgO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KFxyXG4gICAgICAgICAgICBwbGF5ZXIubmFtZSxcclxuICAgICAgICAgICAgcGxheWVyLnBvcy54LFxyXG4gICAgICAgICAgICBwbGF5ZXIucG9zLnkgKyBwbGF5ZXIucmVuZGVyUmFkaXVzICogNC8zICsgM1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHBsYXllci5zYXQuciA9IGxhc3RSYWRpdXM7XHJcbiAgICB9XHJcblxyXG4gICAgY3R4LnRyYW5zbGF0ZShjYW1lcmEueC1jYW52YXMudy8yLCBjYW1lcmEueS1jYW52YXMuaC8yKTtcclxuXHJcbiAgICAvLyB2aWduZXR0ZVxyXG4gICAgY29uc3QgdiA9IHdpbmRvdy5jb2xvcnMudmlnbmV0dGU7XHJcbiAgICBmb3IobGV0IGtleSBpbiB2LmlubmVySW50ZXJwKXtcclxuICAgICAgICB2LmlubmVySW50ZXJwW2tleV0gPSBpbnRlcnBvbGF0ZSh2LmlubmVySW50ZXJwW2tleV0sIHYuaW5uZXJba2V5XSwgMC4wMyk7XHJcbiAgICB9XHJcbiAgICBmb3IobGV0IGtleSBpbiB2Lm91dGVySW50ZXJwKXtcclxuICAgICAgICB2Lm91dGVySW50ZXJwW2tleV0gPSBpbnRlcnBvbGF0ZSh2Lm91dGVySW50ZXJwW2tleV0sIHYub3V0ZXJba2V5XSwgMC4wMyk7XHJcbiAgICB9XHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjb25zdCBncmQgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoXHJcbiAgICAgICAgY2FudmFzLncgLyAyLFxyXG4gICAgICAgIGNhbnZhcy5oIC8gMixcclxuICAgICAgICAoY2FudmFzLncgKiB2LmlubmVySW50ZXJwLnNpemUpLFxyXG4gICAgICAgIGNhbnZhcy53IC8gMixcclxuICAgICAgICBjYW52YXMuaCAvIDIsXHJcbiAgICAgICAgKGNhbnZhcy53ICogdi5vdXRlckludGVycC5zaXplKVxyXG4gICAgKTtcclxuXHJcbiAgICBncmQuYWRkQ29sb3JTdG9wKFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgYHJnYmEoJHt2LmlubmVyLnJ9LCR7di5pbm5lci5nfSwke3YuaW5uZXIuYn0sMClgXHJcbiAgICApO1xyXG4gICAgZ3JkLmFkZENvbG9yU3RvcChcclxuICAgICAgICAxLFxyXG4gICAgICAgIGByZ2JhKCR7di5vdXRlci5yfSwke3Yub3V0ZXIuZ30sJHt2Lm91dGVyLmJ9LDEpYFxyXG4gICAgKTtcclxuICAgIGN0eC5maWxsU3R5bGUgPSBncmQ7XHJcbiAgICBjdHguZmlsbFJlY3QoMCwwLGNhbnZhcy53LGNhbnZhcy5oKTtcclxuICAgIGN0eC5maWxsKCk7XHJcbiAgICBjdHguY2xvc2VQYXRoKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGludGVycG9sYXRlKHN0YXJ0LCBlbmQsIHQpe1xyXG4gICAgcmV0dXJuICgxLXQpICogc3RhcnQgKyB0ICogZW5kO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJUZXh0U3BlY2lhbHMobywgY29scyl7XHJcbiAgICBsYXN0R0EgPSBjdHguZ2xvYmFsQWxwaGE7XHJcbiAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICBjdHguZm9udCA9IGAke28uZm9udFNpemV9cHggSW50ZXJgO1xyXG4gICAgY3R4LnRyYW5zbGF0ZShvLnNhdC5wb2ludHNbMF0ueCArIG8uc2F0LnBvcy54LCBvLnNhdC5wb2ludHNbMF0ueSArIG8uc2F0LnBvcy55KTtcclxuICAgIGlmKG8ucm90YXRpb24gIT09IHVuZGVmaW5lZCkgY3R4LnJvdGF0ZShvLnJvdGF0aW9uKTtcclxuICAgIGlmKGN0eC5nbG9iYWxBbHBoYSA8IDAuNSkgY3R4Lmdsb2JhbEFscGhhID0gMC41O1xyXG4gICAgaWYoY3R4LnRvRmlsbCA9PT0gdHJ1ZSkgY3R4LmZpbGxUZXh0KG8udGV4dCwgby5kaW1lbnNpb25zLngvMiAtIG8uZGltZW5zaW9ucy53T2Zmc2V0LCBvLmRpbWVuc2lvbnMueS8yIC0gby5kaW1lbnNpb25zLmhPZmZzZXQpO1xyXG4gICAgaWYoY3R4LnRvU3Ryb2tlID09PSB0cnVlKSBjdHguc3Ryb2tlVGV4dChvLnRleHQsIG8uZGltZW5zaW9ucy54LzIgLSBvLmRpbWVuc2lvbnMud09mZnNldCwgby5kaW1lbnNpb25zLnkvMiAtIG8uZGltZW5zaW9ucy5oT2Zmc2V0KTtcclxuICAgIGVsc2UgaWYoY3R4LnRvRmlsbCA9PT0gZmFsc2UpIHtcclxuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xzLnRpbGU7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KG8udGV4dCwgby5kaW1lbnNpb25zLngvMiAtIG8uZGltZW5zaW9ucy53T2Zmc2V0LCBvLmRpbWVuc2lvbnMueS8yIC0gby5kaW1lbnNpb25zLmhPZmZzZXQpO1xyXG4gICAgfVxyXG4gICAgaWYoby5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSBjdHgucm90YXRlKC1vLnJvdGF0aW9uKTtcclxuICAgIGN0eC50cmFuc2xhdGUoLW8uc2F0LnBvaW50c1swXS54IC0gby5zYXQucG9zLngsIC1vLnNhdC5wb2ludHNbMF0ueSAtIG8uc2F0LnBvcy55KTtcclxuICAgIGN0eC5nbG9iYWxBbHBoYSA9IE1hdGgubWluKDAuNSwgbGFzdEdBKTtcclxufVxyXG5cclxuLy8gY2FudmFzIHJlc2l6aW5nXHJcbmZ1bmN0aW9uIHJlc2l6ZSgpe1xyXG4gICAgLy8gY29uc3QgZHBpID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XHJcbiAgICAvLyBjYW52YXMuc3R5bGUud2lkdGggPSBNYXRoLmNlaWwod2luZG93LmlubmVyV2lkdGgpICsgJ3B4JztcclxuICAgIC8vIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBNYXRoLmNlaWwod2luZG93LmlubmVySGVpZ2h0KSArICdweCc7XHJcbiAgICAvLyBjYW52YXMud2lkdGggPSBNYXRoLmNlaWwod2luZG93LmlubmVyV2lkdGgpICogZHBpO1xyXG4gICAgLy8gY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbCh3aW5kb3cuaW5uZXJIZWlnaHQpICogZHBpO1xyXG4gICAgLy8gY2FudmFzLnpvb20gPSBNYXRoLm1heCgwLjEsIE1hdGgucm91bmQoKE1hdGgubWF4KGNhbnZhcy5oZWlnaHQsIGNhbnZhcy53aWR0aCAqIGZ1bGxzY3JlZW4ucmF0aW8pIC8gZnVsbHNjcmVlbi56b29tICogY2FtZXJhLnNjYWxlKSAqIDEwMCkgLyAxMDApO1xyXG4gICAgLy8gLy8gdyBhbmQgaCBhcmUgY2FsY2VkIHdpdGggem9vbVxyXG4gICAgLy8gY2FudmFzLncgPSBjYW52YXMud2lkdGggLyBjYW52YXMuem9vbTtcclxuICAgIC8vIGNhbnZhcy5oID0gY2FudmFzLmhlaWdodCAvIGNhbnZhcy56b29tO1xyXG4gICAgLy8gY3R4LnNjYWxlKGNhbnZhcy56b29tLCBjYW52YXMuem9vbSk7XHJcbiAgICAvLyBjdHgubGluZUpvaW4gPSAncm91bmQnO1xyXG4gICAgLy8gY3R4LmxpbmVDYXAgPSAncm91bmQnO1xyXG5cclxuICAgIC8vIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuICAgIC8vIGNhbnZhcy5fc2NhbGVNdWx0ID0gMC41O1xyXG4gICAgY2FudmFzLnpvb20gPSAxO3dpbmRvdy5yZXNpemUoW2NhbnZhcywgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmd1aScpXSk7XHJcbiAgICBjYW52YXMudyA9IGNhbnZhcy53aWR0aCAvIGNhbnZhcy56b29tIC8gd2luZG93LmNhbWVyYS5zY2FsZTtcclxuICAgIGNhbnZhcy5oID0gY2FudmFzLmhlaWdodCAvIGNhbnZhcy56b29tIC8gd2luZG93LmNhbWVyYS5zY2FsZTtcclxufVxyXG5cclxud2luZG93LmNoYW5nZUNhbWVyYVNjYWxlID0gKHNjYWxlKSA9PiB7XHJcbiAgICBjdHgudHJhbnNsYXRlKC0oMS0xL3dpbmRvdy5jYW1lcmEuc2NhbGUpKmNhbnZhcy53LzIsIC0oMS0xL3dpbmRvdy5jYW1lcmEuc2NhbGUpKmNhbnZhcy5oLzIpO1xyXG5cclxuICAgIGN0eC50cmFuc2xhdGUoY2FudmFzLncvMiwgY2FudmFzLmgvMik7XHJcbiAgICBjdHguc2NhbGUoMS93aW5kb3cuY2FtZXJhLnNjYWxlLCAxL3dpbmRvdy5jYW1lcmEuc2NhbGUpO1xyXG4gICAgY3R4LnRyYW5zbGF0ZSgtY2FudmFzLncvMiwgLWNhbnZhcy5oLzIpO1xyXG5cclxuICAgIHdpbmRvdy5jYW1lcmEuc2NhbGUgPSBzY2FsZTtcclxuICAgIGNhbnZhcy53ID0gY2FudmFzLndpZHRoIC8gY2FudmFzLnpvb20gLyB3aW5kb3cuY2FtZXJhLnNjYWxlO1xyXG4gICAgY2FudmFzLmggPSBjYW52YXMuaGVpZ2h0IC8gY2FudmFzLnpvb20gLyB3aW5kb3cuY2FtZXJhLnNjYWxlO1xyXG5cclxuICAgIGN0eC50cmFuc2xhdGUoY2FudmFzLncvMiwgY2FudmFzLmgvMik7XHJcbiAgICBjdHguc2NhbGUod2luZG93LmNhbWVyYS5zY2FsZSwgd2luZG93LmNhbWVyYS5zY2FsZSk7XHJcbiAgICBjdHgudHJhbnNsYXRlKC1jYW52YXMudy8yLCAtY2FudmFzLmgvMik7XHJcbiAgICBcclxuICAgIGN0eC50cmFuc2xhdGUoKDEtMS93aW5kb3cuY2FtZXJhLnNjYWxlKSpjYW52YXMudy8yLCAoMS0xL3dpbmRvdy5jYW1lcmEuc2NhbGUpKmNhbnZhcy5oLzIpO1xyXG59XHJcblxyXG53aW5kb3cucmVzaXplID0gZnVuY3Rpb24gKGVsZW1lbnRzKSB7XHJcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcclxuICAgICAgICBpZiAoZWxlbWVudC53aWR0aCAhPT0gd2lkdGgpIHtcclxuICAgICAgICAgICAgZWxlbWVudC53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZWxlbWVudC5oZWlnaHQgIT09IGhlaWdodCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc2NhbGVNdWx0ID0gZWxlbWVudD8uX3NjYWxlTXVsdCA/PyAxO1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gYHNjYWxlKCR7XHJcbiAgICAgICAgICAgIE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoIC8gd2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCAvIGhlaWdodCkgKlxyXG4gICAgICAgICAgICBzY2FsZU11bHRcclxuICAgICAgICB9KWA7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7KHdpbmRvdy5pbm5lcldpZHRoIC0gd2lkdGgpIC8gMn1weGA7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSBgJHsod2luZG93LmlubmVySGVpZ2h0IC0gaGVpZ2h0KSAvIDJ9cHhgO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoIC8gd2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCAvIGhlaWdodCk7XHJcbn07XHJcbiAgXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXNpemUoKTtcclxufSk7XHJcbnJlc2l6ZSgpO1xyXG5jaGFuZ2VDYW1lcmFTY2FsZSgwLjUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcmVuZGVyOyIsIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP3QoZXhwb3J0cyk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCJdLHQpOnQoKGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczplfHxzZWxmKS5tc2dwYWNrcj17fSl9KHRoaXMsZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7dHJ5eyQ9bmV3IFRleHREZWNvZGVyfWNhdGNoKHQpe312YXIgJCxyLG4saSxzLGYsdSxsLG8sYT0wLGM9e30seD0wLGQ9MCxoPVtdLF89e3VzZVJlY29yZHM6ITEsbWFwc0FzT2JqZWN0czohMH07Y2xhc3MgcHt9bGV0IGc9bmV3IHA7Zy5uYW1lPVwiTWVzc2FnZVBhY2sgMHhDMVwiO3ZhciB5PSExLGI9Mjt0cnl7RnVuY3Rpb24oXCJcIil9Y2F0Y2godyl7Yj0xLzB9Y2xhc3MgbXtjb25zdHJ1Y3RvcihlKXtlJiYoITE9PT1lLnVzZVJlY29yZHMmJnZvaWQgMD09PWUubWFwc0FzT2JqZWN0cyYmKGUubWFwc0FzT2JqZWN0cz0hMCksIWUuc2VxdWVudGlhbHx8ITE9PT1lLnRydXN0ZWR8fChlLnRydXN0ZWQ9ITAsZS5zdHJ1Y3R1cmVzfHwhMT09ZS51c2VSZWNvcmRzfHwoZS5zdHJ1Y3R1cmVzPVtdLGUubWF4U2hhcmVkU3RydWN0dXJlc3x8KGUubWF4U2hhcmVkU3RydWN0dXJlcz0wKSkpLGUuc3RydWN0dXJlcz9lLnN0cnVjdHVyZXMuc2hhcmVkTGVuZ3RoPWUuc3RydWN0dXJlcy5sZW5ndGg6ZS5nZXRTdHJ1Y3R1cmVzJiYoKGUuc3RydWN0dXJlcz1bXSkudW5pbml0aWFsaXplZD0hMCxlLnN0cnVjdHVyZXMuc2hhcmVkTGVuZ3RoPTApLGUuaW50NjRBc051bWJlciYmKGUuaW50NjRBc1R5cGU9XCJudW1iZXJcIikpLE9iamVjdC5hc3NpZ24odGhpcyxlKX11bnBhY2soZSx0KXtpZihyKXJldHVybiBHKCgpPT4oSCgpLHRoaXM/dGhpcy51bnBhY2soZSx0KTptLnByb3RvdHlwZS51bnBhY2suY2FsbChfLGUsdCkpKTtlLmJ1ZmZlcnx8ZS5jb25zdHJ1Y3RvciE9PUFycmF5QnVmZmVyfHwoZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgQnVmZmVyP0J1ZmZlci5mcm9tKGUpOm5ldyBVaW50OEFycmF5KGUpKSxcIm9iamVjdFwiPT10eXBlb2YgdD8obj10LmVuZHx8ZS5sZW5ndGgsYT10LnN0YXJ0fHwwKTooYT0wLG49dD4tMT90OmUubGVuZ3RoKSxkPTAscz1udWxsLGY9bnVsbCxyPWU7dHJ5e2w9ZS5kYXRhVmlld3x8KGUuZGF0YVZpZXc9bmV3IERhdGFWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpKX1jYXRjaCgkKXtpZihyPW51bGwsZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpdGhyb3cgJDt0aHJvdyBFcnJvcihcIlNvdXJjZSBtdXN0IGJlIGEgVWludDhBcnJheSBvciBCdWZmZXIgYnV0IHdhcyBhIFwiKyhlJiZcIm9iamVjdFwiPT10eXBlb2YgZT9lLmNvbnN0cnVjdG9yLm5hbWU6dHlwZW9mIGUpKX1yZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG0/KGM9dGhpcyx0aGlzLnN0cnVjdHVyZXM/aT10aGlzLnN0cnVjdHVyZXM6KCFpfHxpLmxlbmd0aD4wKSYmKGk9W10pKTooYz1fLCghaXx8aS5sZW5ndGg+MCkmJihpPVtdKSksUyh0KX11bnBhY2tNdWx0aXBsZShlLHQpe2xldCAkLHI9MDt0cnl7eT0hMDtsZXQgbj1lLmxlbmd0aCxpPXRoaXM/dGhpcy51bnBhY2soZSxuKTplZS51bnBhY2soZSxuKTtpZih0KXtpZighMT09PXQoaSxyLGEpKXJldHVybjtmb3IoO2E8bjspaWYocj1hLCExPT09dChTKCkscixhKSlyZXR1cm59ZWxzZXtmb3IoJD1baV07YTxuOylyPWEsJC5wdXNoKFMoKSk7cmV0dXJuICR9fWNhdGNoKHMpe3Rocm93IHMubGFzdFBvc2l0aW9uPXIscy52YWx1ZXM9JCxzfWZpbmFsbHl7eT0hMSxIKCl9fV9tZXJnZVN0cnVjdHVyZXMoZSx0KXtPYmplY3QuaXNGcm96ZW4oZT1lfHxbXSkmJihlPWUubWFwKGU9PmUuc2xpY2UoMCkpKTtmb3IobGV0ICQ9MCxyPWUubGVuZ3RoOyQ8cjskKyspe2xldCBuPWVbJF07biYmKG4uaXNTaGFyZWQ9ITAsJD49MzImJihuLmhpZ2hCeXRlPSQtMzI+PjUpKX1mb3IobGV0IGkgaW4gZS5zaGFyZWRMZW5ndGg9ZS5sZW5ndGgsdHx8W10paWYoaT49MCl7bGV0IHM9ZVtpXSxmPXRbaV07ZiYmKHMmJigoZS5yZXN0b3JlU3RydWN0dXJlc3x8KGUucmVzdG9yZVN0cnVjdHVyZXM9W10pKVtpXT1zKSxlW2ldPWYpfXJldHVybiB0aGlzLnN0cnVjdHVyZXM9ZX1kZWNvZGUoZSx0KXtyZXR1cm4gdGhpcy51bnBhY2soZSx0KX19ZnVuY3Rpb24gUyhlKXt0cnl7aWYoIWMudHJ1c3RlZCYmIXkpe2xldCB0PWkuc2hhcmVkTGVuZ3RofHwwO3Q8aS5sZW5ndGgmJihpLmxlbmd0aD10KX1sZXQgJDtpZihjLnJhbmRvbUFjY2Vzc1N0cnVjdHVyZSYmclthXTw2NCYmclthXT49MzImJm8/KCQ9byhyLGEsbixjKSxyPW51bGwsIShlJiZlLmxhenkpJiYkJiYoJD0kLnRvSlNPTigpKSxhPW4pOiQ9aygpLGYmJihhPWYucG9zdEJ1bmRsZVBvc2l0aW9uLGY9bnVsbCkseSYmKGkucmVzdG9yZVN0cnVjdHVyZXM9bnVsbCksYT09bilpJiZpLnJlc3RvcmVTdHJ1Y3R1cmVzJiZVKCksaT1udWxsLHI9bnVsbCx1JiYodT1udWxsKTtlbHNlIGlmKGE+bil0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgZW5kIG9mIE1lc3NhZ2VQYWNrIGRhdGFcIik7ZWxzZSBpZigheSl7bGV0IHM7dHJ5e3M9SlNPTi5zdHJpbmdpZnkoJCwoZSx0KT0+XCJiaWdpbnRcIj09dHlwZW9mIHQ/YCR7dH1uYDp0KS5zbGljZSgwLDEwMCl9Y2F0Y2gobCl7cz1cIihKU09OIHZpZXcgbm90IGF2YWlsYWJsZSBcIitsK1wiKVwifXRocm93IEVycm9yKFwiRGF0YSByZWFkLCBidXQgZW5kIG9mIGJ1ZmZlciBub3QgcmVhY2hlZCBcIitzKX1yZXR1cm4gJH1jYXRjaCh4KXt0aHJvdyBpJiZpLnJlc3RvcmVTdHJ1Y3R1cmVzJiZVKCksSCgpLCh4IGluc3RhbmNlb2YgUmFuZ2VFcnJvcnx8eC5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJVbmV4cGVjdGVkIGVuZCBvZiBidWZmZXJcIil8fGE+bikmJih4LmluY29tcGxldGU9ITApLHh9fWZ1bmN0aW9uIFUoKXtmb3IobGV0IGUgaW4gaS5yZXN0b3JlU3RydWN0dXJlcylpW2VdPWkucmVzdG9yZVN0cnVjdHVyZXNbZV07aS5yZXN0b3JlU3RydWN0dXJlcz1udWxsfWZ1bmN0aW9uIGsoKXtsZXQgZT1yW2ErK107aWYoZTwxNjApe2lmKGU8MTI4KXtpZihlPDY0KXJldHVybiBlO3tsZXQgdD1pWzYzJmVdfHxjLmdldFN0cnVjdHVyZXMmJk8oKVs2MyZlXTtyZXR1cm4gdD8odC5yZWFkfHwodC5yZWFkPUEodCw2MyZlKSksdC5yZWFkKCkpOmV9fWlmKGU8MTQ0KXtpZihlLT0xMjgsYy5tYXBzQXNPYmplY3RzKXtsZXQgJD17fTtmb3IobGV0IHU9MDt1PGU7dSsrKXtsZXQgbz1XKCk7XCJfX3Byb3RvX19cIj09PW8mJihvPVwiX19wcm90b19cIiksJFtvXT1rKCl9cmV0dXJuICR9e2xldCBfPW5ldyBNYXA7Zm9yKGxldCBwPTA7cDxlO3ArKylfLnNldChrKCksaygpKTtyZXR1cm4gX319e2xldCB5PUFycmF5KGUtPTE0NCk7Zm9yKGxldCBiPTA7YjxlO2IrKyl5W2JdPWsoKTtyZXR1cm4gYy5mcmVlemVEYXRhP09iamVjdC5mcmVlemUoeSk6eX19aWYoZTwxOTIpe2xldCB3PWUtMTYwO2lmKGQ+PWEpcmV0dXJuIHMuc2xpY2UoYS14LChhKz13KS14KTtpZigwPT1kJiZuPDE0MCl7bGV0IG09dzwxNj9DKHcpOlIodyk7aWYobnVsbCE9bSlyZXR1cm4gbX1yZXR1cm4gVCh3KX17bGV0IFM7c3dpdGNoKGUpe2Nhc2UgMTkyOnJldHVybiBudWxsO2Nhc2UgMTkzOmlmKGYpe2lmKChTPWsoKSk+MClyZXR1cm4gZlsxXS5zbGljZShmLnBvc2l0aW9uMSxmLnBvc2l0aW9uMSs9Uyk7cmV0dXJuIGZbMF0uc2xpY2UoZi5wb3NpdGlvbjAsZi5wb3NpdGlvbjAtPVMpfXJldHVybiBnO2Nhc2UgMTk0OnJldHVybiExO2Nhc2UgMTk1OnJldHVybiEwO2Nhc2UgMTk2OmlmKHZvaWQgMD09PShTPXJbYSsrXSkpdGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIGVuZCBvZiBidWZmZXJcIik7cmV0dXJuIE4oUyk7Y2FzZSAxOTc6cmV0dXJuIFM9bC5nZXRVaW50MTYoYSksYSs9MixOKFMpO2Nhc2UgMTk4OnJldHVybiBTPWwuZ2V0VWludDMyKGEpLGErPTQsTihTKTtjYXNlIDE5OTpyZXR1cm4gRChyW2ErK10pO2Nhc2UgMjAwOnJldHVybiBTPWwuZ2V0VWludDE2KGEpLGErPTIsRChTKTtjYXNlIDIwMTpyZXR1cm4gUz1sLmdldFVpbnQzMihhKSxhKz00LEQoUyk7Y2FzZSAyMDI6aWYoUz1sLmdldEZsb2F0MzIoYSksYy51c2VGbG9hdDMyPjIpe2xldCBVPVFbKDEyNyZyW2FdKTw8MXxyW2ErMV0+PjddO3JldHVybiBhKz00LChVKlMrKFM+MD8uNTotLjUpPj4wKS9VfXJldHVybiBhKz00LFM7Y2FzZSAyMDM6cmV0dXJuIFM9bC5nZXRGbG9hdDY0KGEpLGErPTgsUztjYXNlIDIwNDpyZXR1cm4gclthKytdO2Nhc2UgMjA1OnJldHVybiBTPWwuZ2V0VWludDE2KGEpLGErPTIsUztjYXNlIDIwNjpyZXR1cm4gUz1sLmdldFVpbnQzMihhKSxhKz00LFM7Y2FzZSAyMDc6cmV0dXJuXCJudW1iZXJcIj09PWMuaW50NjRBc1R5cGU/KFM9NDI5NDk2NzI5NipsLmdldFVpbnQzMihhKSxTKz1sLmdldFVpbnQzMihhKzQpKTpcInN0cmluZ1wiPT09Yy5pbnQ2NEFzVHlwZT9TPWwuZ2V0QmlnVWludDY0KGEpLnRvU3RyaW5nKCk6XCJhdXRvXCI9PT1jLmludDY0QXNUeXBlPyhTPWwuZ2V0QmlnVWludDY0KGEpKTw9QmlnSW50KDIpPDxCaWdJbnQoNTIpJiYoUz1OdW1iZXIoUykpOlM9bC5nZXRCaWdVaW50NjQoYSksYSs9OCxTO2Nhc2UgMjA4OnJldHVybiBsLmdldEludDgoYSsrKTtjYXNlIDIwOTpyZXR1cm4gUz1sLmdldEludDE2KGEpLGErPTIsUztjYXNlIDIxMDpyZXR1cm4gUz1sLmdldEludDMyKGEpLGErPTQsUztjYXNlIDIxMTpyZXR1cm5cIm51bWJlclwiPT09Yy5pbnQ2NEFzVHlwZT8oUz00Mjk0OTY3Mjk2KmwuZ2V0SW50MzIoYSksUys9bC5nZXRVaW50MzIoYSs0KSk6XCJzdHJpbmdcIj09PWMuaW50NjRBc1R5cGU/Uz1sLmdldEJpZ0ludDY0KGEpLnRvU3RyaW5nKCk6XCJhdXRvXCI9PT1jLmludDY0QXNUeXBlPyhTPWwuZ2V0QmlnSW50NjQoYSkpPj1CaWdJbnQoLTIpPDxCaWdJbnQoNTIpJiZTPD1CaWdJbnQoMik8PEJpZ0ludCg1MikmJihTPU51bWJlcihTKSk6Uz1sLmdldEJpZ0ludDY0KGEpLGErPTgsUztjYXNlIDIxMjppZigxMTQ9PShTPXJbYSsrXSkpcmV0dXJuIEooNjMmclthKytdKTt7bGV0IEk9aFtTXTtpZihJKXtpZihJLnJlYWQpcmV0dXJuIGErKyxJLnJlYWQoaygpKTtpZihJLm5vQnVmZmVyKXJldHVybiBhKyssSSgpO3JldHVybiBJKHIuc3ViYXJyYXkoYSwrK2EpKX10aHJvdyBFcnJvcihcIlVua25vd24gZXh0ZW5zaW9uIFwiK1MpfWNhc2UgMjEzOmlmKDExND09KFM9clthXSkpcmV0dXJuIGErKyxKKDYzJnJbYSsrXSxyW2ErK10pO3JldHVybiBEKDIpO2Nhc2UgMjE0OnJldHVybiBEKDQpO2Nhc2UgMjE1OnJldHVybiBEKDgpO2Nhc2UgMjE2OnJldHVybiBEKDE2KTtjYXNlIDIxNzppZihTPXJbYSsrXSxkPj1hKXJldHVybiBzLnNsaWNlKGEteCwoYSs9UykteCk7cmV0dXJuIEIoUyk7Y2FzZSAyMTg6aWYoUz1sLmdldFVpbnQxNihhKSxkPj0oYSs9MikpcmV0dXJuIHMuc2xpY2UoYS14LChhKz1TKS14KTtyZXR1cm4gTChTKTtjYXNlIDIxOTppZihTPWwuZ2V0VWludDMyKGEpLGQ+PShhKz00KSlyZXR1cm4gcy5zbGljZShhLXgsKGErPVMpLXgpO3JldHVybiBGKFMpO2Nhc2UgMjIwOnJldHVybiBTPWwuZ2V0VWludDE2KGEpLGErPTIseihTKTtjYXNlIDIyMTpyZXR1cm4gUz1sLmdldFVpbnQzMihhKSxhKz00LHooUyk7Y2FzZSAyMjI6cmV0dXJuIFM9bC5nZXRVaW50MTYoYSksYSs9MixFKFMpO2Nhc2UgMjIzOnJldHVybiBTPWwuZ2V0VWludDMyKGEpLGErPTQsRShTKTtkZWZhdWx0OmlmKGU+PTIyNClyZXR1cm4gZS0yNTY7aWYodm9pZCAwPT09ZSl7bGV0IHY9RXJyb3IoXCJVbmV4cGVjdGVkIGVuZCBvZiBNZXNzYWdlUGFjayBkYXRhXCIpO3Rocm93IHYuaW5jb21wbGV0ZT0hMCx2fXRocm93IEVycm9yKFwiVW5rbm93biBNZXNzYWdlUGFjayB0b2tlbiBcIitlKX19fWxldCBJPS9eW2EtekEtWl8kXVthLXpBLVpcXGRfJF0qJC87ZnVuY3Rpb24gQShlLHQpe2Z1bmN0aW9uICQoKXtpZigkLmNvdW50Kys+Yil7bGV0IHI9ZS5yZWFkPUZ1bmN0aW9uKFwiclwiLFwicmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIFwiKyhjLmZyZWV6ZURhdGE/XCJPYmplY3QuZnJlZXplXCI6XCJcIikrXCIoe1wiK2UubWFwKGU9PlwiX19wcm90b19fXCI9PT1lP1wiX19wcm90b186cigpXCI6SS50ZXN0KGUpP2UrXCI6cigpXCI6XCJbXCIrSlNPTi5zdHJpbmdpZnkoZSkrXCJdOnIoKVwiKS5qb2luKFwiLFwiKStcIn0pfVwiKShrKTtyZXR1cm4gMD09PWUuaGlnaEJ5dGUmJihlLnJlYWQ9dih0LGUucmVhZCkpLHIoKX1sZXQgbj17fTtmb3IobGV0IGk9MCxzPWUubGVuZ3RoO2k8cztpKyspe2xldCBmPWVbaV07XCJfX3Byb3RvX19cIj09PWYmJihmPVwiX19wcm90b19cIiksbltmXT1rKCl9cmV0dXJuIGMuZnJlZXplRGF0YT9PYmplY3QuZnJlZXplKG4pOm59cmV0dXJuKCQuY291bnQ9MCwwPT09ZS5oaWdoQnl0ZSk/dih0LCQpOiR9bGV0IHY9KGUsdCk9PmZ1bmN0aW9uKCl7bGV0ICQ9clthKytdO2lmKDA9PT0kKXJldHVybiB0KCk7bGV0IG49ZTwzMj8tKGUrKCQ8PDUpKTplKygkPDw1KSxzPWlbbl18fE8oKVtuXTtpZighcyl0aHJvdyBFcnJvcihcIlJlY29yZCBpZCBpcyBub3QgZGVmaW5lZCBmb3IgXCIrbik7cmV0dXJuIHMucmVhZHx8KHMucmVhZD1BKHMsZSkpLHMucmVhZCgpfTtmdW5jdGlvbiBPKCl7bGV0IGU9RygoKT0+KHI9bnVsbCxjLmdldFN0cnVjdHVyZXMoKSkpO3JldHVybiBpPWMuX21lcmdlU3RydWN0dXJlcyhlLGkpfXZhciBUPVAsQj1QLEw9UCxGPVA7ZnVuY3Rpb24gUChlKXtsZXQgdDtpZihlPDE2JiYodD1DKGUpKSlyZXR1cm4gdDtpZihlPjY0JiYkKXJldHVybiAkLmRlY29kZShyLnN1YmFycmF5KGEsYSs9ZSkpO2xldCBuPWErZSxpPVtdO2Zvcih0PVwiXCI7YTxuOyl7bGV0IHM9clthKytdO2lmKCgxMjgmcyk9PTApaS5wdXNoKHMpO2Vsc2UgaWYoKDIyNCZzKT09MTkyKXtsZXQgZj02MyZyW2ErK107aS5wdXNoKCgzMSZzKTw8NnxmKX1lbHNlIGlmKCgyNDAmcyk9PTIyNCl7bGV0IHU9NjMmclthKytdLGw9NjMmclthKytdO2kucHVzaCgoMzEmcyk8PDEyfHU8PDZ8bCl9ZWxzZSBpZigoMjQ4JnMpPT0yNDApe2xldCBvPTYzJnJbYSsrXSxjPTYzJnJbYSsrXSx4PTYzJnJbYSsrXSxkPSg3JnMpPDwxOHxvPDwxMnxjPDw2fHg7ZD42NTUzNSYmKGQtPTY1NTM2LGkucHVzaChkPj4+MTAmMTAyM3w1NTI5NiksZD01NjMyMHwxMDIzJmQpLGkucHVzaChkKX1lbHNlIGkucHVzaChzKTtpLmxlbmd0aD49NDA5NiYmKHQrPU0uYXBwbHkoU3RyaW5nLGkpLGkubGVuZ3RoPTApfXJldHVybiBpLmxlbmd0aD4wJiYodCs9TS5hcHBseShTdHJpbmcsaSkpLHR9ZnVuY3Rpb24geihlKXtsZXQgdD1BcnJheShlKTtmb3IobGV0ICQ9MDskPGU7JCsrKXRbJF09aygpO3JldHVybiBjLmZyZWV6ZURhdGE/T2JqZWN0LmZyZWV6ZSh0KTp0fWZ1bmN0aW9uIEUoZSl7aWYoYy5tYXBzQXNPYmplY3RzKXtsZXQgdD17fTtmb3IobGV0ICQ9MDskPGU7JCsrKXtsZXQgcj1XKCk7XCJfX3Byb3RvX19cIj09PXImJihyPVwiX19wcm90b19cIiksdFtyXT1rKCl9cmV0dXJuIHR9e2xldCBuPW5ldyBNYXA7Zm9yKGxldCBpPTA7aTxlO2krKyluLnNldChrKCksaygpKTtyZXR1cm4gbn19dmFyIE09U3RyaW5nLmZyb21DaGFyQ29kZTtmdW5jdGlvbiBSKGUpe2xldCB0PWEsJD1BcnJheShlKTtmb3IobGV0IG49MDtuPGU7bisrKXtsZXQgaT1yW2ErK107aWYoKDEyOCZpKT4wKXthPXQ7cmV0dXJufSRbbl09aX1yZXR1cm4gTS5hcHBseShTdHJpbmcsJCl9ZnVuY3Rpb24gQyhlKXtpZihlPDQpe2lmKGU8Mil7aWYoMD09PWUpcmV0dXJuXCJcIjt7bGV0IHQ9clthKytdO2lmKCgxMjgmdCk+MSl7YS09MTtyZXR1cm59cmV0dXJuIE0odCl9fXtsZXQgJD1yW2ErK10sbj1yW2ErK107aWYoKDEyOCYkKT4wfHwoMTI4Jm4pPjApe2EtPTI7cmV0dXJufWlmKGU8MylyZXR1cm4gTSgkLG4pO2xldCBpPXJbYSsrXTtpZigoMTI4JmkpPjApe2EtPTM7cmV0dXJufXJldHVybiBNKCQsbixpKX19e2xldCBzPXJbYSsrXSxmPXJbYSsrXSx1PXJbYSsrXSxsPXJbYSsrXTtpZigoMTI4JnMpPjB8fCgxMjgmZik+MHx8KDEyOCZ1KT4wfHwoMTI4JmwpPjApe2EtPTQ7cmV0dXJufWlmKGU8Nil7aWYoND09PWUpcmV0dXJuIE0ocyxmLHUsbCk7e2xldCBvPXJbYSsrXTtpZigoMTI4Jm8pPjApe2EtPTU7cmV0dXJufXJldHVybiBNKHMsZix1LGwsbyl9fWlmKGU8OCl7bGV0IGM9clthKytdLHg9clthKytdO2lmKCgxMjgmYyk+MHx8KDEyOCZ4KT4wKXthLT02O3JldHVybn1pZihlPDcpcmV0dXJuIE0ocyxmLHUsbCxjLHgpO2xldCBkPXJbYSsrXTtpZigoMTI4JmQpPjApe2EtPTc7cmV0dXJufXJldHVybiBNKHMsZix1LGwsYyx4LGQpfXtsZXQgaD1yW2ErK10sXz1yW2ErK10scD1yW2ErK10sZz1yW2ErK107aWYoKDEyOCZoKT4wfHwoMTI4Jl8pPjB8fCgxMjgmcCk+MHx8KDEyOCZnKT4wKXthLT04O3JldHVybn1pZihlPDEwKXtpZig4PT09ZSlyZXR1cm4gTShzLGYsdSxsLGgsXyxwLGcpO3tsZXQgeT1yW2ErK107aWYoKDEyOCZ5KT4wKXthLT05O3JldHVybn1yZXR1cm4gTShzLGYsdSxsLGgsXyxwLGcseSl9fWlmKGU8MTIpe2xldCBiPXJbYSsrXSx3PXJbYSsrXTtpZigoMTI4JmIpPjB8fCgxMjgmdyk+MCl7YS09MTA7cmV0dXJufWlmKGU8MTEpcmV0dXJuIE0ocyxmLHUsbCxoLF8scCxnLGIsdyk7bGV0IG09clthKytdO2lmKCgxMjgmbSk+MCl7YS09MTE7cmV0dXJufXJldHVybiBNKHMsZix1LGwsaCxfLHAsZyxiLHcsbSl9e2xldCBTPXJbYSsrXSxVPXJbYSsrXSxrPXJbYSsrXSxJPXJbYSsrXTtpZigoMTI4JlMpPjB8fCgxMjgmVSk+MHx8KDEyOCZrKT4wfHwoMTI4JkkpPjApe2EtPTEyO3JldHVybn1pZihlPDE0KXtpZigxMj09PWUpcmV0dXJuIE0ocyxmLHUsbCxoLF8scCxnLFMsVSxrLEkpO3tsZXQgQT1yW2ErK107aWYoKDEyOCZBKT4wKXthLT0xMztyZXR1cm59cmV0dXJuIE0ocyxmLHUsbCxoLF8scCxnLFMsVSxrLEksQSl9fXtsZXQgdj1yW2ErK10sTz1yW2ErK107aWYoKDEyOCZ2KT4wfHwoMTI4Jk8pPjApe2EtPTE0O3JldHVybn1pZihlPDE1KXJldHVybiBNKHMsZix1LGwsaCxfLHAsZyxTLFUsayxJLHYsTyk7bGV0IFQ9clthKytdO2lmKCgxMjgmVCk+MCl7YS09MTU7cmV0dXJufXJldHVybiBNKHMsZix1LGwsaCxfLHAsZyxTLFUsayxJLHYsTyxUKX19fX19ZnVuY3Rpb24gaigpe2xldCBlPXJbYSsrXSx0O2lmKGU8MTkyKXQ9ZS0xNjA7ZWxzZSBzd2l0Y2goZSl7Y2FzZSAyMTc6dD1yW2ErK107YnJlYWs7Y2FzZSAyMTg6dD1sLmdldFVpbnQxNihhKSxhKz0yO2JyZWFrO2Nhc2UgMjE5OnQ9bC5nZXRVaW50MzIoYSksYSs9NDticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiRXhwZWN0ZWQgc3RyaW5nXCIpfXJldHVybiBQKHQpfWZ1bmN0aW9uIE4oZSl7cmV0dXJuIGMuY29weUJ1ZmZlcnM/VWludDhBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChyLGEsYSs9ZSk6ci5zdWJhcnJheShhLGErPWUpfWZ1bmN0aW9uIEQoZSl7bGV0IHQ9clthKytdO2lmKGhbdF0pe2xldCAkO3JldHVybiBoW3RdKHIuc3ViYXJyYXkoYSwkPWErPWUpLGU9PnthPWU7dHJ5e3JldHVybiBrKCl9ZmluYWxseXthPSR9fSl9dGhyb3cgRXJyb3IoXCJVbmtub3duIGV4dGVuc2lvbiB0eXBlIFwiK3QpfXZhciBWPUFycmF5KDQwOTYpO2Z1bmN0aW9uIFcoKXtsZXQgZT1yW2ErK107aWYoIShlPj0xNjApfHwhKGU8MTkyKSlyZXR1cm4gYS0tLGsoKS50b1N0cmluZygpO2lmKGUtPTE2MCxkPj1hKXJldHVybiBzLnNsaWNlKGEteCwoYSs9ZSkteCk7aWYoISgwPT1kJiZuPDE4MCkpcmV0dXJuIFQoZSk7bGV0IHQ9KGU8PDVeKGU+MT9sLmdldFVpbnQxNihhKTplPjA/clthXTowKSkmNDA5NSwkPVZbdF0saT1hLGY9YStlLTMsdSxvPTA7aWYoJCYmJC5ieXRlcz09ZSl7Zm9yKDtpPGY7KXtpZigodT1sLmdldFVpbnQzMihpKSkhPSRbbysrXSl7aT0xODc5MDQ4MTkyO2JyZWFrfWkrPTR9Zm9yKGYrPTM7aTxmOylpZigodT1yW2krK10pIT0kW28rK10pe2k9MTg3OTA0ODE5MjticmVha31pZihpPT09ZilyZXR1cm4gYT1pLCQuc3RyaW5nO2YtPTMsaT1hfWZvcigkPVtdLFZbdF09JCwkLmJ5dGVzPWU7aTxmOyl1PWwuZ2V0VWludDMyKGkpLCQucHVzaCh1KSxpKz00O2ZvcihmKz0zO2k8ZjspdT1yW2krK10sJC5wdXNoKHUpO2xldCBjPWU8MTY/QyhlKTpSKGUpO3JldHVybiBudWxsIT1jPyQuc3RyaW5nPWM6JC5zdHJpbmc9VChlKX1sZXQgSj0oZSx0KT0+e2xldCAkPWsoKS5tYXAoZT0+ZS50b1N0cmluZygpKSxyPWU7dm9pZCAwIT09dCYmKGU9ZTwzMj8tKCh0PDw1KStlKToodDw8NSkrZSwkLmhpZ2hCeXRlPXQpO2xldCBuPWlbZV07cmV0dXJuIG4mJihuLmlzU2hhcmVkfHx5KSYmKChpLnJlc3RvcmVTdHJ1Y3R1cmVzfHwoaS5yZXN0b3JlU3RydWN0dXJlcz1bXSkpW2VdPW4pLGlbZV09JCwkLnJlYWQ9QSgkLHIpLCQucmVhZCgpfTtoWzBdPSgpPT57fSxoWzBdLm5vQnVmZmVyPSEwO2xldCBxPXtFcnJvcixUeXBlRXJyb3IsUmVmZXJlbmNlRXJyb3J9O2hbMTAxXT0oKT0+e2xldCBlPWsoKTtyZXR1cm4ocVtlWzBdXXx8RXJyb3IpKGVbMV0pfSxoWzEwNV09ZT0+e2xldCB0PWwuZ2V0VWludDMyKGEtNCk7dXx8KHU9bmV3IE1hcCk7bGV0ICQ9clthXSxuO249JD49MTQ0JiYkPDE2MHx8MjIwPT0kfHwyMjE9PSQ/W106e307bGV0IGk9e3RhcmdldDpufTt1LnNldCh0LGkpO2xldCBzPWsoKTtyZXR1cm4gaS51c2VkP09iamVjdC5hc3NpZ24obixzKTooaS50YXJnZXQ9cyxzKX0saFsxMTJdPWU9PntsZXQgdD1sLmdldFVpbnQzMihhLTQpLCQ9dS5nZXQodCk7cmV0dXJuICQudXNlZD0hMCwkLnRhcmdldH0saFsxMTVdPSgpPT5uZXcgU2V0KGsoKSk7bGV0IEs9W1wiSW50OFwiLFwiVWludDhcIixcIlVpbnQ4Q2xhbXBlZFwiLFwiSW50MTZcIixcIlVpbnQxNlwiLFwiSW50MzJcIixcIlVpbnQzMlwiLFwiRmxvYXQzMlwiLFwiRmxvYXQ2NFwiLFwiQmlnSW50NjRcIixcIkJpZ1VpbnQ2NFwiXS5tYXAoZT0+ZStcIkFycmF5XCIpLFk9XCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczp3aW5kb3c7aFsxMTZdPWU9PntsZXQgdD1lWzBdLCQ9S1t0XTtpZighJCl0aHJvdyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIHR5cGVkIGFycmF5IGZvciBjb2RlIFwiK3QpO3JldHVybiBuZXcgWVskXShVaW50OEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUsMSkuYnVmZmVyKX0saFsxMjBdPSgpPT57bGV0IGU9aygpO3JldHVybiBSZWdFeHAoZVswXSxlWzFdKX07bGV0IFo9W107ZnVuY3Rpb24gRyhlKXtsZXQgdD1uLCQ9YSxvPXgsaD1kLF89cyxwPXUsZz1mLGI9bmV3IFVpbnQ4QXJyYXkoci5zbGljZSgwLG4pKSx3PWksbT1pLnNsaWNlKDAsaS5sZW5ndGgpLFM9YyxVPXksaz1lKCk7cmV0dXJuIG49dCxhPSQseD1vLGQ9aCxzPV8sdT1wLGY9ZyxyPWIseT1VLChpPXcpLnNwbGljZSgwLGkubGVuZ3RoLC4uLm0pLGM9UyxsPW5ldyBEYXRhVmlldyhyLmJ1ZmZlcixyLmJ5dGVPZmZzZXQsci5ieXRlTGVuZ3RoKSxrfWZ1bmN0aW9uIEgoKXtyPW51bGwsdT1udWxsLGk9bnVsbH1oWzk4XT1lPT57bGV0IHQ9KGVbMF08PDI0KSsoZVsxXTw8MTYpKyhlWzJdPDw4KStlWzNdLCQ9YTtyZXR1cm4gYSs9dC1lLmxlbmd0aCxmPVosKGY9W2ooKSxqKCldKS5wb3NpdGlvbjA9MCxmLnBvc2l0aW9uMT0wLGYucG9zdEJ1bmRsZVBvc2l0aW9uPWEsYT0kLGsoKX0saFsyNTVdPWU9PjQ9PWUubGVuZ3RoP25ldyBEYXRlKCgxNjc3NzIxNiplWzBdKyhlWzFdPDwxNikrKGVbMl08PDgpK2VbM10pKjFlMyk6OD09ZS5sZW5ndGg/bmV3IERhdGUoKChlWzBdPDwyMikrKGVbMV08PDE0KSsoZVsyXTw8NikrKGVbM10+PjIpKS8xZTYrKCgzJmVbM10pKjQyOTQ5NjcyOTYrMTY3NzcyMTYqZVs0XSsoZVs1XTw8MTYpKyhlWzZdPDw4KStlWzddKSoxZTMpOjEyPT1lLmxlbmd0aD9uZXcgRGF0ZSgoKGVbMF08PDI0KSsoZVsxXTw8MTYpKyhlWzJdPDw4KStlWzNdKS8xZTYrKCgxMjgmZVs0XT8tMjgxNDc0OTc2NzEwNjU2OjApKzEwOTk1MTE2Mjc3NzYqZVs2XSs0Mjk0OTY3Mjk2KmVbN10rMTY3NzcyMTYqZVs4XSsoZVs5XTw8MTYpKyhlWzEwXTw8OCkrZVsxMV0pKjFlMyk6bmV3IERhdGUoXCJpbnZhbGlkXCIpO2xldCBRPUFycmF5KDE0Nyk7Zm9yKGxldCBYPTA7WDwyNTY7WCsrKVFbWF09KyhcIjFlXCIrTWF0aC5mbG9vcig0NS4xNS0uMzAxMDMqWCkpO3ZhciBlZT1uZXcgbSh7dXNlUmVjb3JkczohMX0pO2xldCBldD1lZS51bnBhY2ssZSQ9ZWUudW5wYWNrTXVsdGlwbGUsZXI9ZWUudW5wYWNrLGVuPXtORVZFUjowLEFMV0FZUzoxLERFQ0lNQUxfUk9VTkQ6MyxERUNJTUFMX0ZJVDo0fSxlaT1uZXcgRmxvYXQzMkFycmF5KDEpLGVzPW5ldyBVaW50OEFycmF5KGVpLmJ1ZmZlciwwLDQpLGVmO3RyeXtlZj1uZXcgVGV4dEVuY29kZXJ9Y2F0Y2goZXUpe31sZXQgZWwsZW8sZWE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEJ1ZmZlcixlYz1lYT9mdW5jdGlvbihlKXtyZXR1cm4gQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyhlKX06VWludDhBcnJheSxleD1lYT9CdWZmZXI6VWludDhBcnJheSxlZD1lYT80Mjk0OTY3Mjk2OjIxNDQzMzc5MjAsZWgsZV8sZXAsZWc9MCxleSxlMD1udWxsLGUyLGUxPS9bXFx1MDA4MC1cXHVGRkZGXS8sZTY9U3ltYm9sKFwicmVjb3JkLWlkXCIpO2NsYXNzIGU0IGV4dGVuZHMgbXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLm9mZnNldD0wO2xldCB0LCQscixuLGk9ZXgucHJvdG90eXBlLnV0ZjhXcml0ZT9mdW5jdGlvbihlLHQpe3JldHVybiBlaC51dGY4V3JpdGUoZSx0LDQyOTQ5NjcyOTUpfTohIWVmJiYhIWVmLmVuY29kZUludG8mJmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVmLmVuY29kZUludG8oZSxlaC5zdWJhcnJheSh0KSkud3JpdHRlbn0scz10aGlzO2V8fChlPXt9KTtsZXQgZj1lJiZlLnNlcXVlbnRpYWwsdT1lLnN0cnVjdHVyZXN8fGUuc2F2ZVN0cnVjdHVyZXMsbD1lLm1heFNoYXJlZFN0cnVjdHVyZXM7aWYobnVsbD09bCYmKGw9dT8zMjowKSxsPjgxNjApdGhyb3cgRXJyb3IoXCJNYXhpbXVtIG1heFNoYXJlZFN0cnVjdHVyZSBpcyA4MTYwXCIpO2Uuc3RydWN0dXJlZENsb25lJiZ2b2lkIDA9PWUubW9yZVR5cGVzJiYodGhpcy5tb3JlVHlwZXM9ITApO2xldCBvPWUubWF4T3duU3RydWN0dXJlcztudWxsPT1vJiYobz11PzMyOjY0KSx0aGlzLnN0cnVjdHVyZXN8fCExPT1lLnVzZVJlY29yZHN8fCh0aGlzLnN0cnVjdHVyZXM9W10pO2xldCBhPWw+MzJ8fG8rbD42NCxjPWwrNjQseD1sK28rNjQ7aWYoeD44MjU2KXRocm93IEVycm9yKFwiTWF4aW11bSBtYXhTaGFyZWRTdHJ1Y3R1cmUgKyBtYXhPd25TdHJ1Y3R1cmUgaXMgODE5MlwiKTtsZXQgZD1bXSxoPTAsXz0wO3RoaXMucGFjaz10aGlzLmVuY29kZT1mdW5jdGlvbihlLGkpe2lmKGVofHwoZXA9KGVoPW5ldyBlYyg4MTkyKSkuZGF0YVZpZXd8fChlaC5kYXRhVmlldz1uZXcgRGF0YVZpZXcoZWguYnVmZmVyLDAsODE5MikpLGVnPTApLChleT1laC5sZW5ndGgtMTApLWVnPDIwNDg/KGVwPShlaD1uZXcgZWMoZWgubGVuZ3RoKSkuZGF0YVZpZXd8fChlaC5kYXRhVmlldz1uZXcgRGF0YVZpZXcoZWguYnVmZmVyLDAsZWgubGVuZ3RoKSksZXk9ZWgubGVuZ3RoLTEwLGVnPTApOmVnPWVnKzcmMjE0NzQ4MzY0MCx0PWVnLGkmZVQmJihlZys9MjU1JmkpLG49cy5zdHJ1Y3R1cmVkQ2xvbmU/bmV3IE1hcDpudWxsLHMuYnVuZGxlU3RyaW5ncyYmXCJzdHJpbmdcIiE9dHlwZW9mIGU/KGUwPVtdKS5zaXplPTEvMDplMD1udWxsLHI9cy5zdHJ1Y3R1cmVzKXtyLnVuaW5pdGlhbGl6ZWQmJihyPXMuX21lcmdlU3RydWN0dXJlcyhzLmdldFN0cnVjdHVyZXMoKSkpO2xldCB1PXIuc2hhcmVkTGVuZ3RofHwwO2lmKHU+bCl0aHJvdyBFcnJvcihcIlNoYXJlZCBzdHJ1Y3R1cmVzIGlzIGxhcmdlciB0aGFuIG1heGltdW0gc2hhcmVkIHN0cnVjdHVyZXMsIHRyeSBpbmNyZWFzaW5nIG1heFNoYXJlZFN0cnVjdHVyZXMgdG8gXCIrci5zaGFyZWRMZW5ndGgpO2lmKCFyLnRyYW5zaXRpb25zKXtyLnRyYW5zaXRpb25zPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGxldCBvPTA7bzx1O28rKyl7bGV0IGE9cltvXTtpZighYSljb250aW51ZTtsZXQgYyx4PXIudHJhbnNpdGlvbnM7Zm9yKGxldCBkPTAsaD1hLmxlbmd0aDtkPGg7ZCsrKXtsZXQgXz1hW2RdOyhjPXhbX10pfHwoYz14W19dPU9iamVjdC5jcmVhdGUobnVsbCkpLHg9Y314W2U2XT1vKzY0fXRoaXMubGFzdE5hbWVkU3RydWN0dXJlc0xlbmd0aD11fWZ8fChyLm5leHRJZD11KzY0KX0kJiYoJD0hMSk7dHJ5e3MucmFuZG9tQWNjZXNzU3RydWN0dXJlJiZlJiZlLmNvbnN0cnVjdG9yJiZlLmNvbnN0cnVjdG9yPT09T2JqZWN0P0EoZSk6eShlKTtsZXQgZz1lMDtpZihlMCYmZVModCx5LDApLG4mJm4uaWRzVG9JbnNlcnQpe2xldCBiPW4uaWRzVG9JbnNlcnQuc29ydCgoZSx0KT0+ZS5vZmZzZXQ+dC5vZmZzZXQ/MTotMSksdz1iLmxlbmd0aCxtPS0xO2Zvcig7ZyYmdz4wOyl7bGV0IFM9YlstLXddLm9mZnNldCt0O1M8Zy5zdHJpbmdzUG9zaXRpb24rdCYmLTE9PT1tJiYobT0wKSxTPmcucG9zaXRpb24rdD9tPj0wJiYobSs9Nik6KG0+PTAmJihlcC5zZXRVaW50MzIoZy5wb3NpdGlvbit0LGVwLmdldFVpbnQzMihnLnBvc2l0aW9uK3QpK20pLG09LTEpLGc9Zy5wcmV2aW91cyx3KyspfW0+PTAmJmcmJmVwLnNldFVpbnQzMihnLnBvc2l0aW9uK3QsZXAuZ2V0VWludDMyKGcucG9zaXRpb24rdCkrbSksKGVnKz02KmIubGVuZ3RoKT5leSYmVShlZykscy5vZmZzZXQ9ZWc7bGV0IGs9ZnVuY3Rpb24gZSh0LCQpe2xldCByLG49NiokLmxlbmd0aCxpPXQubGVuZ3RoLW47Zm9yKDtyPSQucG9wKCk7KXtsZXQgcz1yLm9mZnNldCxmPXIuaWQ7dC5jb3B5V2l0aGluKHMrbixzLGkpO2xldCB1PXMrKG4tPTYpO3RbdSsrXT0yMTQsdFt1KytdPTEwNSx0W3UrK109Zj4+MjQsdFt1KytdPWY+PjE2JjI1NSx0W3UrK109Zj4+OCYyNTUsdFt1KytdPTI1NSZmLGk9c31yZXR1cm4gdH0oZWguc3ViYXJyYXkodCxlZyksYik7cmV0dXJuIG49bnVsbCxrfWlmKHMub2Zmc2V0PWVnLGkmZXYpcmV0dXJuIGVoLnN0YXJ0PXQsZWguZW5kPWVnLGVoO3JldHVybiBlaC5zdWJhcnJheSh0LGVnKX1maW5hbGx5e2lmKHImJihwKCksJCYmcy5zYXZlU3RydWN0dXJlcykpe3ZhciBJLHY7bGV0IE89ci5zaGFyZWRMZW5ndGh8fDAsVD1laC5zdWJhcnJheSh0LGVnKSxCPShJPXIsdj1zLEkuaXNDb21wYXRpYmxlPWU9PntsZXQgdD0hZXx8KHYubGFzdE5hbWVkU3RydWN0dXJlc0xlbmd0aHx8MCk9PT1lLmxlbmd0aDtyZXR1cm4gdHx8di5fbWVyZ2VTdHJ1Y3R1cmVzKGUpLHR9LEkpO2lmKCExPT09cy5zYXZlU3RydWN0dXJlcyhCLEIuaXNDb21wYXRpYmxlKSlyZXR1cm4gcy5wYWNrKGUsaSk7cmV0dXJuIHMubGFzdE5hbWVkU3RydWN0dXJlc0xlbmd0aD1PLFR9aSZlTyYmKGVnPXQpfX07bGV0IHA9KCk9PntfPDEwJiZfKys7bGV0IGU9ci5zaGFyZWRMZW5ndGh8fDA7aWYoci5sZW5ndGg+ZSYmIWYmJihyLmxlbmd0aD1lKSxoPjFlNClyLnRyYW5zaXRpb25zPW51bGwsXz0wLGg9MCxkLmxlbmd0aD4wJiYoZD1bXSk7ZWxzZSBpZihkLmxlbmd0aD4wJiYhZil7Zm9yKGxldCB0PTAsJD1kLmxlbmd0aDt0PCQ7dCsrKWRbdF1bZTZdPTA7ZD1bXX19LGc9ZT0+e3ZhciB0PWUubGVuZ3RoO3Q8MTY/ZWhbZWcrK109MTQ0fHQ6dDw2NTUzNj8oZWhbZWcrK109MjIwLGVoW2VnKytdPXQ+PjgsZWhbZWcrK109MjU1JnQpOihlaFtlZysrXT0yMjEsZXAuc2V0VWludDMyKGVnLHQpLGVnKz00KTtmb3IobGV0ICQ9MDskPHQ7JCsrKXkoZVskXSl9LHk9ZT0+e2VnPmV5JiYoZWg9VShlZykpO3ZhciAkLHI9dHlwZW9mIGU7aWYoXCJzdHJpbmdcIj09PXIpe2xldCBzPWUubGVuZ3RoO2lmKGUwJiZzPj00JiZzPDQwOTYpe2lmKChlMC5zaXplKz1zKT4yMTc2MCl7bGV0IGYsdT0oZTBbMF0/MyplMFswXS5sZW5ndGgrZTBbMV0ubGVuZ3RoOjApKzEwO2VnK3U+ZXkmJihlaD1VKGVnK3UpKTtsZXQgbDtlMC5wb3NpdGlvbj8obD1lMCxlaFtlZ109MjAwLGVnKz0zLGVoW2VnKytdPTk4LGY9ZWctdCxlZys9NCxlUyh0LHksMCksZXAuc2V0VWludDE2KGYrdC0zLGVnLXQtZikpOihlaFtlZysrXT0yMTQsZWhbZWcrK109OTgsZj1lZy10LGVnKz00KSwoZTA9W1wiXCIsXCJcIl0pLnByZXZpb3VzPWwsZTAuc2l6ZT0wLGUwLnBvc2l0aW9uPWZ9bGV0IG89ZTEudGVzdChlKTtlMFtvPzA6MV0rPWUsZWhbZWcrK109MTkzLHkobz8tczpzKTtyZXR1cm59bGV0IGE7YT1zPDMyPzE6czwyNTY/MjpzPDY1NTM2PzM6NTtsZXQgYz0zKnM7aWYoZWcrYz5leSYmKGVoPVUoZWcrYykpLHM8NjR8fCFpKXtsZXQgeCxkLGgsXz1lZythO2Zvcih4PTA7eDxzO3grKykoZD1lLmNoYXJDb2RlQXQoeCkpPDEyOD9laFtfKytdPWQ6ZDwyMDQ4PyhlaFtfKytdPWQ+PjZ8MTkyLGVoW18rK109NjMmZHwxMjgpOig2NDUxMiZkKT09NTUyOTYmJig2NDUxMiYoaD1lLmNoYXJDb2RlQXQoeCsxKSkpPT01NjMyMD8oZD02NTUzNisoKDEwMjMmZCk8PDEwKSsoMTAyMyZoKSx4KyssZWhbXysrXT1kPj4xOHwyNDAsZWhbXysrXT1kPj4xMiY2M3wxMjgsZWhbXysrXT1kPj42JjYzfDEyOCxlaFtfKytdPTYzJmR8MTI4KTooZWhbXysrXT1kPj4xMnwyMjQsZWhbXysrXT1kPj42JjYzfDEyOCxlaFtfKytdPTYzJmR8MTI4KTskPV8tZWctYX1lbHNlICQ9aShlLGVnK2EpOyQ8MzI/ZWhbZWcrK109MTYwfCQ6JDwyNTY/KGE8MiYmZWguY29weVdpdGhpbihlZysyLGVnKzEsZWcrMSskKSxlaFtlZysrXT0yMTcsZWhbZWcrK109JCk6JDw2NTUzNj8oYTwzJiZlaC5jb3B5V2l0aGluKGVnKzMsZWcrMixlZysyKyQpLGVoW2VnKytdPTIxOCxlaFtlZysrXT0kPj44LGVoW2VnKytdPTI1NSYkKTooYTw1JiZlaC5jb3B5V2l0aGluKGVnKzUsZWcrMyxlZyszKyQpLGVoW2VnKytdPTIxOSxlcC5zZXRVaW50MzIoZWcsJCksZWcrPTQpLGVnKz0kfWVsc2UgaWYoXCJudW1iZXJcIj09PXIpe2lmKGU+Pj4wPT09ZSllPDMyfHxlPDEyOCYmITE9PT10aGlzLnVzZVJlY29yZHN8fGU8NjQmJiF0aGlzLnJhbmRvbUFjY2Vzc1N0cnVjdHVyZT9laFtlZysrXT1lOmU8MjU2PyhlaFtlZysrXT0yMDQsZWhbZWcrK109ZSk6ZTw2NTUzNj8oZWhbZWcrK109MjA1LGVoW2VnKytdPWU+PjgsZWhbZWcrK109MjU1JmUpOihlaFtlZysrXT0yMDYsZXAuc2V0VWludDMyKGVnLGUpLGVnKz00KTtlbHNlIGlmKGU+PjA9PT1lKWU+PS0zMj9laFtlZysrXT0yNTYrZTplPj0tMTI4PyhlaFtlZysrXT0yMDgsZWhbZWcrK109ZSsyNTYpOmU+PS0zMjc2OD8oZWhbZWcrK109MjA5LGVwLnNldEludDE2KGVnLGUpLGVnKz0yKTooZWhbZWcrK109MjEwLGVwLnNldEludDMyKGVnLGUpLGVnKz00KTtlbHNle2xldCBwO2lmKChwPXRoaXMudXNlRmxvYXQzMik+MCYmZTw0Mjk0OTY3Mjk2JiZlPj0tMjE0NzQ4MzY0OCl7ZWhbZWcrK109MjAyLGVwLnNldEZsb2F0MzIoZWcsZSk7bGV0IGI7aWYocDw0fHwoYj1lKlFbKDEyNyZlaFtlZ10pPDwxfGVoW2VnKzFdPj43XSk+PjA9PT1iKXtlZys9NDtyZXR1cm59ZWctLX1laFtlZysrXT0yMDMsZXAuc2V0RmxvYXQ2NChlZyxlKSxlZys9OH19ZWxzZSBpZihcIm9iamVjdFwiPT09cnx8XCJmdW5jdGlvblwiPT09cil7aWYoZSl7aWYobil7bGV0IHc9bi5nZXQoZSk7aWYodyl7aWYoIXcuaWQpe2xldCBtPW4uaWRzVG9JbnNlcnR8fChuLmlkc1RvSW5zZXJ0PVtdKTt3LmlkPW0ucHVzaCh3KX1laFtlZysrXT0yMTQsZWhbZWcrK109MTEyLGVwLnNldFVpbnQzMihlZyx3LmlkKSxlZys9NDtyZXR1cm59bi5zZXQoZSx7b2Zmc2V0OmVnLXR9KX1sZXQgaz1lLmNvbnN0cnVjdG9yO2lmKGs9PT1PYmplY3QpUyhlLCEwKTtlbHNlIGlmKGs9PT1BcnJheSlnKGUpO2Vsc2UgaWYoaz09PU1hcCl7aWYodGhpcy5tYXBBc0VtcHR5T2JqZWN0KWVoW2VnKytdPTEyODtlbHNlIGZvcihsZXRbSSxBXW9mKCgkPWUuc2l6ZSk8MTY/ZWhbZWcrK109MTI4fCQ6JDw2NTUzNj8oZWhbZWcrK109MjIyLGVoW2VnKytdPSQ+PjgsZWhbZWcrK109MjU1JiQpOihlaFtlZysrXT0yMjMsZXAuc2V0VWludDMyKGVnLCQpLGVnKz00KSxlKSl5KEkpLHkoQSl9ZWxzZXtmb3IobGV0IHY9MCxPPWVsLmxlbmd0aDt2PE87disrKWlmKGUgaW5zdGFuY2VvZiBlb1t2XSl7bGV0IFQ9ZWxbdl07aWYoVC53cml0ZSl7VC50eXBlJiYoZWhbZWcrK109MjEyLGVoW2VnKytdPVQudHlwZSxlaFtlZysrXT0wKTtsZXQgQj1ULndyaXRlLmNhbGwodGhpcyxlKTtCPT09ZT9BcnJheS5pc0FycmF5KGUpP2coZSk6UyhlKTp5KEIpO3JldHVybn1sZXQgTD1laCxGPWVwLFA9ZWc7ZWg9bnVsbDtsZXQgejt0cnl7ej1ULnBhY2suY2FsbCh0aGlzLGUsZT0+KGVoPUwsTD1udWxsLChlZys9ZSk+ZXkmJlUoZWcpLHt0YXJnZXQ6ZWgsdGFyZ2V0VmlldzplcCxwb3NpdGlvbjplZy1lfSkseSl9ZmluYWxseXtMJiYoZWg9TCxlcD1GLGVnPVAsZXk9ZWgubGVuZ3RoLTEwKX16JiYoei5sZW5ndGgrZWc+ZXkmJlUoei5sZW5ndGgrZWcpLGVnPWVtKHosZWgsZWcsVC50eXBlKSk7cmV0dXJufWlmKEFycmF5LmlzQXJyYXkoZSkpZyhlKTtlbHNle2lmKGUudG9KU09OKXtsZXQgRT1lLnRvSlNPTigpO2lmKEUhPT1lKXJldHVybiB5KEUpfWlmKFwiZnVuY3Rpb25cIj09PXIpcmV0dXJuIHkodGhpcy53cml0ZUZ1bmN0aW9uJiZ0aGlzLndyaXRlRnVuY3Rpb24oZSkpO1MoZSwhZS5oYXNPd25Qcm9wZXJ0eSl9fX1lbHNlIGVoW2VnKytdPTE5Mn1lbHNlIGlmKFwiYm9vbGVhblwiPT09cillaFtlZysrXT1lPzE5NToxOTQ7ZWxzZSBpZihcImJpZ2ludFwiPT09cil7aWYoZTxCaWdJbnQoMSk8PEJpZ0ludCg2MykmJmU+PS0oQmlnSW50KDEpPDxCaWdJbnQoNjMpKSllaFtlZysrXT0yMTEsZXAuc2V0QmlnSW50NjQoZWcsZSk7ZWxzZSBpZihlPEJpZ0ludCgxKTw8QmlnSW50KDY0KSYmZT4wKWVoW2VnKytdPTIwNyxlcC5zZXRCaWdVaW50NjQoZWcsZSk7ZWxzZSBpZih0aGlzLmxhcmdlQmlnSW50VG9GbG9hdCllaFtlZysrXT0yMDMsZXAuc2V0RmxvYXQ2NChlZyxOdW1iZXIoZSkpO2Vsc2UgdGhyb3cgUmFuZ2VFcnJvcihlK1wiIHdhcyB0b28gbGFyZ2UgdG8gZml0IGluIE1lc3NhZ2VQYWNrIDY0LWJpdCBpbnRlZ2VyIGZvcm1hdCwgc2V0IGxhcmdlQmlnSW50VG9GbG9hdCB0byBjb252ZXJ0IHRvIGZsb2F0LTY0XCIpO2VnKz04fWVsc2UgaWYoXCJ1bmRlZmluZWRcIj09PXIpdGhpcy5lbmNvZGVVbmRlZmluZWRBc05pbD9laFtlZysrXT0xOTI6KGVoW2VnKytdPTIxMixlaFtlZysrXT0wLGVoW2VnKytdPTApO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiK3IpfSxiPXRoaXMudmFyaWFibGVNYXBTaXplfHx0aGlzLmNvZXJjaWJsZUtleUFzTnVtYmVyP2U9PntsZXQgdD1PYmplY3Qua2V5cyhlKSwkPXQubGVuZ3RoOyQ8MTY/ZWhbZWcrK109MTI4fCQ6JDw2NTUzNj8oZWhbZWcrK109MjIyLGVoW2VnKytdPSQ+PjgsZWhbZWcrK109MjU1JiQpOihlaFtlZysrXT0yMjMsZXAuc2V0VWludDMyKGVnLCQpLGVnKz00KTtsZXQgcjtpZih0aGlzLmNvZXJjaWJsZUtleUFzTnVtYmVyKWZvcihsZXQgbj0wO248JDtuKyspe2xldCBpPU51bWJlcihyPXRbbl0pO3koaXNOYU4oaSk/cjppKSx5KGVbcl0pfWVsc2UgZm9yKGxldCBzPTA7czwkO3MrKyl5KHI9dFtzXSkseShlW3JdKX06KGUsJCk9PntlaFtlZysrXT0yMjI7bGV0IHI9ZWctdDtlZys9MjtsZXQgbj0wO2ZvcihsZXQgaSBpbiBlKSgkfHxlLmhhc093blByb3BlcnR5KGkpKSYmKHkoaSkseShlW2ldKSxuKyspO2VoW3IrKyt0XT1uPj44LGVoW3IrdF09MjU1Jm59LHc9ITE9PT10aGlzLnVzZVJlY29yZHM/YjplLnByb2dyZXNzaXZlUmVjb3JkcyYmIWE/KGUsJCk9PntsZXQgbixpPXIudHJhbnNpdGlvbnN8fChyLnRyYW5zaXRpb25zPU9iamVjdC5jcmVhdGUobnVsbCkpLHM9ZWcrKy10LGY7Zm9yKGxldCB1IGluIGUpaWYoJHx8ZS5oYXNPd25Qcm9wZXJ0eSh1KSl7aWYobj1pW3VdKWk9bjtlbHNle2xldCBsPU9iamVjdC5rZXlzKGUpLG89aTtpPXIudHJhbnNpdGlvbnM7bGV0IGE9MDtmb3IobGV0IGM9MCx4PWwubGVuZ3RoO2M8eDtjKyspe2xldCBkPWxbY107IShuPWlbZF0pJiYobj1pW2RdPU9iamVjdC5jcmVhdGUobnVsbCksYSsrKSxpPW59cyt0KzE9PWVnPyhlZy0tLGsoaSxsLGEpKTpJKGksbCxzLGEpLGY9ITAsaT1vW3VdfXkoZVt1XSl9aWYoIWYpe2xldCBoPWlbZTZdO2g/ZWhbcyt0XT1oOkkoaSxPYmplY3Qua2V5cyhlKSxzLDApfX06KGUsdCk9PntsZXQgJCxuPXIudHJhbnNpdGlvbnN8fChyLnRyYW5zaXRpb25zPU9iamVjdC5jcmVhdGUobnVsbCkpLGk9MDtmb3IobGV0IHMgaW4gZSkodHx8ZS5oYXNPd25Qcm9wZXJ0eShzKSkmJighKCQ9bltzXSkmJigkPW5bc109T2JqZWN0LmNyZWF0ZShudWxsKSxpKyspLG49JCk7bGV0IGY9bltlNl07Zm9yKGxldCB1IGluIGY/Zj49OTYmJmE/KGVoW2VnKytdPSgzMSYoZi09OTYpKSs5NixlaFtlZysrXT1mPj41KTplaFtlZysrXT1mOmsobixuLl9fa2V5c19ffHxPYmplY3Qua2V5cyhlKSxpKSxlKSh0fHxlLmhhc093blByb3BlcnR5KHUpKSYmeShlW3VdKX0sbT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLnVzZVJlY29yZHMmJnRoaXMudXNlUmVjb3JkcyxTPW0/KGUsdCk9PnttKGUpP3coZSx0KTpiKGUsdCl9OncsVT1lPT57bGV0ICQ7aWYoZT4xNjc3NzIxNil7aWYoZS10PmVkKXRocm93IEVycm9yKFwiUGFja2VkIGJ1ZmZlciB3b3VsZCBiZSBsYXJnZXIgdGhhbiBtYXhpbXVtIGJ1ZmZlciBzaXplXCIpOyQ9TWF0aC5taW4oZWQsNDA5NipNYXRoLnJvdW5kKE1hdGgubWF4KChlLXQpKihlPjY3MTA4ODY0PzEuMjU6MiksNDE5NDMwNCkvNDA5NikpfWVsc2UgJD0oTWF0aC5tYXgoZS10PDwyLGVoLmxlbmd0aC0xKT4+MTIpKzE8PDEyO2xldCByPW5ldyBlYygkKTtyZXR1cm4gZXA9ci5kYXRhVmlld3x8KHIuZGF0YVZpZXc9bmV3IERhdGFWaWV3KHIuYnVmZmVyLDAsJCkpLGU9TWF0aC5taW4oZSxlaC5sZW5ndGgpLGVoLmNvcHk/ZWguY29weShyLDAsdCxlKTpyLnNldChlaC5zbGljZSh0LGUpKSxlZy09dCx0PTAsZXk9ci5sZW5ndGgtMTAsZWg9cn0saz0oZSx0LG4pPT57bGV0IGk9ci5uZXh0SWQ7aXx8KGk9NjQpLGk8YyYmdGhpcy5zaG91bGRTaGFyZVN0cnVjdHVyZSYmIXRoaXMuc2hvdWxkU2hhcmVTdHJ1Y3R1cmUodCk/KChpPXIubmV4dE93bklkKTx4fHwoaT1jKSxyLm5leHRPd25JZD1pKzEpOihpPj14JiYoaT1jKSxyLm5leHRJZD1pKzEpO2xldCBzPXQuaGlnaEJ5dGU9aT49OTYmJmE/aS05Nj4+NTotMTtlW2U2XT1pLGUuX19rZXlzX189dCxyW2ktNjRdPXQsaTxjPyh0LmlzU2hhcmVkPSEwLHIuc2hhcmVkTGVuZ3RoPWktNjMsJD0hMCxzPj0wPyhlaFtlZysrXT0oMzEmaSkrOTYsZWhbZWcrK109cyk6ZWhbZWcrK109aSk6KHM+PTA/KGVoW2VnKytdPTIxMyxlaFtlZysrXT0xMTQsZWhbZWcrK109KDMxJmkpKzk2LGVoW2VnKytdPXMpOihlaFtlZysrXT0yMTIsZWhbZWcrK109MTE0LGVoW2VnKytdPWkpLG4mJihoKz1fKm4pLGQubGVuZ3RoPj1vJiYoZC5zaGlmdCgpW2U2XT0wKSxkLnB1c2goZSkseSh0KSl9LEk9KGUsJCxyLG4pPT57bGV0IGk9ZWgscz1lZyxmPWV5LHU9dDtlaD1lXyxlZz0wLHQ9MCxlaHx8KGVfPWVoPW5ldyBlYyg4MTkyKSksZXk9ZWgubGVuZ3RoLTEwLGsoZSwkLG4pLGVfPWVoO2xldCBsPWVnO2lmKGVoPWksZWc9cyxleT1mLHQ9dSxsPjEpe2xldCBvPWVnK2wtMTtvPmV5JiZVKG8pO2xldCBhPXIrdDtlaC5jb3B5V2l0aGluKGErbCxhKzEsZWcpLGVoLnNldChlXy5zbGljZSgwLGwpLGEpLGVnPW99ZWxzZSBlaFtyK3RdPWVfWzBdfSxBPShlLG4pPT57bGV0IGk9ZTIoZSxlaCx0LGVnLHIsVSwoZSx0LHIpPT57aWYocilyZXR1cm4gJD0hMDtlZz10O2xldCBuPWVoO3JldHVybih5KGUpLHAoKSxuIT09ZWgpP3twb3NpdGlvbjplZyx0YXJnZXRWaWV3OmVwLHRhcmdldDplaH06ZWd9LHRoaXMpO2lmKDA9PT1pKXJldHVybiBTKGUsITApO2VnPWl9fXVzZUJ1ZmZlcihlKXtlaD1lLGVwPW5ldyBEYXRhVmlldyhlaC5idWZmZXIsZWguYnl0ZU9mZnNldCxlaC5ieXRlTGVuZ3RoKSxlZz0wfWNsZWFyU2hhcmVkRGF0YSgpe3RoaXMuc3RydWN0dXJlcyYmKHRoaXMuc3RydWN0dXJlcz1bXSksdGhpcy50eXBlZFN0cnVjdHMmJih0aGlzLnR5cGVkU3RydWN0cz1bXSl9fWZ1bmN0aW9uIGViKGUsdCwkLHIpe2xldCBuPWUuYnl0ZUxlbmd0aDtpZihuKzE8MjU2KXt2YXJ7dGFyZ2V0OmkscG9zaXRpb246c309JCg0K24pO2lbcysrXT0xOTksaVtzKytdPW4rMX1lbHNlIGlmKG4rMTw2NTUzNil7dmFye3RhcmdldDppLHBvc2l0aW9uOnN9PSQoNStuKTtpW3MrK109MjAwLGlbcysrXT1uKzE+PjgsaVtzKytdPW4rMSYyNTV9ZWxzZXt2YXJ7dGFyZ2V0OmkscG9zaXRpb246cyx0YXJnZXRWaWV3OmZ9PSQoNytuKTtpW3MrK109MjAxLGYuc2V0VWludDMyKHMsbisxKSxzKz00fWlbcysrXT0xMTYsaVtzKytdPXQsaS5zZXQobmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCkscyl9ZnVuY3Rpb24gZXcoZSx0KXtsZXQgJD1lLmJ5dGVMZW5ndGg7aWYoJDwyNTYpe3ZhciByLG4se3RhcmdldDpyLHBvc2l0aW9uOm59PXQoJCsyKTtyW24rK109MTk2LHJbbisrXT0kfWVsc2UgaWYoJDw2NTUzNil7dmFye3RhcmdldDpyLHBvc2l0aW9uOm59PXQoJCszKTtyW24rK109MTk3LHJbbisrXT0kPj44LHJbbisrXT0yNTUmJH1lbHNle3Zhcnt0YXJnZXQ6cixwb3NpdGlvbjpuLHRhcmdldFZpZXc6aX09dCgkKzUpO3JbbisrXT0xOTgsaS5zZXRVaW50MzIobiwkKSxuKz00fXIuc2V0KGUsbil9ZnVuY3Rpb24gZW0oZSx0LCQscil7bGV0IG49ZS5sZW5ndGg7c3dpdGNoKG4pe2Nhc2UgMTp0WyQrK109MjEyO2JyZWFrO2Nhc2UgMjp0WyQrK109MjEzO2JyZWFrO2Nhc2UgNDp0WyQrK109MjE0O2JyZWFrO2Nhc2UgODp0WyQrK109MjE1O2JyZWFrO2Nhc2UgMTY6dFskKytdPTIxNjticmVhaztkZWZhdWx0Om48MjU2Pyh0WyQrK109MTk5LHRbJCsrXT1uKTpuPDY1NTM2Pyh0WyQrK109MjAwLHRbJCsrXT1uPj44LHRbJCsrXT0yNTUmbik6KHRbJCsrXT0yMDEsdFskKytdPW4+PjI0LHRbJCsrXT1uPj4xNiYyNTUsdFskKytdPW4+PjgmMjU1LHRbJCsrXT0yNTUmbil9cmV0dXJuIHRbJCsrXT1yLHQuc2V0KGUsJCksJCs9bn1mdW5jdGlvbiBlUyhlLHQsJCl7aWYoZTAubGVuZ3RoPjApe2VwLnNldFVpbnQzMihlMC5wb3NpdGlvbitlLGVnKyQtZTAucG9zaXRpb24tZSksZTAuc3RyaW5nc1Bvc2l0aW9uPWVnLWU7bGV0IHI9ZTA7ZTA9bnVsbCx0KHJbMF0pLHQoclsxXSl9fWVvPVtEYXRlLFNldCxFcnJvcixSZWdFeHAsQXJyYXlCdWZmZXIsT2JqZWN0LmdldFByb3RvdHlwZU9mKFVpbnQ4QXJyYXkucHJvdG90eXBlKS5jb25zdHJ1Y3RvcixwXSxlbD1be3BhY2soZSx0LCQpe2xldCByPWUuZ2V0VGltZSgpLzFlMztpZigodGhpcy51c2VUaW1lc3RhbXAzMnx8MD09PWUuZ2V0TWlsbGlzZWNvbmRzKCkpJiZyPj0wJiZyPDQyOTQ5NjcyOTYpe2xldHt0YXJnZXQ6bix0YXJnZXRWaWV3OmkscG9zaXRpb246c309dCg2KTtuW3MrK109MjE0LG5bcysrXT0yNTUsaS5zZXRVaW50MzIocyxyKX1lbHNlIGlmKHI+MCYmcjw0Mjk0OTY3Mjk2KXtsZXR7dGFyZ2V0OmYsdGFyZ2V0Vmlldzp1LHBvc2l0aW9uOmx9PXQoMTApO2ZbbCsrXT0yMTUsZltsKytdPTI1NSx1LnNldFVpbnQzMihsLDRlNiplLmdldE1pbGxpc2Vjb25kcygpKyhyLzFlMy80Mjk0OTY3Mjk2Pj4wKSksdS5zZXRVaW50MzIobCs0LHIpfWVsc2UgaWYoaXNOYU4ocikpe2lmKHRoaXMub25JbnZhbGlkRGF0ZSlyZXR1cm4gdCgwKSwkKHRoaXMub25JbnZhbGlkRGF0ZSgpKTtsZXR7dGFyZ2V0Om8sdGFyZ2V0VmlldzphLHBvc2l0aW9uOmN9PXQoMyk7b1tjKytdPTIxMixvW2MrK109MjU1LG9bYysrXT0yNTV9ZWxzZXtsZXR7dGFyZ2V0OngsdGFyZ2V0VmlldzpkLHBvc2l0aW9uOmh9PXQoMTUpO3hbaCsrXT0xOTkseFtoKytdPTEyLHhbaCsrXT0yNTUsZC5zZXRVaW50MzIoaCwxZTYqZS5nZXRNaWxsaXNlY29uZHMoKSksZC5zZXRCaWdJbnQ2NChoKzQsQmlnSW50KE1hdGguZmxvb3IocikpKX19fSx7cGFjayhlLHQsJCl7aWYodGhpcy5zZXRBc0VtcHR5T2JqZWN0KXJldHVybiB0KDApLCQoe30pO2xldCByPUFycmF5LmZyb20oZSkse3RhcmdldDpuLHBvc2l0aW9uOml9PXQodGhpcy5tb3JlVHlwZXM/MzowKTt0aGlzLm1vcmVUeXBlcyYmKG5baSsrXT0yMTIsbltpKytdPTExNSxuW2krK109MCksJChyKX19LHtwYWNrKGUsdCwkKXtsZXR7dGFyZ2V0OnIscG9zaXRpb246bn09dCh0aGlzLm1vcmVUeXBlcz8zOjApO3RoaXMubW9yZVR5cGVzJiYocltuKytdPTIxMixyW24rK109MTAxLHJbbisrXT0wKSwkKFtlLm5hbWUsZS5tZXNzYWdlXSl9fSx7cGFjayhlLHQsJCl7bGV0e3RhcmdldDpyLHBvc2l0aW9uOm59PXQodGhpcy5tb3JlVHlwZXM/MzowKTt0aGlzLm1vcmVUeXBlcyYmKHJbbisrXT0yMTIscltuKytdPTEyMCxyW24rK109MCksJChbZS5zb3VyY2UsZS5mbGFnc10pfX0se3BhY2soZSx0KXt0aGlzLm1vcmVUeXBlcz9lYihlLDE2LHQpOmV3KGVhP0J1ZmZlci5mcm9tKGUpOm5ldyBVaW50OEFycmF5KGUpLHQpfX0se3BhY2soZSx0KXtsZXQgJD1lLmNvbnN0cnVjdG9yOyQhPT1leCYmdGhpcy5tb3JlVHlwZXM/ZWIoZSxLLmluZGV4T2YoJC5uYW1lKSx0KTpldyhlLHQpfX0se3BhY2soZSx0KXtsZXR7dGFyZ2V0OiQscG9zaXRpb246cn09dCgxKTskW3JdPTE5M319XTtsZXQgZVU9bmV3IGU0KHt1c2VSZWNvcmRzOiExfSksZWs9ZVUucGFjayxlST1lVS5wYWNrLHtORVZFUjplOCxBTFdBWVM6ZUEsREVDSU1BTF9ST1VORDplNSxERUNJTUFMX0ZJVDplM309ZW4sZXY9NTEyLGVPPTEwMjQsZVQ9MjA0ODthc3luYyBmdW5jdGlvbiplQihlLHQpe2xldCAkPW5ldyBlNCh0KTtmb3IgYXdhaXQobGV0IHIgb2YgZSl5aWVsZCAkLnBhY2socil9bGV0IGVMPWZ1bmN0aW9uIGUodCwkPXt9KXtpZighdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgRXJyb3IoXCJmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGFuIEl0ZXJhYmxlLCBBc3luYyBJdGVyYWJsZSwgSXRlcmF0b3IsIEFzeW5jIEl0ZXJhdG9yLCBvciBhIHByb21pc2VcIik7bGV0IHI9bmV3IG0oJCksbixpPWU9PntsZXQgdDtuJiYoZT1CdWZmZXIuY29uY2F0KFtuLGVdKSxuPXZvaWQgMCk7dHJ5e3Q9ci51bnBhY2tNdWx0aXBsZShlKX1jYXRjaCgkKXtpZigkLmluY29tcGxldGUpbj1lLnNsaWNlKCQubGFzdFBvc2l0aW9uKSx0PSQudmFsdWVzO2Vsc2UgdGhyb3cgJH1yZXR1cm4gdH07cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdFtTeW1ib2wuaXRlcmF0b3JdP2Z1bmN0aW9uKiBlKCl7Zm9yKGxldCAkIG9mIHQpeWllbGQqaSgkKX0oKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXT9hc3luYyBmdW5jdGlvbiogZSgpe2ZvciBhd2FpdChsZXQgJCBvZiB0KXlpZWxkKmkoJCl9KCk6dm9pZCAwfSxlRj1mdW5jdGlvbiBlKHQsJD17fSl7aWYodCYmXCJvYmplY3RcIj09dHlwZW9mIHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRbU3ltYm9sLml0ZXJhdG9yXSlyZXR1cm4gZnVuY3Rpb24qIGUodCwkKXtsZXQgcj1uZXcgZTQoJCk7Zm9yKGxldCBuIG9mIHQpeWllbGQgci5wYWNrKG4pfSh0LCQpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQudGhlbnx8XCJmdW5jdGlvblwiPT10eXBlb2YgdFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pcmV0dXJuIGVCKHQsJCk7ZWxzZSB0aHJvdyBFcnJvcihcImZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYW4gSXRlcmFibGUsIEFzeW5jIEl0ZXJhYmxlLCBJdGVyYXRvciwgQXN5bmMgSXRlcmF0b3IsIG9yIGEgUHJvbWlzZVwiKX10aHJvdyBFcnJvcihcImZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYW4gSXRlcmFibGUsIEFzeW5jIEl0ZXJhYmxlLCBvciBhIFByb21pc2UgZm9yIGFuIEFzeW5jIEl0ZXJhYmxlXCIpfTtlLkFMV0FZUz1lQSxlLkMxPWcsZS5ERUNJTUFMX0ZJVD1lMyxlLkRFQ0lNQUxfUk9VTkQ9ZTUsZS5EZWNvZGVyPW0sZS5FbmNvZGVyPWU0LGUuRkxPQVQzMl9PUFRJT05TPWVuLGUuTkVWRVI9ZTgsZS5QYWNrcj1lNCxlLlJFVVNFX0JVRkZFUl9NT0RFPWV2LGUuVW5wYWNrcj1tLGUuYWRkRXh0ZW5zaW9uPWZ1bmN0aW9uIGUodCl7dmFyICQ7aWYodC5DbGFzcyl7aWYoIXQucGFjayYmIXQud3JpdGUpdGhyb3cgRXJyb3IoXCJFeHRlbnNpb24gaGFzIG5vIHBhY2sgb3Igd3JpdGUgZnVuY3Rpb25cIik7aWYodC5wYWNrJiYhdC50eXBlKXRocm93IEVycm9yKFwiRXh0ZW5zaW9uIGhhcyBubyB0eXBlIChudW1lcmljIGNvZGUgdG8gaWRlbnRpZnkgdGhlIGV4dGVuc2lvbilcIik7ZW8udW5zaGlmdCh0LkNsYXNzKSxlbC51bnNoaWZ0KHQpfSgkPXQpLnVucGFjaz9oWyQudHlwZV09JC51bnBhY2s6aFskLnR5cGVdPSR9LGUuY2xlYXJTb3VyY2U9SCxlLmRlY29kZT1lcixlLmRlY29kZUl0ZXI9ZUwsZS5lbmNvZGU9ZUksZS5lbmNvZGVJdGVyPWVGLGUuaXNOYXRpdmVBY2NlbGVyYXRpb25FbmFibGVkPSExLGUubWFwc0FzT2JqZWN0cz0hMCxlLnBhY2s9ZWssZS5yb3VuZEZsb2F0MzI9ZnVuY3Rpb24gZSh0KXtlaVswXT10O2xldCAkPVFbKDEyNyZlc1szXSk8PDF8ZXNbMl0+PjddO3JldHVybigkKnQrKHQ+MD8uNTotLjUpPj4wKS8kfSxlLnVucGFjaz1ldCxlLnVucGFja011bHRpcGxlPWUkLGUudXNlUmVjb3Jkcz0hMX0pOyIsImNvbnN0IHVudGlsID0gKGNvbmRpdGlvbiwgY2hlY2tJbnRlcnZhbD00MDApID0+IHtcclxuICAgIGlmKCEhY29uZGl0aW9uKCkpIHJldHVybiB0cnVlO1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgIGxldCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFjb25kaXRpb24oKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0sIGNoZWNrSW50ZXJ2YWwpXHJcbiAgICB9KVxyXG59XHJcblxyXG5jb25zdCBTQ1JPTExfUEFSQU1TID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBzZW5zaXRpdml0eTogMTAgKiAxMzAwLFxyXG4gICAgbWluQXZnU3BlZWQ6IDAuNSAqIDEzMDAsXHJcbiAgICBtYXhTY3JvbGxUaW1lOiAxNTAsXHJcbiAgICBlZGdlTWFyZ2luOiAxMTcgLy8gb3V0IG9mIDkwMFxyXG59KTtcclxuXHJcbmNvbnN0IGVudmlyb25tZW50ID0gd2luZG93LmVudmlyb25tZW50ID0gdHlwZW9mIGxvY2F0aW9uID09PSAndW5kZWZpbmVkJyA/ICdzZXJ2ZXInIDogKChsb2NhdGlvbi5vcmlnaW4uZW5kc1dpdGgoJzgwODAnKSB8fCBsb2NhdGlvbi5ocmVmLmVuZHNXaXRoKCdlZGl0b3InKSkgPyAnZWRpdG9yJyA6ICdjbGllbnQnKTtcclxuXHJcbmNvbnN0IG1lbW9pemVkQ29sb3JzID0ge307XHJcblxyXG5mdW5jdGlvbiBibGVuZENvbG9yKGNvbG9yMSwgY29sb3IyLCB0KSB7XHJcblx0Y29uc3QgbWVtb2l6ZWRJbmRleCA9IGNvbG9yMSArICdfJyArIGNvbG9yMiArICdfJyArIHQ7XHJcblx0aWYgKG1lbW9pemVkQ29sb3JzW21lbW9pemVkSW5kZXhdICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBtZW1vaXplZENvbG9yc1ttZW1vaXplZEluZGV4XTtcclxuXHR9XHJcblx0Y29uc3QgcmdiMSA9IHtcclxuXHRcdHI6IHBhcnNlSW50KGNvbG9yMS5zbGljZSgxLCAzKSwgMTYpLFxyXG5cdFx0ZzogcGFyc2VJbnQoY29sb3IxLnNsaWNlKDMsIDUpLCAxNiksXHJcblx0XHRiOiBwYXJzZUludChjb2xvcjEuc2xpY2UoNSwgNyksIDE2KVxyXG5cdH1cclxuXHRjb25zdCByZ2IyID0ge1xyXG5cdFx0cjogcGFyc2VJbnQoY29sb3IyLnNsaWNlKDEsIDMpLCAxNiksXHJcblx0XHRnOiBwYXJzZUludChjb2xvcjIuc2xpY2UoMywgNSksIDE2KSxcclxuXHRcdGI6IHBhcnNlSW50KGNvbG9yMi5zbGljZSg1LCA3KSwgMTYpXHJcblx0fVxyXG5cclxuXHRjb25zdCByZXN1bHQgPSByZ2JUb0hleChNYXRoLmZsb29yKHJnYjEuciAqICgxIC0gdCkgKyByZ2IyLnIgKiB0KSwgTWF0aC5mbG9vcihyZ2IxLmcgKiAoMSAtIHQpICsgcmdiMi5nICogdCksIE1hdGguZmxvb3IocmdiMS5iICogKDEgLSB0KSArIHJnYjIuYiAqIHQpKVxyXG5cdG1lbW9pemVkQ29sb3JzW21lbW9pemVkSW5kZXhdID0gcmVzdWx0O1xyXG5cdHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJnYlRvSGV4KHIsIGcsIGIpIHtcclxuXHRyZXR1cm4gXCIjXCIgKyBjb21wb25lbnRUb0hleChyKSArIGNvbXBvbmVudFRvSGV4KGcpICsgY29tcG9uZW50VG9IZXgoYik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbXBvbmVudFRvSGV4KGMpIHtcclxuXHR2YXIgaGV4ID0gYy50b1N0cmluZygxNik7XHJcblx0cmV0dXJuIGhleC5sZW5ndGggPT0gMSA/IFwiMFwiICsgaGV4IDogaGV4O1xyXG59XHJcblxyXG4vLyBmdW5jdGlvbiBzaG9ydEFuZ2xlRGlzdChhMCxhMSkge1xyXG4vLyBcdGNvbnN0IG1heCA9IE1hdGguUEkqMjtcclxuLy8gXHRjb25zdCBkYSA9IChhMSAtIGEwKSAlIG1heDtcclxuLy8gXHRyZXR1cm4gMipkYSAlIG1heCAtIGRhO1xyXG4vLyB9XHJcblxyXG53aW5kb3cuamV3ZWxCb3hVcmwgPSAnaHR0cHM6Ly91cGxvYWQud2lraW1lZGlhLm9yZy93aWtpcGVkaWEvY29tbW9ucy9jL2MzL0FfU25hcHNob3Rfb2ZfdGhlX0pld2VsX0JveF9jbHVzdGVyX3dpdGhfdGhlX0VTT19WTFQuanBnJztcclxud2luZG93LmRlY29yYXRpb25JbWdzID0ge307XHJcbmlmKHR5cGVvZiBJbWFnZSAhPT0gJ3VuZGVmaW5lZCcpe1xyXG5cdHdpbmRvdy5hcnJvd0ltZyA9IG5ldyBJbWFnZSgpO1xyXG5cdHdpbmRvdy5zdGFySW1nID0gbmV3IEltYWdlKCk7XHJcblx0aWYoZW52aXJvbm1lbnQgPT09ICdlZGl0b3InKXtcclxuXHRcdC8vIGVkaXRvclxyXG5cdFx0KGFzeW5jKCkgPT4ge1xyXG5cdFx0XHRjb25zdCBleHBzID0gYXdhaXQgaW1wb3J0KCcuL2Fzc2V0cy5qcycpO1xyXG5cdFx0XHR3aW5kb3cuYXJyb3dJbWcgPSBleHBzLmRlZmF1bHQuYXJyb3dJbWc7XHJcblx0XHRcdHdpbmRvdy5zdGFySW1nID0gZXhwcy5kZWZhdWx0LnN0YXJJbWc7XHJcblx0XHR9KSgpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHQvLyBjbGllbnRcclxuXHRcdHdpbmRvdy5hcnJvd0ltZy5zcmMgPSAnLi9nZngvYXJyb3cucG5nJztcclxuXHRcdHdpbmRvdy5zdGFySW1nLnNyYyA9IHdpbmRvdy5qZXdlbEJveFVybDtcclxuXHR9XHJcbn0gZWxzZSB7XHJcblx0Ly8gc2VydmVyXHJcblx0d2luZG93LmFycm93SW1nID0gd2luZG93LnN0YXJJbWcgPSB7fTtcclxufVxyXG5cclxud2luZG93LmNvbG91clJnYiA9IChyLGcsYikgPT4ge1xyXG5cdHIgPSBNYXRoLm1heChNYXRoLm1pbihOdW1iZXIociksIDEwMCksIDApICogMi41NTtcclxuXHRnID0gTWF0aC5tYXgoTWF0aC5taW4oTnVtYmVyKGcpLCAxMDApLCAwKSAqIDIuNTU7XHJcblx0YiA9IE1hdGgubWF4KE1hdGgubWluKE51bWJlcihiKSwgMTAwKSwgMCkgKiAyLjU1O1xyXG5cdHIgPSAoJzAnICsgKE1hdGgucm91bmQocikgfHwgMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7XHJcblx0ZyA9ICgnMCcgKyAoTWF0aC5yb3VuZChnKSB8fCAwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtcclxuXHRiID0gKCcwJyArIChNYXRoLnJvdW5kKGIpIHx8IDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xyXG5cdHJldHVybiAnIycgKyByICsgZyArIGI7XHJcbn1cclxuXHJcbmlmKGVudmlyb25tZW50ID09PSAnc2VydmVyJykgZ2xvYmFsLmNvbG91clJnYiA9IHdpbmRvdy5jb2xvdXJSZ2I7XHJcblxyXG53aW5kb3cubWQgPSAoYSkgPT4ge3JldHVybiAoYSAhPT0gYSB8fCBhID09PSB1bmRlZmluZWQgfHwgYSA9PT0gbnVsbCkgPyAwIDogYTt9OyAvLyBtYWtlIGRlZmluZWRcclxud2luZG93Lm1ha2VOdW1iZXIgPSAoYSkgPT4ge3JldHVybiBOdW1iZXIuaXNGaW5pdGUoYSkgPT09IHRydWUgPyBhIDogMDt9O1xyXG53aW5kb3cubWFrZU5vdE5hTiA9IChhKSA9PiB7cmV0dXJuIChhID09PSBhKSA/IGEgOiAwO307XHJcbndpbmRvdy5tYWtlTm90TnVsbCA9IChhKSA9PiB7cmV0dXJuIGEgPT09IG51bGwgPyAwIDogYX07XHJcbndpbmRvdy5tYWtlTm90VW5kZWZpbmVkID0gKGEpID0+IHtyZXR1cm4gYSA9PT0gdW5kZWZpbmVkID8gMCA6IGF9O1xyXG53aW5kb3cucmx0ID0gKGEpID0+IHt3aW5kb3cubG9vcFRyYXAgPSAxMDAwOyByZXR1cm4gYTt9Oy8vIHJlc2V0IGxvb3AgdHJhcFxyXG53aW5kb3cubWFrZVR5cGUgPSAoYSx0eXBlQXJyKSA9PiB7XHJcblx0aWYodHlwZUFyci5pbmNsdWRlcyhnZW5lcmF0ZUNvbm5lY3Rpb25UeXBlKGEpKSA9PT0gdHJ1ZSlyZXR1cm4gYTtcclxuXHRyZXR1cm4gZGVmYXVsdFR5cGVNYXBbdHlwZW9mIGFdO1xyXG59XHJcbndpbmRvdy5nZW5lcmF0ZUNvbm5lY3Rpb25UeXBlID0gKHZhbCkgPT4ge1xyXG5cdGNvbnN0IHR5cGUgPSB0eXBlb2YgdmFsO1xyXG5cdGlmKHR5cGUgPT09ICdudW1iZXInKSByZXR1cm4gJ051bWJlcic7XHJcblx0aWYodHlwZSA9PT0gJ3N0cmluZycpIHtcclxuXHQgIC8vIGlmKHZhbFswXSA9PT0gJyMnKSByZXR1cm4gJ0NvbG91cic7XHJcblx0ICByZXR1cm4gWydTdHJpbmcnLCAnQ29sb3VyJ107XHJcblx0fVxyXG5cdGlmKHR5cGUgPT09ICdib29sZWFuJykgcmV0dXJuICdCb29sZWFuJztcclxuXHRpZihBcnJheS5pc0FycmF5KHZhbCkgPT09IHRydWUpIHJldHVybiAnQXJyYXknO1xyXG5cdHJldHVybiBudWxsO1xyXG59XHJcbmNvbnN0IGRlZmF1bHRUeXBlTWFwID0ge3VuZGVmaW5lZDogMCwgc3RyaW5nOiAnJywgYm9vbGVhbjogdHJ1ZS8qZ2xhc3MgaXMgaGFsZiBmdWxsKi8sIG51bWJlcjogMCwgb2JqZWN0OiBbXS8qZXhjbHVzaXZlbHkgdXNlZCBmb3IgYmxvY2tseSwgd2hlcmUgYXJyYXlzIGFyZSB0aGUgb25seSBvYmplY3QqL307XHJcblxyXG5jb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XHJcbmZ1bmN0aW9uIGVuY29kZUF0UG9zaXRpb24oc3RyaW5nLCB1OGFycmF5LCBwb3NpdGlvbikge1xyXG5cdHJldHVybiBlbmNvZGVyLmVuY29kZUludG8oXHJcblx0XHRzdHJpbmcsXHJcblx0XHRwb3NpdGlvbiA/IHU4YXJyYXkuc3ViYXJyYXkocG9zaXRpb24gfCAwKSA6IHU4YXJyYXksXHJcblx0KTtcclxufVxyXG5jb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XHJcbmZ1bmN0aW9uIGRlY29kZVRleHQodThhcnJheSwgc3RhcnRQb3M9MCl7XHJcblx0cmV0dXJuIGRlY29kZXIuZGVjb2RlKHU4YXJyYXkpLnNsaWNlKHN0YXJ0UG9zKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgeyB1bnRpbCwgU0NST0xMX1BBUkFNUywgYmxlbmRDb2xvciwgZW52aXJvbm1lbnQsIGVuY29kZUF0UG9zaXRpb24sIGRlY29kZVRleHQgfTsiLCJpbXBvcnQgJy4vbXNncGFja3IuanMnO1xyXG5cclxuLy8gdXNlZCBmb3IgZGVjb2RpbmcgY2hhdCBtZXNzYWdlc1xyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vY2xpZW50L3V0aWxzLmpzJztcclxuY29uc3Qge2RlY29kZVRleHR9ID0gVXRpbHM7XHJcblxyXG5jb25zdCBIT1NUID0gbG9jYXRpb24ub3JpZ2luLnJlcGxhY2UoL15odHRwLywgJ3dzJyk7XHJcbmxldCB3cywgbmV4dE1zZ0ZsYWc7XHJcblxyXG5jb25zdCBtZXNzYWdlUXVldWUgPSBbXTtcclxud2luZG93LnNlbmQgPSAoZGF0YSkgPT4ge1xyXG4gICAgbWVzc2FnZVF1ZXVlLnB1c2goZGF0YSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRXUygpIHtcclxuICAgIHdzID0gbmV3IFdlYlNvY2tldChIT1NUKTtcclxuICAgIHdzLmJpbmFyeVR5cGUgPSBcImFycmF5YnVmZmVyXCI7IC8vIHNlbmRzIG1lc3NhZ2VzIHdpdGggYmluYXJ5IGFuZCBzdHVmZiBvLW8geWVzIGkgYW0gdmVyeSBzbWFydFxyXG5cclxuICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgaWYobmV4dE1zZ0ZsYWcgIT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VNYXBbbmV4dE1zZ0ZsYWddKGRhdGEuZGF0YSk7XHJcbiAgICAgICAgICAgIG5leHRNc2dGbGFnID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICByZXR1cm47Ly9cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IG5ldyBVaW50OEFycmF5KGRhdGEuZGF0YSk7XHJcbiAgICAgICAgbWVzc2FnZU1hcFtkZWNvZGVkWzBdXShkZWNvZGVkKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHdzLm9ub3BlbiA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnY29ubmVjdGVkIHRvIHRoZSBzZXJ2ZXIhJyk7XHJcbiAgICAgICAgd2luZG93LnNlbmQgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICB3cy5zZW5kKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbWVzc2FnZVF1ZXVlLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgc2VuZChtZXNzYWdlUXVldWVbaV0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB3cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgIG5leHRNc2dGbGFnID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdXZWJzb2NrZXQgY2xvc2VkLicpOy8vIEF0dGVtcHRpbmcgdG8gcmVjb25uZWN0Li4uXHJcbiAgICAgICAgLy8gVE9ETzogcmVjb25uZWN0aW9uLlxyXG4gICAgfVxyXG59XHJcblxyXG5pbml0V1MoKTtcclxuXHJcbi8vIGZpcnN0IGJ5dGUgZW5jb2RlcyB0aGUgbWVzc2FnZSB0eXBlXHJcbmNvbnN0IG1lc3NhZ2VNYXAgPSBbXHJcbiAgICAvLyAwIC0gc2VsZklkIC8gYWxsIGRhdGEgbmVlZGVkIHRvIHN0YXJ0IGdhbWUgXHJcbiAgICAoZGF0YSkgPT4ge1xyXG4gICAgICAgIC8vIFRPRE9cclxuICAgIH0sXHJcbiAgICAvLyAxIC0gcmVsb2FkIHBhZ2UgKGZvciBob3QgcmVmcmVzaClcclxuICAgICgpID0+IHtcclxuICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgIH0sXHJcbiAgICAvLyAyIC0gaW5pdCBwbGFuZXRcclxuICAgIChkYXRhKSA9PiB7XHJcbiAgICAgICAgLy8gdW5wYWNrIGl0XHJcbiAgICAgICAgZGF0YSA9IG1zZ3BhY2tyLnVucGFjayhkYXRhKTtcclxuXHJcbiAgICAgICAgd2luZG93LndvbiA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IFtwbGF5ZXJzLCBvYnN0YWNsZURhdGEsIG1hcE5hbWUsIGRpbWVuc2lvbnMsIHNlbGZJZF0gPSBkYXRhO1xyXG4gICAgICAgIGZldGNoKGxvY2F0aW9uLm9yaWdpbiArIGAvbWFwcy8ke21hcE5hbWV9LmpzYCwge21ldGhvZDogJ0dFVCd9KS50aGVuKGFzeW5jIChkKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxldmVsRGF0YSA9IGF3YWl0IGQudGV4dCgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcHJldlNjcmlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lU2NyaXB0Jyk7XHJcbiAgICAgICAgICAgIGlmKHByZXZTY3JpcHQpIHByZXZTY3JpcHQucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICByZXNldEdhbWUoKTtcclxuICAgICAgICAgICAgd2luZG93LnBsYXllcnMubGVuZ3RoID0gd2luZG93Lm9ic3RhY2xlcy5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICBjb25zdCBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICAgICAgICAgIHMuaWQgPSBcImdhbWVTY3JpcHRcIjtcclxuICAgICAgICAgICAgcy50ZXh0ID0gbGV2ZWxEYXRhO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpO1xyXG5cclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHBsYXllcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgaWYocGxheWVyc1tpXSA9PT0gdW5kZWZpbmVkKSB7d2luZG93LnBsYXllcnMucHVzaCh1bmRlZmluZWQpOyBjb250aW51ZTt9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJEYXRhID0gcGxheWVyc1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBjcmVhdGVQbGF5ZXJGcm9tRGF0YShwbGF5ZXJEYXRhKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgd2luZG93LnBsYXllcnMucHVzaChwKTsvLyBwdXNoaW5nIHAhIVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgb2JzdGFjbGVEYXRhLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG8gPSB3aW5kb3cub2JzdGFjbGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBrZXkgaW4gb2JzdGFjbGVEYXRhW2ldKXtcclxuICAgICAgICAgICAgICAgICAgICBvW2tleV0gPSBvYnN0YWNsZURhdGFbaV1ba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgd2luZG93Lm1hcERpbWVuc2lvbnMgPSBkaW1lbnNpb25zO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHdpbmRvdy5zZWxmSWQgPSBzZWxmSWQ7XHJcbiAgICBcclxuICAgICAgICAgICAgd2luZG93LnN0YXJ0R2FtZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgLy8gMyAtIGZsYWcgbmV4dCBtZXNzYWdlIGFzIHR5cGUgYW5kIGRvbid0IGRlY29kZSBpdFxyXG4gICAgKGRhdGEpID0+IHtcclxuICAgICAgICBuZXh0TXNnRmxhZyA9IGRhdGFbMV07XHJcbiAgICB9LFxyXG4gICAgLy8gNCAtIHBsYXllciB4IGFuZCB5XHJcbiAgICAoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJhdyA9IGRhdGEuYnVmZmVyO1xyXG4gICAgICAgIGNvbnN0IHUxNiA9IG5ldyBVaW50MTZBcnJheShyYXcpO1xyXG4gICAgICAgIGNvbnN0IGlkID0gdTE2WzFdO1xyXG5cclxuICAgICAgICBpZihpZCA9PT0gd2luZG93LnNlbGZJZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBmMzIgPSBuZXcgRmxvYXQzMkFycmF5KHJhdyk7XHJcbiAgICAgICAgd2luZG93LnBsYXllcnNbaWRdLnBvcy54ID0gZjMyWzFdO1xyXG4gICAgICAgIHdpbmRvdy5wbGF5ZXJzW2lkXS5wb3MueSA9IGYzMlsyXTtcclxuICAgIH0sXHJcbiAgICAvLyA1IC0gbmV3IHBsYXllclxyXG4gICAgKGRhdGEpID0+IHtcclxuICAgICAgICBsZXQgcCA9IGNyZWF0ZVBsYXllckZyb21EYXRhKG1zZ3BhY2tyLnVucGFjayhkYXRhKSk7XHJcbiAgICAgICAgd2luZG93LnBsYXllcnNbcC5pZF0gPSBwO1xyXG4gICAgfSxcclxuICAgIC8vIDYgLSByZW1vdmUgcGxheWVyXHJcbiAgICAoZGF0YSkgPT4ge1xyXG4gICAgICAgIGxldCBpZCA9IG5ldyBVaW50MTZBcnJheShkYXRhLmJ1ZmZlcilbMV07XHJcbiAgICAgICAgd2luZG93LnBsYXllcnNbaWRdID0gdW5kZWZpbmVkOy8vIG1ha2UgYW1lcmljYSB1bmRlZmluZWQgYWdhaW5cclxuICAgIH0sXHJcbiAgICAvLyA3IC0gY2hhdCBtZXNzYWdlXHJcbiAgICAoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNoYXRNc2cgPSBkZWNvZGVUZXh0KGRhdGEsIDIpO1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBbJ25vcm1hbCcsICdzeXN0ZW0nLCAnZGV2JywgJ2d1ZXN0J11bZGF0YVsxXV07XHJcblxyXG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGlmICh0eXBlICE9PSAnc3lzdGVtJykge1xyXG4gICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnY2hhdC1tZXNzYWdlJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ3N5c3RlbS1tZXNzYWdlJyk7XHJcbiAgICAgICAgICAgIC8vIGlmIChkYXRhLmRpZmZpY3VsdHkgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBkaXYuY2xhc3NMaXN0LmFkZChkYXRhLmRpZmZpY3VsdHkudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZGl2LmlubmVySFRNTCA9IGAke3R5cGUgPT09ICdzeXN0ZW0nXHJcbiAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwicmFpbmJvd1wiPltTRVJWRVJdPC9zcGFuPidcclxuICAgICAgICAgICAgOiB0eXBlID09PSAnZGV2J1xyXG4gICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cInJhaW5ib3dcIj5bREVWXTwvc3Bhbj4gJ1xyXG4gICAgICAgICAgICA6ICcnfSR7dHlwZSA9PT0gJ2d1ZXN0JyA/ICc8c3BhbiBjbGFzcz1cImd1ZXN0XCI+JyA6ICcnfSR7XHJcbiAgICAgICAgICAgICAgICBjaGF0TXNnXHJcbiAgICAgICAgICAgIH0ke3R5cGUgPT09ICdndWVzdCcgPyAnPC9zcGFuPicgOiAnJ31gO1xyXG4gICAgICAgIGNvbnN0IGNoYXRNZXNzYWdlRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXQtZGl2Jyk7XHJcbiAgICAgICAgY2hhdE1lc3NhZ2VEaXYuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICBjaGF0TWVzc2FnZURpdi5zY3JvbGxUb3AgPSBjaGF0TWVzc2FnZURpdi5zY3JvbGxIZWlnaHQ7XHJcbiAgICB9XHJcbl1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVBsYXllckZyb21EYXRhKGRhdGEpe1xyXG4gICAgY29uc3QgcCA9IHdpbmRvdy5jcmVhdGVQbGF5ZXIoKTtcclxuXHJcbiAgICBwLnBvcy54ID0gZGF0YS5wb3MueDtcclxuICAgIHAucG9zLnkgPSBkYXRhLnBvcy55O1xyXG4gICAgcC5uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgcC5pZCA9IGRhdGEuaWQ7XHJcblxyXG4gICAgcmV0dXJuIHA7XHJcbn0iLCJpbXBvcnQgVXRpbHMgZnJvbSAnLi91dGlscy5qcyc7XHJcbmNvbnN0IHsgdW50aWwsIGVudmlyb25tZW50IH0gPSBVdGlscztcclxuXHJcbmxldCBuZXh0Q29kZTtcclxuY29uc3QgbmV4dENvZGVMb2FkZWQgPSAoKSA9PiB7IHJldHVybiBuZXh0Q29kZSAhPT0gdW5kZWZpbmVkOyB9O1xyXG5jb25zdCBpc1NlcnZlciA9IHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3VuZGVmaW5lZCc7XHJcbmxldCByZXFVcmwgPSBpc1NlcnZlciA9PT0gdHJ1ZSA/ICcnIDogYCR7bG9jYXRpb24ub3JpZ2lufS9nYW1lYDtcclxubGV0IGxvYWRpbmdDdXJyZW50ID0gZmFsc2U7XHJcbmxldCBuZXh0RmlsZU5hbWUgPSAnJztcclxubGV0IGxhc3RGaWxlTmFtZVN0YWNrID0gW107XHJcbmxldCBmb3J3YXJkRmlsZU5hbWVTdGFjayA9IFtdO1xyXG53aW5kb3cubGV2ZWxGaWxlTmFtZSA9ICcnO1xyXG5cclxud2luZG93LmlzRXhDbGllbnQgPSB0cnVlOy8vIFRFTVBcclxuXHJcbi8vIG5ldmVyIGdldCBjb2RlIGZyb20gc2VydmVyIGluIGVkaXRvclxyXG5pZihlbnZpcm9ubWVudCA9PT0gJ2VkaXRvcicgfHwgZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInIHx8IHdpbmRvdy5pc0V4Q2xpZW50ID09PSB0cnVlKXtcclxuICAgIGdldE5leHRDb2RlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGF3YWl0IHVudGlsKCgpID0+IHsgcmV0dXJuIGZhbHNlOyB9KVxyXG4gICAgfTtcclxuICAgIHNjcm9sbCA9ICgpID0+IHt9O1xyXG59IGVsc2UgaWYobG9jYXRpb24uaHJlZi5pbmNsdWRlcygnc3RhbmRhbG9uZScpID09PSB0cnVlKXtcclxuICAgIHdpbmRvdy5zdGFuZGFsb25lID0gdHJ1ZTtcclxuICAgIGNvbnN0IHNwbGl0ID0gbG9jYXRpb24uaHJlZi5zcGxpdCgnLycpO1xyXG4gICAgcmVxVXJsICs9ICcvJyArIHNwbGl0W3NwbGl0Lmxlbmd0aCAtIDFdO1xyXG4gICAgc2Nyb2xsID0gKCkgPT4ge307XHJcbn0gZWxzZSBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHV0b3JpYWxDb21wbGV0ZWQnKSA9PT0gbnVsbCkge1xyXG4gICAgbGV0IGdldE5leHRDb2RlTG9hZGVkID0gZmFsc2U7XHJcbiAgICBnZXROZXh0Q29kZSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICBhd2FpdCB1bnRpbCgoKSA9PiB7cmV0dXJuIGdldE5leHRDb2RlTG9hZGVkICE9PSBmYWxzZX0pO1xyXG4gICAgICAgIHJldHVybiBnZXROZXh0Q29kZSgpO1xyXG4gICAgfTtcclxuICAgIHdpbmRvdy50dXRvcmlhbCA9IHRydWU7XHJcbiAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGV4cHMgPSBhd2FpdCBpbXBvcnQoJy4vdHV0b3JpYWwuanMnKTtcclxuICAgICAgICBnZXROZXh0Q29kZSA9IGV4cHMuZGVmYXVsdDtcclxuICAgICAgICBnZXROZXh0Q29kZUxvYWRlZCA9IHRydWU7XHJcbiAgICB9KSgpO1xyXG59XHJcblxyXG4vLyBnZXQgZmlyc3QgY29kZVxyXG5nZXROZXh0Q29kZSgpLnRoZW4oYXN5bmMgKGNvZGUpID0+IHtcclxuICAgIC8vIGxvYWQgZmlyc3QgcmVxdWVzdFxyXG4gICAgbmV4dENvZGUgPSBjb2RlO1xyXG4gICAgcmVwbGFjZVNjcmlwdCgpO1xyXG5cclxuICAgIGlmKHdpbmRvdy5zdGFuZGFsb25lID09PSB0cnVlKXtcclxuICAgICAgICBnZXROZXh0Q29kZSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgdW50aWwoKCkgPT4geyByZXR1cm4gZmFsc2U7IH0pXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbG9hZCBuZXh0IGNvZGUgd2hlbiBpdCBhcnJpdmVzXHJcbiAgICBuZXh0Q29kZSA9IGF3YWl0IGZpcnN0TmV4dENvZGU7XHJcbn0pXHJcblxyXG4vLyBnZXQgbmV4dCBjb2RlXHJcbmxldCBmaXJzdE5leHRDb2RlID0gZ2V0TmV4dENvZGUoKTtcclxuXHJcbi8vIG9uIHNjcm9sbFxyXG5hc3luYyBmdW5jdGlvbiBzY3JvbGwodXA9ZmFsc2Upe1xyXG4gICAgLy8gZG9uJ3QgYWxsb3cgc2Nyb2xsaW5nIGlmIHdlJ3JlIGxvYWRpbmcgdGhlIGN1cnJlbnQgY29kZVxyXG4gICAgLy8gaXQnbGwgbG9vayB0aGUgc2FtZSB0byB0aGUgdXNlciBhbnl3YXlzXHJcbiAgICBpZihsb2FkaW5nQ3VycmVudCA9PT0gdHJ1ZSkgcmV0dXJuO1xyXG4gICAgaWYodXAgPT09IHRydWUpe1xyXG4gICAgICAgIGlmKGxhc3RGaWxlTmFtZVN0YWNrLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG4gICAgICAgIHZhciBsYXN0Q29kZSA9IG5leHRDb2RlO1xyXG4gICAgICAgIGZvcndhcmRGaWxlTmFtZVN0YWNrLnB1c2god2luZG93LmxldmVsRmlsZU5hbWUpO1xyXG4gICAgICAgIG5leHRDb2RlID0gYXdhaXQgZ2V0TGFzdENvZGUobGFzdEZpbGVOYW1lU3RhY2sucG9wKCkpO1xyXG4gICAgfSBlbHNlIGlmKHdpbmRvdy5sZXZlbEZpbGVOYW1lICE9PSAnJyl7XHJcbiAgICAgICAgbGFzdEZpbGVOYW1lU3RhY2sucHVzaCh3aW5kb3cubGV2ZWxGaWxlTmFtZSk7XHJcbiAgICAgICAgaWYobGFzdEZpbGVOYW1lU3RhY2subGVuZ3RoID4gNDIpIGxhc3RGaWxlTmFtZVN0YWNrLnNoaWZ0KCk7XHJcbiAgICAgICAgaWYoZm9yd2FyZEZpbGVOYW1lU3RhY2subGVuZ3RoICE9PSAwKSBuZXh0Q29kZSA9IGF3YWl0IGdldExhc3RDb2RlKGZvcndhcmRGaWxlTmFtZVN0YWNrLnBvcCgpKTtcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cuc2Nyb2xsaW5nVXAgPSB1cCA9PT0gdHJ1ZTtcclxuICAgIHdpbmRvdy5sYXN0T2JzdGFjbGVzID0gW107XHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgb2JzdGFjbGVzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICB3aW5kb3cubGFzdE9ic3RhY2xlcy5wdXNoKG9ic3RhY2xlc1tpXSk7XHJcbiAgICB9XHJcbiAgICBmb3IobGV0IGtleSBpbiB3aW5kb3cuY29sb3JzKXtcclxuICAgICAgICB3aW5kb3cubGFzdENvbG9yc1trZXldID0gd2luZG93LmNvbG9yc1trZXldO1xyXG4gICAgICAgIHdpbmRvdy5jb2xvcnNba2V5XSA9IHdpbmRvdy5kZWZhdWx0Q29sb3JzW2tleV07XHJcbiAgICB9XHJcbiAgICB3aW5kb3cubGFzdFBsYXllckRhdGEgPSBbcGxheWVyLnBvcy54LCBwbGF5ZXIucG9zLnldO1xyXG5cclxuICAgIC8vIGlmIHdlIGFscmVhZHkgaGF2ZSB0aGUgbmV4dCBjb2RlXHJcbiAgICBpZihuZXh0Q29kZSAhPT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAvLyBhcHBlbmQgbmV3IHNjcmlwdCB0byBydW4gc2Vjb25kIGdhbWVcclxuICAgICAgICByZXBsYWNlU2NyaXB0KCk7XHJcblxyXG4gICAgICAgIC8vIGFuaW1hdGlvbiB0aW1lclxyXG4gICAgICAgIHdpbmRvdy5zY3JvbGxBbmltYXRpb24gPSAwO1xyXG5cclxuICAgICAgICAvLyBmZXRjaCBuZXcgbmV4dCBjb2RlXHJcbiAgICAgICAgaWYodXAgPT09IHRydWUpIG5leHRDb2RlID0gbGFzdENvZGU7XHJcbiAgICAgICAgZWxzZSBuZXh0Q29kZSA9IGF3YWl0IGdldE5leHRDb2RlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGxvYWRpbmcgY3VycmVudCwgbmV4dGNvZGVcclxuICAgICAgICBsb2FkaW5nQ3VycmVudCA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIGxvYWQgYmxhbmsgc2NyZWVuIGZvciBub3dcclxuICAgICAgICByZW1vdmVTY3JpcHQoKTtcclxuXHJcbiAgICAgICAgLy8gYW5pbWF0aW9uIHRpbWVyXHJcbiAgICAgICAgd2luZG93LnNjcm9sbEFuaW1hdGlvbiA9IDA7XHJcblxyXG4gICAgICAgIC8vIGNvZGUgaXMgb24gaXRzIHdheSwgd2FpdCB1bnRpbCBpdCBnZXRzIGhlcmVcclxuICAgICAgICBhd2FpdCB1bnRpbChuZXh0Q29kZUxvYWRlZCwgMTYuNjYpO1xyXG5cclxuICAgICAgICAvLyBzZXQgY29kZVxyXG4gICAgICAgIHJlcGxhY2VTY3JpcHQoKTtcclxuXHJcbiAgICAgICAgLy8gdW5sb2NrIG11dGV4XHJcbiAgICAgICAgbG9hZGluZ0N1cnJlbnQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gZmV0Y2ggbmV3IG5leHQgY29kZVxyXG4gICAgICAgIG5leHRDb2RlID0gYXdhaXQgZ2V0TmV4dENvZGUoKTtcclxuICAgIH1cclxufVxyXG5cclxud2luZG93LndvbiA9IGZhbHNlO1xyXG5hc3luYyBmdW5jdGlvbiBnZXROZXh0Q29kZSgpe1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZXFVcmwpO1xyXG4gICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggJHtyZXFVcmx9YCk7XHJcbiAgICBuZXh0RmlsZU5hbWUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnRm4nKTtcclxuICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldExhc3RDb2RlKGZpbGVOYW1lKXtcclxuICAgIGNvbnN0IGZpbGVOYW1lV2l0aG91dFRoZUpTID0gZmlsZU5hbWUuc2xpY2UoMCwgZmlsZU5hbWUubGVuZ3RoLTMpO1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZXFVcmwgKyAnLycgKyBmaWxlTmFtZVdpdGhvdXRUaGVKUyk7XHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCAke3JlcVVybH1gKTtcclxuICAgIG5leHRGaWxlTmFtZSA9IGZpbGVOYW1lO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcclxufVxyXG5cclxuLy8gcmVwbGFjZXMgY29kZSBydW5uaW5nIHdpdGggbmV4dENvZGVcclxuYXN5bmMgZnVuY3Rpb24gcmVwbGFjZVNjcmlwdCgpe1xyXG4gICAgcmVtb3ZlU2NyaXB0KCk7XHJcblxyXG4gICAgd2luZG93LnJlc2V0R2FtZSgpO1xyXG4gICAgc3RvcE11c2ljKCk7XHJcblxyXG4gICAgY29uc3Qgc2NyaXB0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG4gICAgc2NyaXB0RWxlbWVudC5pZCA9IFwiZ2FtZVNjcmlwdFwiO1xyXG4gICAgc2NyaXB0RWxlbWVudC50ZXh0ID0gbmV4dENvZGU7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdEVsZW1lbnQpO1xyXG5cclxuICAgIG5leHRDb2RlID0gdW5kZWZpbmVkO1xyXG4gICAgd2luZG93LmxldmVsRmlsZU5hbWUgPSBuZXh0RmlsZU5hbWU7XHJcbn1cclxuXHJcbndpbmRvdy5yZW1vdmVTY3JpcHQgPSBmdW5jdGlvbiByZW1vdmVTY3JpcHQoKXtcclxuICAgIGNvbnN0IGxhc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVTY3JpcHRcIik7XHJcbiAgICBpZihsYXN0ICE9PSBudWxsKSBsYXN0LnJlbW92ZSgpO1xyXG4gICAgd2luZG93LnJlc2V0R2FtZSgpO1xyXG4gICAgc3RvcE11c2ljKCk7XHJcbn1cclxuXHJcbndpbmRvdy5yZXNldEdhbWUgPSAoKSA9PiB7XHJcbiAgICB3aW5kb3cub2JzdGFjbGVzLmxlbmd0aCA9IHdpbmRvdy5tb3VzZVVwRnVuY3Rpb25zLmxlbmd0aCA9IHdpbmRvdy5tb3VzZURvd25GdW5jdGlvbnMubGVuZ3RoID0gd2luZG93Lm1vdXNlTW92ZUZ1bmN0aW9ucy5sZW5ndGggPSAwO1xyXG4gICAgaWYod2luZG93LmVudmlyb25tZW50ICE9PSAnZWRpdG9yJykge3dpbmRvdy5yZXNwYXduUGxheWVyKCk7IC8qcGxheWVyLnJlbmRlclJhZGl1cyA9IHBsYXllci5zYXQucjsqLyB9XHJcbiAgICBlbHNlIHt3aW5kb3cuaW5maW5pdGVMb29wID0gZmFsc2U7fVxyXG4gICAgZm9yKGxldCBrZXkgaW4gd2luZG93LmRlZmF1bHRDb2xvcnMpIHsgd2luZG93LmNvbG9yc1trZXldID0gd2luZG93LmRlZmF1bHRDb2xvcnNba2V5XTsgfVxyXG4gICAgaWYod2luZG93LmNvbG9ycy52aWduZXR0ZSAhPT0gdW5kZWZpbmVkKSB3aW5kb3cuY29sb3JzLnZpZ25ldHRlID0gc3RydWN0dXJlZENsb25lKHdpbmRvdy5kZWZhdWx0Q29sb3JzLnZpZ25ldHRlKTtcclxuICAgIHdpbmRvdy5tb3VzZURvd25GdW5jdGlvbnMucHVzaCgoKSA9PiB7XHJcbiAgICAgICAgaWYocGxheWVyLmRlYWQgPT09IHRydWUpIHdpbmRvdy5yZXNwYXduUGxheWVyKCk7XHJcbiAgICB9KVxyXG4gICAgaWYod2luZG93LmFkZFNpZGVNZW51RXZ0TGlzdGVuZXJzICE9PSB1bmRlZmluZWQpIHdpbmRvdy5hZGRTaWRlTWVudUV2dExpc3RlbmVycyhuZXh0RmlsZU5hbWUpO1xyXG4gICAgd2luZG93LnNwYXduUG9zaXRpb24ueCA9IDEwMDtcclxuICAgIHdpbmRvdy5zcGF3blBvc2l0aW9uLnkgPSAxNTAwO1xyXG4gICAgY29uc3QgcGxheWVyID0gd2luZG93LnBsYXllcnNbd2luZG93LnNlbGZJZF07XHJcbiAgICBpZihwbGF5ZXIgIT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgcGxheWVyLnNhdC5yID0gNDkuNTtcclxuICAgICAgICBwbGF5ZXIuc3BlZWQgPSBwbGF5ZXIuYmFzZVNwZWVkID0gMC40MztcclxuICAgIH1cclxuICAgIHdpbmRvdy5pZFRvT2JzID0ge307XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNjcm9sbDsiLCJpbXBvcnQgVXRpbHMgZnJvbSAnLi91dGlscy5qcyc7XHJcbmNvbnN0IHsgZW52aXJvbm1lbnQsIGJsZW5kQ29sb3IsIGVuY29kZUF0UG9zaXRpb24gfSA9IFV0aWxzO1xyXG5pbXBvcnQgc2Nyb2xsIGZyb20gJy4vc2Nyb2xsLmpzJztcclxubGV0IHRvU2Nyb2xsID0gZmFsc2U7XHJcblxyXG53aW5kb3cucmVzcGF3blBsYXllciA9ICgpID0+IHtcclxuICAgIGNvbnN0IHBsYXllciA9IHdpbmRvdy5wbGF5ZXJzW3dpbmRvdy5zZWxmSWRdO1xyXG4gICAgaWYocGxheWVyID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgIHBsYXllci5wb3MueCA9IHdpbmRvdy5zcGF3blBvc2l0aW9uLng7XHJcbiAgICBwbGF5ZXIucG9zLnkgPSB3aW5kb3cuc3Bhd25Qb3NpdGlvbi55O1xyXG4gICAgcGxheWVyLnJlbmRlclJhZGl1cyA9IDA7XHJcbiAgICBwbGF5ZXIuZGVhZCA9IGZhbHNlO1xyXG4gICAgcGxheWVyLmZvcmNlcy5sZW5ndGggPSAwO1xyXG4gICAgaWYoZHJhZ2dpbmcgPT09IHRydWUpIHt3aW5kb3cub25tb3VzZXVwKCk7IGRyYWdnaW5nID0gdHJ1ZTt9XHJcbiAgICBlbHNlIHdpbmRvdy5vbm1vdXNldXAoKTtcclxufVxyXG5cclxuY29uc3QgU0FUID0gd2luZG93LlNBVDtcclxuU0FULkNpcmNsZS5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XHJcbiAgICB0aGlzLnBvcy5yb3RhdGUoYW5nbGUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGUoc2hhcGUsIHNpbXVsYXRlcywgZWZmZWN0cywgcGFyYW1zKXtcclxuICAgIGNvbnN0IGUgPSB7XHJcbiAgICAgICAgc2F0OiBzYXRNYXBbc2hhcGVdKHBhcmFtcyksXHJcbiAgICAgICAgc2ltdWxhdGU6IFtdLFxyXG4gICAgICAgIGVmZmVjdDogW10sXHJcbiAgICAgICAgcmVuZGVyU2hhcGU6IHJlbmRlclNoYXBlTWFwW3NoYXBlXSxcclxuICAgICAgICByZW5kZXJFZmZlY3Q6IGVmZmVjdHMubWFwKGUgPT4gcmVuZGVyRWZmZWN0TWFwW2VdKSxcclxuICAgIH07XHJcbiAgICBlLnJlbmRlckVmZmVjdFRpbWVyID0gMDtcclxuICAgIGUucG9zID0gZS5zYXQucG9zO1xyXG4gICAgaWYoc2hhcGUgPT09IDApIGUuc2F0LnIgPSBNYXRoLm1heChlLnNhdC5yLCAwLjAwMSk7XHJcbiAgICBlbHNlIGlmKHNoYXBlID09PSAzKSB7ZS5pc1RleHQgPSB0cnVlOyBlLnRleHQgPSBwYXJhbXMudGV4dDsgZS5mb250U2l6ZSA9IHBhcmFtcy5mb250U2l6ZTsgfVxyXG4gICAgZm9yKGxldCBrZXkgaW4gd2luZG93LnNhdENvbnN0cmFpbnRzTWFwW3NoYXBlXSl7XHJcbiAgICAgICAgLy8gW21pbiwgbWF4LCBtdXN0QmVJbnQsIGN1c3RvbVZhbGlkYXRvcihlKV1cclxuICAgICAgICBjb25zdCBjID0gd2luZG93LnNhdENvbnN0cmFpbnRzTWFwW3NoYXBlXVtrZXldO1xyXG4gICAgICAgIGlmKGNbMl0gPT09IHRydWUpIGVba2V5XSA9IE1hdGgucm91bmQoZVtrZXldKTtcclxuICAgICAgICBpZihlW2tleV0gPCBjWzBdKSBlW2tleV0gPSBjWzBdO1xyXG4gICAgICAgIGVsc2UgaWYoZVtrZXldID4gY1sxXSkgZVtrZXldID0gY1sxXTtcclxuICAgIH1cclxuICAgIGUuZGltZW5zaW9ucyA9IGdlbmVyYXRlRGltZW5zaW9ucyhlKTtcclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzaW11bGF0ZXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGUuc2ltdWxhdGUucHVzaChzaW11bGF0ZU1hcFtzaW11bGF0ZXNbaV1dKTtcclxuICAgICAgICBpbml0U2ltdWxhdGVNYXBbc2ltdWxhdGVzW2ldXShlLCBwYXJhbXMpO1xyXG4gICAgICAgIGZvcihsZXQga2V5IGluIHdpbmRvdy5zaW11bGF0ZUNvbnN0cmFpbnRzTWFwW3NpbXVsYXRlc1tpXV0pe1xyXG4gICAgICAgICAgICAvLyBbbWluLCBtYXgsIG11c3RCZUludCwgY3VzdG9tVmFsaWRhdG9yKGUpXVxyXG4gICAgICAgICAgICBjb25zdCBjID0gd2luZG93LnNpbXVsYXRlQ29uc3RyYWludHNNYXBbc2ltdWxhdGVzW2ldXVtrZXldO1xyXG4gICAgICAgICAgICBpZihjWzJdID09PSB0cnVlKSBlW2tleV0gPSBNYXRoLnJvdW5kKGVba2V5XSk7XHJcbiAgICAgICAgICAgIGlmKGVba2V5XSA8IGNbMF0pIGVba2V5XSA9IGNbMF07XHJcbiAgICAgICAgICAgIGVsc2UgaWYoZVtrZXldID4gY1sxXSkgZVtrZXldID0gY1sxXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZWZmZWN0cy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgZS5lZmZlY3QucHVzaChlZmZlY3RNYXBbZWZmZWN0c1tpXV0pO1xyXG4gICAgICAgIGluaXRFZmZlY3RNYXBbZWZmZWN0c1tpXV0oZSwgcGFyYW1zKTtcclxuICAgICAgICBpZihpZGxlRWZmZWN0TWFwW2VmZmVjdHNbaV1dICE9PSB1bmRlZmluZWQpIGUuc2ltdWxhdGUucHVzaChpZGxlRWZmZWN0TWFwW2VmZmVjdHNbaV1dKTtcclxuICAgICAgICBmb3IobGV0IGtleSBpbiB3aW5kb3cuZWZmZWN0Q29uc3RyYWludHNNYXBbZWZmZWN0c1tpXV0pe1xyXG4gICAgICAgICAgICAvLyBbbWluLCBtYXgsIG11c3RCZUludCwgY3VzdG9tVmFsaWRhdG9yKGUpXVxyXG4gICAgICAgICAgICBjb25zdCBjID0gd2luZG93LmVmZmVjdENvbnN0cmFpbnRzTWFwW2VmZmVjdHNbaV1dW2tleV07XHJcbiAgICAgICAgICAgIGlmKGNbMl0gPT09IHRydWUpIGVba2V5XSA9IE1hdGgucm91bmQoZVtrZXldKTtcclxuICAgICAgICAgICAgaWYoZVtrZXldIDwgY1swXSkgZVtrZXldID0gY1swXTtcclxuICAgICAgICAgICAgZWxzZSBpZihlW2tleV0gPiBjWzFdKSBlW2tleV0gPSBjWzFdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmKHBhcmFtcy5zZiAhPT0gdW5kZWZpbmVkKSBlLnNpbXVsYXRlLnB1c2gocGFyYW1zLnNmKTtcclxuICAgIGlmKHBhcmFtcy5lZiAhPT0gdW5kZWZpbmVkKSB7ZS5lZmZlY3QucHVzaChwYXJhbXMuZWYpOyBlLnJlbmRlckVmZmVjdC5wdXNoKHJlbmRlckVmZmVjdE1hcFszXSk7fVxyXG4gICAgXHJcbiAgICBvYnN0YWNsZXMucHVzaChlKTtcclxuXHJcbiAgICAvLyBmaXhpbmcgcG9seWdvbiBwb2ludHMgaWYgdGhleSdyZSBkeW5hbWljYWxseSBnZW5lcmF0ZWRcclxuICAgIGlmKHBhcmFtcy5maXhQb2x5ICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgIGlmKGVudmlyb25tZW50ID09PSAnZWRpdG9yJyl7XHJcbiAgICAgICAgICAgIGUuc2F0LnNldFBvaW50cyh3aW5kb3cuZml4UG9seWdvbihwYXJhbXMucG9pbnRzKS5tYXAocHQgPT4gbmV3IFNBVC5WZWN0b3IocHRbMF0sIHB0WzFdKSkpO1xyXG4gICAgICAgICAgICBlLmRpbWVuc2lvbnMgPSBnZW5lcmF0ZURpbWVuc2lvbnMoZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgKGFzeW5jKCk9PntcclxuICAgICAgICAgICAgICAgIGF3YWl0IGltcG9ydCgnLi4vc2hhcmVkL2ZpeFBvbHlnb24uanMnKTtcclxuICAgICAgICAgICAgICAgIGUuc2F0LnNldFBvaW50cyh3aW5kb3cuZml4UG9seWdvbihwYXJhbXMucG9pbnRzKS5tYXAocHQgPT4gbmV3IFNBVC5WZWN0b3IocHRbMF0sIHB0WzFdKSkpO1xyXG4gICAgICAgICAgICAgICAgZS5kaW1lbnNpb25zID0gZ2VuZXJhdGVEaW1lbnNpb25zKGUpO1xyXG4gICAgICAgICAgICB9KSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG53aW5kb3cuQyA9IGNyZWF0ZTtcclxud2luZG93LmlkVG9PYnMgPSB7fTtcclxud2luZG93LnRpY2tGbnMgPSBbXTtcclxuXHJcbmZ1bmN0aW9uIGludGVycG9sYXRlKHN0YXJ0LCBlbmQsIHQpe1xyXG4gICAgcmV0dXJuICgxLXQpICogc3RhcnQgKyB0ICogZW5kO1xyXG59XHJcblxyXG5sZXQgcmVzID0gbmV3IFNBVC5SZXNwb25zZSgpO1xyXG5sZXQgYW5nbGUsIGNvbGxpZGVkID0gZmFsc2U7XHJcbmZ1bmN0aW9uIHNpbXVsYXRlKCl7XHJcbiAgICAvLyBwbGF5ZXIgc2ltdWxhdGlvblxyXG4gICAgY29uc3QgcGxheWVyID0gd2luZG93LnBsYXllcnNbd2luZG93LnNlbGZJZF07XHJcblxyXG4gICAgaWYod2luZG93LmlzRXhDbGllbnQgPT09IHRydWUpe1xyXG4gICAgICAgIHBsYXllci5yZW5kZXJSYWRpdXMgPSBpbnRlcnBvbGF0ZShwbGF5ZXIucmVuZGVyUmFkaXVzLCBwbGF5ZXIuc2F0LnIsIGR0ICogMSAvIDkwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGxheWVyLnJlbmRlclJhZGl1cyA9IHBsYXllci5yZW5kZXJSYWRpdXMgKiAwLjgzICsgcGxheWVyLnNhdC5yICogMC4xNztcclxuICAgIH1cclxuXHJcbiAgICBpZih3aW5kb3cuaXNFeENsaWVudCA9PT0gdHJ1ZSAmJiBwbGF5ZXIuZGVhZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICBwbGF5ZXIueGEgPSAoaW5wdXQucmlnaHQgLSBpbnB1dC5sZWZ0KSAqIHBsYXllci5zcGVlZCAqIHBsYXllci5heGlzU3BlZWRNdWx0WCAqIGR0IC8gMTYuNjY7XHJcbiAgICAgICAgcGxheWVyLnlhID0gKGlucHV0LmRvd24gLSBpbnB1dC51cCkgKiBwbGF5ZXIuc3BlZWQgKiBwbGF5ZXIuYXhpc1NwZWVkTXVsdFkgKiBkdCAvIDE2LjY2O1xyXG5cclxuICAgICAgICBpZihpbnB1dC5zaGlmdCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpZihwbGF5ZXIuZ29kID09PSB0cnVlKXtcclxuICAgICAgICAgICAgICAgIHBsYXllci54YSAqPSAzO1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnlhICo9IDM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIueGEgKj0gMC41O1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnlhICo9IDAuNTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGxheWVyLnh2ICs9IHBsYXllci54YTtcclxuICAgICAgICBwbGF5ZXIueXYgKz0gcGxheWVyLnlhO1xyXG5cclxuICAgICAgICBwbGF5ZXIucG9zLnggKz0gcGxheWVyLnh2ICogZHQ7XHJcbiAgICAgICAgcGxheWVyLnBvcy55ICs9IHBsYXllci55diAqIGR0O1xyXG5cclxuICAgICAgICBwbGF5ZXIueHYgKj0gTWF0aC5wb3coMC40LCBkdCAvIDE2LjY2KS8vaW50ZXJwb2xhdGUocGxheWVyLnh2LCAwLCAxIC0gTWF0aC5leHAocGxheWVyLmZyaWN0aW9uICogZHQgLyAxNi42NikpO1xyXG4gICAgICAgIHBsYXllci55diAqPSBNYXRoLnBvdygwLjQsIGR0IC8gMTYuNjYpLy8xIC0gTWF0aC5leHAocGxheWVyLmZyaWN0aW9uICogZHQgLyAxNi42Nik7XHJcbiAgICB9IGVsc2UgaWYod2luZG93LmRyYWdnaW5nID09PSB0cnVlICYmIHBsYXllci5kZWFkID09PSBmYWxzZSl7XHJcbiAgICAgICAgaWYocGxheWVyLmF4aXNTcGVlZE11bHRYID09PSAwIHx8IHBsYXllci5heGlzU3BlZWRNdWx0WSA9PT0gMCkgYW5nbGUgPSBNYXRoLmF0YW4yKCh3aW5kb3cubW91c2VZIC0gcGxheWVyLnBvcy55KSwgKHdpbmRvdy5tb3VzZVggLSBwbGF5ZXIucG9zLngpKTtcclxuICAgICAgICBlbHNlIGFuZ2xlID0gTWF0aC5hdGFuMigod2luZG93Lm1vdXNlWSAtIHBsYXllci5wb3MueSkgKiBwbGF5ZXIuYXhpc1NwZWVkTXVsdFgsICh3aW5kb3cubW91c2VYIC0gcGxheWVyLnBvcy54KSAqIHBsYXllci5heGlzU3BlZWRNdWx0WSk7XHJcbiAgICAgICAgcGxheWVyLnh2ID0gTWF0aC5jb3MoYW5nbGUpICogcGxheWVyLnNwZWVkICogcGxheWVyLmF4aXNTcGVlZE11bHRYO1xyXG4gICAgICAgIHBsYXllci55diA9IE1hdGguc2luKGFuZ2xlKSAqIHBsYXllci5zcGVlZCAqIHBsYXllci5heGlzU3BlZWRNdWx0WTtcclxuICAgICAgICBpZihNYXRoLmFicyhwbGF5ZXIueHYpID4gTWF0aC5hYnMocGxheWVyLnBvcy54IC0gd2luZG93Lm1vdXNlWCkpIHBsYXllci54diA9IHdpbmRvdy5tb3VzZVggLSBwbGF5ZXIucG9zLng7XHJcbiAgICAgICAgaWYoTWF0aC5hYnMocGxheWVyLnl2KSA+IE1hdGguYWJzKHBsYXllci5wb3MueSAtIHdpbmRvdy5tb3VzZVkpKSBwbGF5ZXIueXYgPSB3aW5kb3cubW91c2VZIC0gcGxheWVyLnBvcy55O1xyXG4gICAgICAgIHBsYXllci5wb3MueCArPSBwbGF5ZXIueHY7XHJcbiAgICAgICAgcGxheWVyLnBvcy55ICs9IHBsYXllci55djtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGxheWVyLnh2ID0gcGxheWVyLnl2ID0gMDtcclxuICAgIH1cclxuICAgIHBsYXllci5heGlzU3BlZWRNdWx0WCA9IHBsYXllci5heGlzU3BlZWRNdWx0WSA9IDE7XHJcblxyXG4gICAgaWYocGxheWVyLnN0b3BGb3JjZXMgPT09IHRydWUpe1xyXG4gICAgICAgIHBsYXllci5zdG9wRm9yY2VzID0gZmFsc2U7XHJcbiAgICAgICAgcGxheWVyLmZvcmNlcy5sZW5ndGggPSAwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcGxheWVyLmZvcmNlcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIC8vIFt4LCB5LCBkZWNheV1cclxuICAgICAgICAgICAgcGxheWVyLnBvcy54ICs9IHBsYXllci5mb3JjZXNbaV1bMF07XHJcbiAgICAgICAgICAgIHBsYXllci5wb3MueSArPSBwbGF5ZXIuZm9yY2VzW2ldWzFdO1xyXG4gICAgICAgICAgICBwbGF5ZXIuZm9yY2VzW2ldWzBdICo9IE1hdGgucG93KHBsYXllci5mb3JjZXNbaV1bMl0sIGR0IC8gMTYuNjYpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuZm9yY2VzW2ldWzFdICo9IE1hdGgucG93KHBsYXllci5mb3JjZXNbaV1bMl0sIGR0IC8gMTYuNjYpO1xyXG4gICAgICAgICAgICBpZihNYXRoLmFicyhwbGF5ZXIuZm9yY2VzW2ldWzBdKSA8IDAuMDEgJiYgTWF0aC5hYnMocGxheWVyLmZvcmNlc1tpXVsxXSkgPCAwLjAxKXtcclxuICAgICAgICAgICAgICAgIHBsYXllci5mb3JjZXMuc3BsaWNlKGksMSk7XHJcbiAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gICAgXHJcblxyXG4gICAgaWYocGxheWVyLmRlYWQgPT09IHRydWUpe1xyXG4gICAgICAgIHBsYXllci5yZW5kZXJSYWRpdXMgPSBwbGF5ZXIubGFzdEFsaXZlUmFkaXVzO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBvYnN0YWNsZXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAvLyBvYnN0YWNsZSBzaW11bGF0aW9uXHJcbiAgICAgICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBvYnN0YWNsZXNbaV0uc2ltdWxhdGUubGVuZ3RoOyBqKyspe1xyXG4gICAgICAgICAgICAgICAgb2JzdGFjbGVzW2ldLnNpbXVsYXRlW2pdKG9ic3RhY2xlc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBsYXllci5sYXN0QWxpdmVSYWRpdXMgPSBwbGF5ZXIuc2F0LnI7XHJcbiAgICAgICAgaWYocGxheWVyLmdvZCAhPT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgIGlmKHBsYXllci5wb3MueCAtIHBsYXllci5zYXQuciA8IDApIHBsYXllci5wb3MueCA9IHBsYXllci5zYXQucjtcclxuICAgICAgICAgICAgZWxzZSBpZihwbGF5ZXIucG9zLnggKyBwbGF5ZXIuc2F0LnIgPiB3aW5kb3cubWFwRGltZW5zaW9ucy54KSBwbGF5ZXIucG9zLnggPSB3aW5kb3cubWFwRGltZW5zaW9ucy54IC0gcGxheWVyLnNhdC5yO1xyXG4gICAgICAgICAgICBpZihwbGF5ZXIucG9zLnkgLSBwbGF5ZXIuc2F0LnIgPCAwKSBwbGF5ZXIucG9zLnkgPSBwbGF5ZXIuc2F0LnI7XHJcbiAgICAgICAgICAgIGVsc2UgaWYocGxheWVyLnBvcy55ICsgcGxheWVyLnNhdC5yID4gd2luZG93Lm1hcERpbWVuc2lvbnMueSkgcGxheWVyLnBvcy55ID0gd2luZG93Lm1hcERpbWVuc2lvbnMueSAtIHBsYXllci5zYXQucjtcclxuICAgICAgICBcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG9ic3RhY2xlcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAvLyBjb2xsaXNpb24gKGRvbmUgYmVmb3JlIHNpbXVsYXRpb24gYmVjYXVzZSB0aGF0IGlzIHdoYXQgbGFzdCByZW5kZXJlZCBmcmFtZSBzZWVzKVxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogYm91bmRpbmcgYm94IGNoZWNrXHJcbiAgICAgICAgICAgICAgICBpZihvYnN0YWNsZXNbaV0uc2F0LnIgIT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sbGlkZWQgPSBTQVQudGVzdENpcmNsZUNpcmNsZShvYnN0YWNsZXNbaV0uc2F0LCBwbGF5ZXIuc2F0LCByZXMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xsaWRlZCA9IFNBVC50ZXN0UG9seWdvbkNpcmNsZShvYnN0YWNsZXNbaV0uc2F0LCBwbGF5ZXIuc2F0LCByZXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoY29sbGlkZWQgPT09IHRydWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBvYnN0YWNsZXNbaV0uZWZmZWN0Lmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzdGFjbGVzW2ldLmVmZmVjdFtqXShwbGF5ZXIsIHJlcywgb2JzdGFjbGVzW2ldLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXMuY2xlYXIoKTsvLyBUT0RPOiB0ZXN0IGlmIHRoaXMgaXMgcmVhbGx5IG5lZWRlZFxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gb2JzdGFjbGUgc2ltdWxhdGlvblxyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IG9ic3RhY2xlc1tpXS5zaW11bGF0ZS5sZW5ndGg7IGorKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JzdGFjbGVzW2ldLnNpbXVsYXRlW2pdKG9ic3RhY2xlc1tpXSwgcGxheWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGp1c3QgZG8gc2ltdWxhdGlvbiBpZiBpbiBnb2Rtb2RlXHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBvYnN0YWNsZXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IG9ic3RhY2xlc1tpXS5zaW11bGF0ZS5sZW5ndGg7IGorKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JzdGFjbGVzW2ldLnNpbXVsYXRlW2pdKG9ic3RhY2xlc1tpXSwgcGxheWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZihwbGF5ZXIudG91Y2hpbmdOb3JtYWxJbmRleGVzLmxlbmd0aCAhPT0gMCB8fCBwbGF5ZXIubGFzdFRvdWNoaW5nTm9ybWFsSW5kZXhlcy5sZW5ndGggIT09IDApe1xyXG4gICAgICAgIHBsYXllci5sYXN0VG91Y2hpbmdOb3JtYWxJbmRleGVzID0gcGxheWVyLnRvdWNoaW5nTm9ybWFsSW5kZXhlcztcclxuICAgICAgICBwbGF5ZXIudG91Y2hpbmdOb3JtYWxJbmRleGVzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgaWYocGxheWVyLm9uU2FmZSA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgcGxheWVyLm9uU2FmZSA9IGZhbHNlO1xyXG4gICAgICAgIHBsYXllci5kZWFkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYm91bmRpbmcgdGhlIHBsYXllciBieSB0aGUgd2FsbHNcclxuICAgIHBsYXllci50b3VjaGluZ1dhbGwgPSBmYWxzZTtcclxuICAgIGlmKHBsYXllci5zYXQuciA+IDkwMCkgcGxheWVyLnNhdC5yID0gOTAwO1xyXG5cclxuICAgIGlmKHBsYXllci5nb2QgIT09IHRydWUpe1xyXG4gICAgICAgIGlmKHBsYXllci5wb3MueCAtIHBsYXllci5zYXQuciA8IDApe1xyXG4gICAgICAgICAgICBwbGF5ZXIucG9zLnggPSBwbGF5ZXIuc2F0LnI7XHJcbiAgICAgICAgICAgIHBsYXllci50b3VjaGluZ1dhbGwgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZihwbGF5ZXIucG9zLnggKyBwbGF5ZXIuc2F0LnIgPiBtYXBEaW1lbnNpb25zLngpe1xyXG4gICAgICAgICAgICBwbGF5ZXIucG9zLnggPSBtYXBEaW1lbnNpb25zLnggLSBwbGF5ZXIuc2F0LnI7XHJcbiAgICAgICAgICAgIHBsYXllci50b3VjaGluZ1dhbGwgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihwbGF5ZXIucG9zLnkgLSBwbGF5ZXIuc2F0LnIgPCAwKXtcclxuICAgICAgICAgICAgcGxheWVyLnBvcy55ID0gcGxheWVyLnNhdC5yO1xyXG4gICAgICAgICAgICBwbGF5ZXIudG91Y2hpbmdXYWxsID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2UgaWYocGxheWVyLnBvcy55ICsgcGxheWVyLnNhdC5yID4gbWFwRGltZW5zaW9ucy55KXtcclxuICAgICAgICAgICAgcGxheWVyLnBvcy55ID0gbWFwRGltZW5zaW9ucy55IC0gcGxheWVyLnNhdC5yO1xyXG4gICAgICAgICAgICBwbGF5ZXIudG91Y2hpbmdXYWxsID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBsYXllci5kZWFkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYod2luZG93LnRpY2tGbnMubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHdpbmRvdy50aWNrRm5zLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgd2luZG93LnRpY2tGbnNbaV0oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93LnRpY2tGbnMubGVuZ3RoID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBzY3JvbGxpbmcgaWYgc3BlY2lmaWVkIGJ5IGEgc2ltdWxhdGUgdHlwZVxyXG4gICAgaWYodG9TY3JvbGwgPT09IHRydWUpe1xyXG4gICAgICAgIHRvU2Nyb2xsID0gZmFsc2U7XHJcbiAgICAgICAgaWYod2luZG93LmRyYWdnaW5nID09PSB0cnVlKSB3aW5kb3cub25tb3VzZXVwKCk7XHJcbiAgICAgICAgc2Nyb2xsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gKHJlbmRlcmluZyBoYXBwZW5zIGluIGJldHdlZW4pXHJcbn1cclxuXHJcbi8vIDAgLSBjaXJjbGUsIDEgLSBwb2x5Z29uXHJcbmNvbnN0IGNvbGxpc2lvbk1hdHJpeCA9IFtcclxuICAgIFNBVC50ZXN0Q2lyY2xlQ2lyY2xlLCBTQVQudGVzdENpcmNsZVBvbHlnb24sXHJcbiAgICBTQVQudGVzdFBvbHlnb25DaXJjbGUsIFNBVC50ZXN0UG9seWdvblBvbHlnb25cclxuXVxyXG53aW5kb3cuY29sbGlkZSA9IChhLGIpID0+IHtcclxuICAgIHJlcy5oYXNDb2xsaWRlZCA9IGNvbGxpc2lvbk1hdHJpeFsoYS5zYXQuciA9PT0gdW5kZWZpbmVkKSAqIDIgKyAoYi5zYXQuciA9PT0gdW5kZWZpbmVkKV0oYS5zYXQsIGIuc2F0LCByZXMpO1xyXG4gICAgcmV0dXJuIHJlczsvLyBtYWtlIHN1cmUgdG8gY2xlYXIgYWZ0ZXIgdXNlIVxyXG59XHJcbndpbmRvdy5ib3VuZEFCID0gKGEsYikgPT4ge1xyXG4gICAgY29uc3QgcmVzID0gd2luZG93LmNvbGxpZGUoYSxiKTtcclxuICAgIGlmKHJlcy5oYXNDb2xsaWRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIGEucG9zLnggLT0gcmVzLm92ZXJsYXBWLng7XHJcbiAgICAgICAgYS5wb3MueSAtPSByZXMub3ZlcmxhcFYueTtcclxuICAgIH1cclxuICAgIHJlcy5jbGVhcigpO1xyXG59XHJcbndpbmRvdy5pc0FCQ29sbGlkaW5nID0gKGEsYikgPT4ge1xyXG4gICAgaWYoYSA9PT0gdW5kZWZpbmVkIHx8IGIgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgY29uc3QgcmVzID0gd2luZG93LmNvbGxpZGUoYSxiKTtcclxuICAgIGNvbnN0IGhhc0NvbGxpZGVkID0gcmVzLmhhc0NvbGxpZGVkO1xyXG4gICAgcmVzLmNsZWFyKCk7XHJcbiAgICByZXR1cm4gaGFzQ29sbGlkZWQ7XHJcbn1cclxuXHJcbmNvbnN0IHNhdE1hcCA9IFtcclxuICAgIC8qY2lyY2xlKi9cclxuICAgIChwKSA9PiB7XHJcbiAgICAgICAgLy8geCx5LHJcclxuICAgICAgICByZXR1cm4gbmV3IFNBVC5DaXJjbGUobmV3IFNBVC5WZWN0b3IocC54LCBwLnkpLCBwLnIpO1xyXG4gICAgfSxcclxuICAgIC8qcmVjdGFuZ2xlKi9cclxuICAgIChwKSA9PiB7XHJcbiAgICAgICAgLy8geCx5LHcsaFxyXG4gICAgICAgIHJldHVybiBuZXcgU0FULkJveChuZXcgU0FULlZlY3RvcihwLngsIHAueSksIHAudywgcC5oKS50b1BvbHlnb24oKTtcclxuICAgIH0sXHJcbiAgICAvKnBvbHlnb24qL1xyXG4gICAgKHApID0+IHtcclxuICAgICAgICAvLyBwb2ludHM6IFtbeCx5XSwgLi4uXVxyXG4gICAgICAgIGlmKHAucG9pbnRzLmxlbmd0aCA8IDIpIHAucG9pbnRzID0gd2luZG93LnNhdERlZmF1bHRNYXBbMl0ucG9pbnRzO1xyXG4gICAgICAgIHAueCA9IDA7IHAueSA9IDA7XHJcbiAgICAgICAgY29uc3QgcyA9IG5ldyBTQVQuUG9seWdvbihuZXcgU0FULlZlY3RvcigpLCBwLnBvaW50cy5tYXAocHQgPT4gbmV3IFNBVC5WZWN0b3IocHRbMF0sIHB0WzFdKSkpO1xyXG4gICAgICAgIHMucG9zLnggPSBwLng7XHJcbiAgICAgICAgcy5wb3MueSA9IHAueTtcclxuICAgICAgICByZXR1cm4gcztcclxuICAgIH0sXHJcbiAgICAvKnRleHQqL1xyXG4gICAgKHApID0+IHtcclxuICAgICAgICBpZih3aW5kb3cuaXNTZXJ2ZXIgPT09IHRydWUpIHJldHVybiBuZXcgU0FULkJveChuZXcgU0FULlZlY3RvcihwLngsIHAueSksIDEwMCwgMTAwKS50b1BvbHlnb24oKTtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xyXG4gICAgICAgIGN0eC5mb250ID0gYCR7cC5mb250U2l6ZX1weCBJbnRlcmA7XHJcbiAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IGN0eC5tZWFzdXJlVGV4dChwLnRleHQpO1xyXG4gICAgICAgIGNvbnN0IHcgPSBkaW1lbnNpb25zLmFjdHVhbEJvdW5kaW5nQm94UmlnaHQgKyBkaW1lbnNpb25zLmFjdHVhbEJvdW5kaW5nQm94TGVmdDtcclxuICAgICAgICBjb25zdCBoID0gZGltZW5zaW9ucy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQgKyBkaW1lbnNpb25zLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50O1xyXG4gICAgICAgIGNvbnN0IHMgPSBuZXcgU0FULkJveChuZXcgU0FULlZlY3RvcihwLnggLSB3IC8gMiwgcC55IC0gaCAvIDIpLCB3LCBoKS50b1BvbHlnb24oKTtcclxuICAgICAgICByZXR1cm4gcztcclxuICAgIH1cclxuXTtcclxuXHJcbi8vIGZvbnQgbG9hZGluZyBmaXhcclxuZnVuY3Rpb24gZml4Rm9udHMoKSB7XHJcbiAgICBjb25zdCBvcyA9IHdpbmRvdy5vYnN0YWNsZXM7XHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgb3MubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGlmKG9zW2ldLmlzVGV4dCAhPT0gdHJ1ZSkgY29udGludWU7XHJcbiAgICAgICAgY29uc3Qgb2xkRGltZW5zaW9ucyA9IG9zW2ldLmRpbWVuc2lvbnM7XHJcbiAgICAgICAgb3NbaV0uZGltZW5zaW9ucyA9IGdlbmVyYXRlRGltZW5zaW9ucyhvc1tpXSk7XHJcbiAgICAgICAgb3NbaV0ucG9zLnggKz0gKG9sZERpbWVuc2lvbnMueCAtIG9zW2ldLmRpbWVuc2lvbnMueCkgLyAyO1xyXG4gICAgICAgIG9zW2ldLnBvcy55ICs9IChvbGREaW1lbnNpb25zLnkgLSBvc1tpXS5kaW1lbnNpb25zLnkpIC8gMjtcclxuICAgIH1cclxufVxyXG5zZXRUaW1lb3V0KGZpeEZvbnRzLCAxMDAwKTtcclxuc2V0VGltZW91dChmaXhGb250cywgMzAwMCk7XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZURpbWVuc2lvbnMobyl7XHJcbiAgICBjb25zdCBzYXQgPSBvLnNhdDtcclxuICAgIGlmKHNhdC5yICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IHNhdC5yICogMixcclxuICAgICAgICAgICAgeTogc2F0LnIgKiAyXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZihvLmlzVGV4dCA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcclxuICAgICAgICBjdHguZm9udCA9IGAke28uZm9udFNpemV9cHggSW50ZXJgO1xyXG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSBjdHgubWVhc3VyZVRleHQoby50ZXh0KTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiBkaW1lbnNpb25zLmFjdHVhbEJvdW5kaW5nQm94UmlnaHQgKyBkaW1lbnNpb25zLmFjdHVhbEJvdW5kaW5nQm94TGVmdCxcclxuICAgICAgICAgICAgd09mZnNldDogKGRpbWVuc2lvbnMuYWN0dWFsQm91bmRpbmdCb3hSaWdodCAtIGRpbWVuc2lvbnMuYWN0dWFsQm91bmRpbmdCb3hMZWZ0KSAvIDIsXHJcbiAgICAgICAgICAgIHk6IGRpbWVuc2lvbnMuYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50ICsgZGltZW5zaW9ucy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudCxcclxuICAgICAgICAgICAgaE9mZnNldDogKGRpbWVuc2lvbnMuYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50IC0gZGltZW5zaW9ucy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudCkgLyAyLy8gKjAuNzU/XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBsZXQgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0O1xyXG4gICAgYm90dG9tID0gcmlnaHQgPSAtSW5maW5pdHk7XHJcbiAgICB0b3AgPSBsZWZ0ID0gSW5maW5pdHk7XHJcbiAgICBmb3IobGV0IHAgb2Ygc2F0LnBvaW50cyl7XHJcbiAgICAgICAgaWYocC54IDwgbGVmdCkgbGVmdCA9IHAueDtcclxuICAgICAgICBpZihwLnggPiByaWdodCkgcmlnaHQgPSBwLng7XHJcbiAgICAgICAgaWYocC55ID4gYm90dG9tKSBib3R0b20gPSBwLnk7XHJcbiAgICAgICAgaWYocC55IDwgdG9wKSB0b3AgPSBwLnk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB4OiByaWdodCAtIGxlZnQsXHJcbiAgICAgICAgeTogYm90dG9tIC0gdG9wXHJcbiAgICB9XHJcbn1cclxud2luZG93LmdlbmVyYXRlRGltZW5zaW9ucyA9IGdlbmVyYXRlRGltZW5zaW9ucztcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlVG9wTGVmdENvb3JkaW5hdGVzKG8pe1xyXG4gICAgbGV0IHRvcExlZnRYID0gby5wb3MueCwgdG9wTGVmdFkgPSBvLnBvcy55O1xyXG4gICAgaWYoby5zYXQuciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdG9wTGVmdFggLT0gby5zYXQucjtcclxuICAgICAgICB0b3BMZWZ0WSAtPSBvLnNhdC5yOyBcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IG1pblggPSBJbmZpbml0eTtcclxuICAgICAgICBsZXQgbWluWSA9IEluZmluaXR5O1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBvLnNhdC5wb2ludHMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZihvLnNhdC5wb2ludHNbaV0ueCA8IG1pblgpIG1pblggPSBvLnNhdC5wb2ludHNbaV0ueDtcclxuICAgICAgICAgICAgaWYoby5zYXQucG9pbnRzW2ldLnkgPCBtaW5ZKSBtaW5ZID0gby5zYXQucG9pbnRzW2ldLnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRvcExlZnRYICs9IG1pblg7XHJcbiAgICAgICAgdG9wTGVmdFkgKz0gbWluWTtcclxuICAgIH1cclxuICAgIHJldHVybiBbdG9wTGVmdFgsIHRvcExlZnRZXTtcclxufVxyXG53aW5kb3cuZ2VuZXJhdGVUb3BMZWZ0Q29vcmRpbmF0ZXMgPSBnZW5lcmF0ZVRvcExlZnRDb29yZGluYXRlcztcclxuXHJcbndpbmRvdy5zYXRNYXBJMk4gPSBbXHJcbiAgICAnY2lyY2xlJyxcclxuICAgICdyZWN0YW5nbGUnLFxyXG4gICAgJ3BvbHlnb24nLFxyXG4gICAgJ3RleHQnXHJcbl07XHJcblxyXG53aW5kb3cuc2F0Q29uc3RyYWludHNNYXAgPSBbXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICB7Zm9udFNpemU6IFsxXX1cclxuXTtcclxuXHJcbndpbmRvdy5zYXREZWZhdWx0TWFwID0gW1xyXG4gICAgLy8gY2lyY2xlXHJcbiAgICB7XHJcbiAgICAgICAgeDogNDUwLFxyXG4gICAgICAgIHk6IDgwMCxcclxuICAgICAgICByOiAxMjBcclxuICAgIH0sXHJcbiAgICAvLyByZWN0YW5nbGVcclxuICAgIHtcclxuICAgICAgICB4OiAzMDAsXHJcbiAgICAgICAgeTogNzAwLFxyXG4gICAgICAgIHc6IDMwMCxcclxuICAgICAgICBoOiAyMDBcclxuICAgIH0sXHJcbiAgICAvLyBwb2x5Z29uXHJcbiAgICB7XHJcbiAgICAgICAgcG9pbnRzOiBbWzMwMCw3MDBdLFs2MDAsNzAwXSxbNDUwLDkwMF1dLFxyXG4gICAgfSxcclxuICAgIC8vIHRleHRcclxuICAgIHtcclxuICAgICAgICB4OiA0NTAsXHJcbiAgICAgICAgeTogODAwLFxyXG4gICAgICAgIHRleHQ6IFsnV2h5IGhlbGxvIHRoZXJlJywgJ0kgYW0gYSB0ZXh0IDpEJywgJ0V2YWRlcyBYJywgJ1Rhc3RlIHRoZSBFZGdlLiddW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQpXSxcclxuICAgICAgICBmb250U2l6ZTogODAsXHJcbiAgICB9XHJcbl1cclxuXHJcbmNvbnN0IFRBVSA9IE1hdGguUEkgKiAyO1xyXG5jb25zdCByZW5kZXJTaGFwZU1hcCA9IFtcclxuICAgIC8qY2lyY2xlKi9cclxuICAgIChvKSA9PiB7XHJcbiAgICAgICAgY3R4LmFyYyhvLnBvcy54LCBvLnBvcy55LCBvLnNhdC5yLCAwLCBUQVUpO1xyXG4gICAgfSxcclxuICAgIC8qcmVjdGFuZ2xlKi9cclxuICAgIChvKSA9PiB7XHJcbiAgICAgICAgLy8gby5zYXQuY2FsY1BvaW50c1swXSBpcyBhdCAwLDAgc28gd2UgY2FuIGRyb3AgdGhhdCBmcm9tIHRoZSBmaXJzdCB0d28gYXJnc1xyXG4gICAgICAgIGlmKG8ucm90YXRpb24gIT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgIHJlbmRlclNoYXBlTWFwWzJdKG8pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN0eC5yZWN0KG8ucG9zLngsIG8ucG9zLnksIG8uZGltZW5zaW9ucy54LCBvLmRpbWVuc2lvbnMueSk7XHJcbiAgICB9LFxyXG4gICAgLypwb2x5Z29uKi9cclxuICAgIChvKSA9PiB7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG8uc2F0LnBvaW50cy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8oby5wb3MueCArIG8uc2F0LnBvaW50c1tpXS54LCBvLnBvcy55ICsgby5zYXQucG9pbnRzW2ldLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHgubGluZVRvKG8ucG9zLnggKyBvLnNhdC5wb2ludHNbMF0ueCwgby5wb3MueSArIG8uc2F0LnBvaW50c1swXS55KTtcclxuICAgIH0sXHJcbiAgICAvKnRleHQqL1xyXG4gICAgKG8pID0+IHtcclxuICAgICAgICAvLyBkcmF3IHJlY3RhbmdsZSBmb3IgY2xpcHBpbmcgcHVycG9zZXNcclxuICAgICAgICByZW5kZXJTaGFwZU1hcFsxXShvKTtcclxuICAgIH1cclxuXVxyXG5cclxuY29uc3QgaW5pdFNpbXVsYXRlTWFwID0gW1xyXG4gICAgLypwYXRoTW92ZSovXHJcbiAgICAobywgaW5pdCkgPT4ge1xyXG5cdFx0by5wYXRoID0gaW5pdC5wYXRoOy8vIGxpa2UgW1t4LHksc3BlZWRdLCAuLi5dXHJcblxyXG4gICAgICAgIC8vIGZpbHRlcmluZyBvdXQgY29uc2VjdXRpdmUgZHVwbGljYXRlc1xyXG4gICAgICAgIGZvcihsZXQgaSA9IG8ucGF0aC5sZW5ndGgtMTsgaSA+PSAxOyBpLS0pe1xyXG4gICAgICAgICAgICBpZihvLnBhdGhbaV1bMF0gPT09IG8ucGF0aFtpLTFdWzBdICYmIG8ucGF0aFtpXVsxXSA9PT0gby5wYXRoW2ktMV1bMV0pIG8ucGF0aC5zcGxpY2UoaSwxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKG8ucGF0aC5sZW5ndGggPCAyKSBvLnBhdGggPSB3aW5kb3cuc2ltdWxhdGVEZWZhdWx0TWFwWzBdLnBhdGg7XHJcblxyXG4gICAgICAgIG8uY3VycmVudFBvaW50ID0gTWF0aC5mbG9vcihpbml0LmN1cnJlbnRQb2ludCkgJSBvLnBhdGgubGVuZ3RoO1xyXG5cclxuICAgICAgICBvLnBvaW50T24gPSBvLnBhdGhbby5jdXJyZW50UG9pbnRdO1xyXG4gICAgICAgIG8uc3BlZWQgPSBvLnBvaW50T25bMl07XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IG5leHRQb2ludEluZGV4ID0gby5jdXJyZW50UG9pbnQgKyAxO1xyXG4gICAgICAgIGlmIChuZXh0UG9pbnRJbmRleCA9PT0gby5wYXRoLmxlbmd0aCkgbmV4dFBvaW50SW5kZXggPSAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG8ucG9pbnRUbyA9IG8ucGF0aFtuZXh0UG9pbnRJbmRleF07XHJcbiAgICAgICAgYW5nbGUgPSBNYXRoLmF0YW4yKG8ucG9pbnRUb1sxXSAtIG8ucG9pbnRPblsxXSwgby5wb2ludFRvWzBdIC0gby5wb2ludE9uWzBdKTtcclxuICAgICAgICBvLnh2ID0gTWF0aC5jb3MoYW5nbGUpICogby5zcGVlZDtcclxuICAgICAgICBvLnl2ID0gTWF0aC5zaW4oYW5nbGUpICogby5zcGVlZDtcclxuXHJcbiAgICAgICAgby50aW1lUmVtYWluID0gTWF0aC5zcXJ0KChvLnBvaW50T25bMF0gLSBvLnBvaW50VG9bMF0pKioyICsgKG8ucG9pbnRPblsxXSAtIG8ucG9pbnRUb1sxXSkqKjIpIC8gby5zcGVlZDtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBmcmFjdGlvbmFsUG9pbnRPZmZzZXQgPSBpbml0LmN1cnJlbnRQb2ludCAtIE1hdGguZmxvb3IoaW5pdC5jdXJyZW50UG9pbnQpO1xyXG4gICAgICAgIGlmKGZyYWN0aW9uYWxQb2ludE9mZnNldCAhPT0gMCl7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1RpbWVSZW1haW4gPSBvLnRpbWVSZW1haW4gKiAoMSAtIGZyYWN0aW9uYWxQb2ludE9mZnNldCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gby50aW1lUmVtYWluIC0gbmV3VGltZVJlbWFpbjtcclxuICAgICAgICAgICAgby5wb3MueCArPSBkZWx0YSAqIG8ueHY7XHJcbiAgICAgICAgICAgIG8ucG9zLnkgKz0gZGVsdGEgKiBvLnl2O1xyXG4gICAgICAgICAgICBvLnRpbWVSZW1haW4gPSBuZXdUaW1lUmVtYWluO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgby5wb3MueCArPSBvLnBvaW50T25bMF0gLSBvLnBhdGhbMF1bMF07XHJcbiAgICAgICAgby5wb3MueSArPSBvLnBvaW50T25bMV0gLSBvLnBhdGhbMF1bMV07XHJcbiAgICB9LFxyXG4gICAgLy8gLypyb3RhdGUqL1xyXG4gICAgKG8sIGluaXQpID0+IHtcclxuICAgICAgICBvLnBpdm90WCA9IGluaXQucGl2b3RYO1xyXG4gICAgICAgIG8ucGl2b3RZID0gaW5pdC5waXZvdFk7XHJcbiAgICAgICAgby5yb3RhdGlvbiA9IDA7XHJcbiAgICAgICAgaWYoaW5pdC5pbml0aWFsUm90YXRpb24gIT09IDAgJiYgaW5pdC5pbml0aWFsUm90YXRpb24gIT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgIGxldCBsYXN0RHQgPSB3aW5kb3cuZHQ7XHJcbiAgICAgICAgICAgIHdpbmRvdy5kdCA9IDEwMDAgLyA2MDtcclxuICAgICAgICAgICAgby5yb3RhdGVTcGVlZCA9IGluaXQuaW5pdGlhbFJvdGF0aW9uICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgICAgc2ltdWxhdGVNYXBbMV0obyk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5kdCA9IGxhc3REdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgby5yb3RhdGVTcGVlZCA9IGluaXQucm90YXRlU3BlZWQ7XHJcbiAgICB9LFxyXG4gICAgLy8gLypncm93Ki9cclxuICAgIChvLCBpbml0KSA9PiB7XHJcbiAgICAgICAgby5ncm93U3BlZWQgPSBpbml0Lmdyb3dTcGVlZDtcclxuICAgICAgICBvLnNocmlua1NwZWVkID0gaW5pdC5zaHJpbmtTcGVlZDtcclxuICAgICAgICBvLm1heEdyb3d0aCA9IGluaXQubWF4R3Jvd3RoO1xyXG4gICAgICAgIG8ubWluR3Jvd3RoID0gaW5pdC5taW5Hcm93dGg7XHJcbiAgICAgICAgby5ncm93aW5nID0gaW5pdC50b1N0YXJ0R3Jvd2luZztcclxuICAgICAgICBvLmdyb3d0aCA9IG8ubGFzdEdyb3d0aCA9IGluaXQuc3RhcnRHcm93dGg7XHJcbiAgICB9LFxyXG4gICAgLy8gLypjdXN0b20qL1xyXG4gICAgKCkgPT4ge30sXHJcbiAgICAvLyAvKmlkKi9cclxuICAgIChvLCBpbml0KSA9PiB7XHJcbiAgICAgICAgbGV0IGlkID0gaW5pdC5pZC50b1N0cmluZygpLnRyaW0oKTtcclxuICAgICAgICBpZih3aW5kb3cuaWRUb09ic1tpZF0gIT09IHVuZGVmaW5lZCAmJiBlbnZpcm9ubWVudCA9PT0gJ2VkaXRvcicpIGFsZXJ0KGBXYXJuaW5nISBEdXBsaWNhdGUgaWQgXCIke2lkfVwiIGZvdW5kISBEdXBsaWNhdGUgaWRzIG92ZXJyaWRlIGVhY2ggb3RoZXIuYCk7XHJcbiAgICAgICAgd2luZG93LmlkVG9PYnNbaWRdID0gbztcclxuICAgIH1cclxuXVxyXG5cclxuY29uc3Qgc2ltdWxhdGVNYXAgPSBbXHJcbiAgICAvKnBhdGhNb3ZlKi9cclxuICAgIChvKSA9PiB7XHJcbiAgICAgICAgby5wb3MueCArPSBvLnh2ICogZHQ7XHJcbiAgICAgICAgby5wb3MueSArPSBvLnl2ICogZHQ7XHJcblxyXG4gICAgICAgIG8udGltZVJlbWFpbiAtPSBkdDtcclxuICAgICAgICBpZiAoby50aW1lUmVtYWluIDw9IDApIHtcclxuICAgICAgICAgICAgby5jdXJyZW50UG9pbnQrKztcclxuICAgICAgICAgICAgaWYgKG8uY3VycmVudFBvaW50ID09PSBvLnBhdGgubGVuZ3RoKSBvLmN1cnJlbnRQb2ludCA9IDA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBvLnBvaW50T24gPSBvLnBhdGhbby5jdXJyZW50UG9pbnRdO1xyXG4gICAgICAgICAgICBvLnNwZWVkID0gby5wb2ludE9uWzJdO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIHNuYXBwaW5nIGJhY2sgdG8gdGhlIHBvaW50IHRoYXQgd2Ugc2hvdWxkIGJlIG9uXHJcbiAgICAgICAgICAgIG8ucG9zLnggKz0gby54diAqIG8udGltZVJlbWFpbjtcclxuICAgICAgICAgICAgby5wb3MueSArPSBvLnl2ICogby50aW1lUmVtYWluO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGxldCBuZXh0UG9pbnRJbmRleCA9IG8uY3VycmVudFBvaW50ICsgMTtcclxuICAgICAgICAgICAgaWYgKG5leHRQb2ludEluZGV4ID09PSBvLnBhdGgubGVuZ3RoKSBuZXh0UG9pbnRJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBvLnBvaW50VG8gPSBvLnBhdGhbbmV4dFBvaW50SW5kZXhdO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGFuZ2xlID0gTWF0aC5hdGFuMihvLnBvaW50VG9bMV0gLSBvLnBvaW50T25bMV0sIG8ucG9pbnRUb1swXSAtIG8ucG9pbnRPblswXSk7XHJcbiAgICAgICAgICAgIG8ueHYgPSBNYXRoLmNvcyhhbmdsZSkgKiBvLnNwZWVkO1xyXG4gICAgICAgICAgICBvLnl2ID0gTWF0aC5zaW4oYW5nbGUpICogby5zcGVlZDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBkaXN0ID0gTWF0aC5zcXJ0KChvLnBvaW50T25bMF0tby54dipvLnRpbWVSZW1haW4gLSBvLnBvaW50VG9bMF0pKioyICsgKG8ucG9pbnRPblsxXS1vLnl2Km8udGltZVJlbWFpbiAtIG8ucG9pbnRUb1sxXSkqKjIpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYoKG8ueHYgKiogMiArIG8ueXYgKiogMikgKiAoby50aW1lUmVtYWluICoqIDIpID4gZGlzdCl7XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSd2ZSBvdmVyc2hvdCB0aGUgbmV4dCBwb2ludCwganVzdCBzdGF5IG9uIHRoZSBpbml0YWwgcG9pbnQgKG5vIHN5bmMpXHJcbiAgICAgICAgICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KChvLnBvaW50T25bMF0gLSBvLnBvaW50VG9bMF0pKioyICsgKG8ucG9pbnRPblsxXSAtIG8ucG9pbnRUb1sxXSkqKjIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gY29ycmVjdCB0byBuZXh0IHB0IChzeW5jKVxyXG4gICAgICAgICAgICAgICAgby5wb3MueCAtPSBvLnh2ICogby50aW1lUmVtYWluO1xyXG4gICAgICAgICAgICAgICAgby5wb3MueSAtPSBvLnl2ICogby50aW1lUmVtYWluO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB0aW1lID0gZGlzdGFuY2UgLyBzcGVlZFxyXG4gICAgICAgICAgICBvLnRpbWVSZW1haW4gPSBkaXN0IC8gby5zcGVlZDtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLypyb3RhdGUqL1xyXG4gICAgKG8pID0+IHtcclxuICAgICAgICBpZihvLnNhdC5yICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBvLnBvcy54IC09IG8ucGl2b3RYO1xyXG4gICAgICAgICAgICBvLnBvcy55IC09IG8ucGl2b3RZO1xyXG4gICAgICAgICAgICBvLnNhdC5yb3RhdGUoby5yb3RhdGVTcGVlZCAqIGR0KTtcclxuICAgICAgICAgICAgby5wb3MueCArPSBvLnBpdm90WDtcclxuICAgICAgICAgICAgby5wb3MueSArPSBvLnBpdm90WTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvLnNhdC50cmFuc2xhdGUoby5wb3MueC1vLnBpdm90WCwgby5wb3MueS1vLnBpdm90WSk7XHJcbiAgICAgICAgICAgIG8uc2F0LnJvdGF0ZShvLnJvdGF0ZVNwZWVkICogZHQpO1xyXG4gICAgICAgICAgICBvLnNhdC50cmFuc2xhdGUoby5waXZvdFgtby5wb3MueCwgby5waXZvdFktby5wb3MueSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIG8ucm90YXRpb24gKz0gby5yb3RhdGVTcGVlZCAqIGR0O1xyXG4gICAgICAgIG8uZGltZW5zaW9ucyA9IGdlbmVyYXRlRGltZW5zaW9ucyhvKTtcclxuICAgIH0sXHJcbiAgICAvKmdyb3cqL1xyXG4gICAgKG8pID0+IHtcclxuICAgICAgICBpZihvLmdyb3dpbmcgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgby5ncm93dGggKz0gby5ncm93U3BlZWQgKiBkdDtcclxuICAgICAgICAgICAgaWYoby5ncm93dGggPj0gby5tYXhHcm93dGgpe1xyXG4gICAgICAgICAgICAgICAgby5ncm93aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBvLmdyb3d0aCA9IG8ubWF4R3Jvd3RoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBvLmdyb3d0aCAtPSBvLnNocmlua1NwZWVkICogZHQ7XHJcbiAgICAgICAgICAgIGlmKG8uZ3Jvd3RoIDw9IG8ubWluR3Jvd3RoKXtcclxuICAgICAgICAgICAgICAgIG8uZ3Jvd2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBvLmdyb3d0aCA9IG8ubWluR3Jvd3RoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBncm93dGhSYXRpbyA9IG8uZ3Jvd3RoIC8gby5sYXN0R3Jvd3RoO1xyXG5cclxuICAgICAgICBpZihvLnNhdC5yICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAvLyBjaXJjbGVcclxuICAgICAgICAgICAgby5zYXQuciAqPSBncm93dGhSYXRpbztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBwb2x5XHJcbiAgICAgICAgICAgIGxldCBbbWlkZGxlWCwgbWlkZGxlWV0gPSBnZW5lcmF0ZVRvcExlZnRDb29yZGluYXRlcyhvKTtcclxuICAgICAgICAgICAgbWlkZGxlWCArPSBvLmRpbWVuc2lvbnMueCAvIDI7XHJcbiAgICAgICAgICAgIG1pZGRsZVkgKz0gby5kaW1lbnNpb25zLnkgLyAyO1xyXG5cclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG8uc2F0LnBvaW50cy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBvLnNhdC5wb2ludHNbaV0ueCA9IChvLnNhdC5wb2ludHNbaV0ueCArIG8ucG9zLnggLSBtaWRkbGVYKSAqIGdyb3d0aFJhdGlvIC0gby5wb3MueCArIG1pZGRsZVg7XHJcbiAgICAgICAgICAgICAgICBvLnNhdC5wb2ludHNbaV0ueSA9IChvLnNhdC5wb2ludHNbaV0ueSArIG8ucG9zLnkgLSBtaWRkbGVZKSAqIGdyb3d0aFJhdGlvIC0gby5wb3MueSArIG1pZGRsZVk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgby5zYXQuc2V0UG9pbnRzKG8uc2F0LnBvaW50cyk7XHJcblxyXG4gICAgICAgICAgICBpZihvLmlzVGV4dCA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgICAgICBvLmZvbnRTaXplICo9IGdyb3d0aFJhdGlvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvLmRpbWVuc2lvbnMgPSBnZW5lcmF0ZURpbWVuc2lvbnMobyk7XHJcbiAgICAgICAgby5sYXN0R3Jvd3RoID0gby5ncm93dGg7XHJcbiAgICB9LFxyXG4gICAgLypjdXN0b20qL1xyXG4gICAgKCkgPT4ge30sXHJcbiAgICAvKmlkKi9cclxuICAgICgpID0+IHt9XHJcbl1cclxuXHJcbndpbmRvdy5zaW11bGF0ZU1hcEkyTiA9IFtcclxuICAgICdwYXRoTW92ZScsXHJcbiAgICAncm90YXRlJyxcclxuICAgICdncm93JyxcclxuICAgICdjdXN0b20nLFxyXG4gICAgJ2lkJ1xyXG5dXHJcblxyXG53aW5kb3cuc2ltdWxhdGVEZWZhdWx0TWFwID0gW1xyXG4gICAgLy8gcGF0aE1vdmVcclxuICAgIHtcclxuICAgICAgICBjdXJyZW50UG9pbnQ6IDAsXHJcbiAgICAgICAgcGF0aDogW1swLDAsMV0sWzEwMCwwLDJdLFswLDEwMCwzXV0sXHJcbiAgICB9LFxyXG4gICAgLy8gcm90YXRlXHJcbiAgICB7XHJcbiAgICAgICAgaW5pdGlhbFJvdGF0aW9uOiAwLFxyXG4gICAgICAgIHJvdGF0ZVNwZWVkOiAwLjAxLFxyXG4gICAgICAgIHBpdm90WDogNDUwLFxyXG4gICAgICAgIHBpdm90WTogODAwXHJcbiAgICB9LFxyXG4gICAgLy8gZ3Jvd1xyXG4gICAge1xyXG4gICAgICAgIGdyb3dTcGVlZDogMC4wMDYsXHJcbiAgICAgICAgc2hyaW5rU3BlZWQ6IDAuMDA2LFxyXG4gICAgICAgIG1heEdyb3d0aDogMS4yNSxcclxuICAgICAgICBtaW5Hcm93dGg6IDEsXHJcbiAgICAgICAgc3RhcnRHcm93dGg6IDEsXHJcbiAgICAgICAgdG9TdGFydEdyb3dpbmc6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgLy8gY3VzdG9tXHJcbiAgICB7fSxcclxuICAgIC8vIGlkXHJcbiAgICB7XHJcbiAgICAgICAgaWQ6ICd1bmlxdWVJZCdcclxuICAgIH1cclxuXVxyXG5cclxud2luZG93LnNpbXVsYXRlQ29uc3RyYWludHNNYXAgPSBbXHJcbiAgICB7Y3VycmVudFBvaW50OiBbMF19LFxyXG4gICAgdW5kZWZpbmVkLFxyXG4gICAge2dyb3dTcGVlZDogWzBdLCBzaHJpbmtTcGVlZDogWzBdLCBtaW5Hcm93dGg6IFswLjAwMV0sIG1heEdyb3d0aDogWzAuMDAxXX0sXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICB1bmRlZmluZWQsXHJcbl07XHJcblxyXG5jb25zdCBpbml0RWZmZWN0TWFwID0gW1xyXG4gICAgLypib3VuZCovXHJcbiAgICAoKSA9PiB7fSxcclxuICAgIC8qa2lsbCovXHJcbiAgICAobywgcGFyYW1zKSA9PiB7XHJcbiAgICAgICAgby5jb2xsaWRhYmxlID0gcGFyYW1zLmNvbGxpZGFibGUgPz8gdHJ1ZTtcclxuICAgIH0sXHJcbiAgICAvKmJvdW5jZSovXHJcbiAgICAobywgcGFyYW1zKSA9PiB7XHJcbiAgICAgICAgLy8gYm91bmNpbmVzcywgZGVjYXlcclxuICAgICAgICBvLmJvdW5jaW5lc3MgPSBwYXJhbXMuYm91bmNpbmVzcztcclxuICAgICAgICBvLmRlY2F5ID0gcGFyYW1zLmRlY2F5O1xyXG4gICAgfSxcclxuICAgIC8qY3VzdG9tKi9cclxuICAgICgpID0+IHt9LFxyXG4gICAgLypjdXN0b21JbWFnZSovXHJcbiAgICAobywgcGFyYW1zKSA9PiB7XHJcbiAgICAgICAgby5pbWcgPSB0eXBlb2YgSW1hZ2UgPT09ICd1bmRlZmluZWQnID8ge30gOiBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBvLmltZy5zcmMgPSBwYXJhbXMudXJsO1xyXG4gICAgICAgIG8uaW1nTG9hZGVkID0gZmFsc2U7XHJcbiAgICAgICAgby5pbWcub25sb2FkID0gKCkgPT4ge28uaW1nTG9hZGVkID0gdHJ1ZTt9XHJcbiAgICB9LFxyXG4gICAgLypzdG9wRm9yY2VzKi9cclxuICAgICgpID0+IHt9LFxyXG4gICAgLyp3aW5wYWQqL1xyXG4gICAgKG8sIHBhcmFtcykgPT4ge1xyXG4gICAgICAgIG8uaXNXaW5wYWQgPSB0cnVlO1xyXG4gICAgfSxcclxuICAgIC8qY29pbiovXHJcbiAgICAobywgcGFyYW1zKSA9PiB7XHJcbiAgICAgICAgby5jb2xsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICBvLmNvaW5BbW91bnQgPSBwYXJhbXMuY29pbkFtb3VudDtcclxuICAgICAgICBvLmNvbG9yID0gcGFyYW1zLmNvbG9yO1xyXG4gICAgfSxcclxuICAgIC8qY29pbmRvb3IqL1xyXG4gICAgKG8sIHBhcmFtcykgPT4ge1xyXG4gICAgICAgIG8uaXNDb2luZG9vciA9IHRydWU7XHJcbiAgICAgICAgby5tYXhDb2lucyA9IG8uY29pbnMgPSBwYXJhbXMuY29pbmRvb3JDb2luQW1vdW50O1xyXG4gICAgICAgIG8uY29pbkRvb3JDb2xvciA9IHBhcmFtcy5jb2luRG9vckNvbG9yO1xyXG4gICAgfSxcclxuICAgIC8qY2hlY2twb2ludCovXHJcbiAgICAobywgcGFyYW1zKSA9PiB7XHJcbiAgICAgICAgby5jb2xsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICBvLmNoZWNrcG9pbnRPZmZzZXRYID0gcGFyYW1zLmNoZWNrcG9pbnRPZmZzZXRYO1xyXG4gICAgICAgIG8uY2hlY2twb2ludE9mZnNldFkgPSBwYXJhbXMuY2hlY2twb2ludE9mZnNldFk7XHJcbiAgICB9LFxyXG4gICAgLypicmVha2FibGUqL1xyXG4gICAgKG8sIHBhcmFtcykgPT4ge1xyXG4gICAgICAgIG8ubWF4U3RyZW5ndGggPSBwYXJhbXMubWF4U3RyZW5ndGg7Ly82MFxyXG4gICAgICAgIG8uc3RyZW5ndGggPSBvLm1heFN0cmVuZ3RoO1xyXG4gICAgICAgIG8ucmVnZW5UaW1lID0gcGFyYW1zLnJlZ2VuVGltZTtcclxuICAgICAgICBvLmxhc3RCcm9rZVRpbWUgPSAtMUU5OTtcclxuICAgICAgICBvLmhlYWxTcGVlZCA9IHBhcmFtcy5oZWFsU3BlZWQ7XHJcbiAgICB9LFxyXG4gICAgLypzYWZlKi9cclxuICAgICgpID0+IHt9LFxyXG4gICAgLyp0cCovXHJcbiAgICAobywgcGFyYW1zKSA9PiB7XHJcbiAgICAgICAgby50cHggPSBwYXJhbXMudHB4O1xyXG4gICAgICAgIG8udHB5ID0gcGFyYW1zLnRweTtcclxuICAgIH0sXHJcbiAgICAvKmNvbnZleW9yKi9cclxuICAgIChvLCBwYXJhbXMpID0+IHtcclxuICAgICAgICBvLmNvbnZleW9yRm9yY2UgPSBwYXJhbXMuY29udmV5b3JGb3JjZTtcclxuICAgICAgICBvLmNvbnZleW9yQW5nbGUgPSBwYXJhbXMuY29udmV5b3JBbmdsZSAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgby5jb252ZXlvckFuZ2xlUm90YXRlU3BlZWQgPSBwYXJhbXMuY29udmV5b3JBbmdsZVJvdGF0ZVNwZWVkICogTWF0aC5QSS8xODA7XHJcbiAgICAgICAgby5jb252ZXlvckZyaWN0aW9uID0gcGFyYW1zLmNvbnZleW9yRnJpY3Rpb247XHJcbiAgICB9LFxyXG4gICAgLypwbGF0Zm9ybWVyKi9cclxuICAgIChvLCBwYXJhbXMpID0+IHtcclxuICAgICAgICBvLnBsYXRmb3JtZXJGb3JjZSA9IHBhcmFtcy5wbGF0Zm9ybWVyRm9yY2U7XHJcbiAgICAgICAgby5wbGF0Zm9ybWVyQW5nbGUgPSBwYXJhbXMucGxhdGZvcm1lckFuZ2xlICogTWF0aC5QSS8xODA7XHJcbiAgICAgICAgby5wbGF0Zm9ybWVyQW5nbGVSb3RhdGVTcGVlZCA9IHBhcmFtcy5wbGF0Zm9ybWVyQW5nbGVSb3RhdGVTcGVlZCAqIE1hdGguUEkvMTgwO1xyXG4gICAgICAgIG8ucGxhdGZvcm1lckZyaWN0aW9uID0gcGFyYW1zLnBsYXRmb3JtZXJGcmljdGlvbjtcclxuXHJcbiAgICAgICAgLy8gby5tYXhKdW1wcyA9IHBhcmFtcy5tYXhKdW1wcy8vIFRPRE86IElNUExFTUVOVCBKVU1QUy4gYWxzbyBUT0RPOiBhZGQgYSBwcmVzZXJ2ZSBqdW1wIHBhcmFtZXRlciB0aGF0IG1ha2VzIGp1bXBzIGNvbnNlcnZlIGV2ZW4gaWYgeW91IGFyZSBub3QgYm91bmRlZCB0aGF0IGZyYW1lLiBJZiBkaXNhYmxlZCwgcGxhdGZvcm1lciBvbmx5IGxldHMgeW91IGp1bXAgd2hlbiB5b3UncmUgb24gYSBwbGF0IFRIQVQgRlJBTUVcclxuICAgICAgICBvLm1heEp1bXBDb29sZG93biA9IHBhcmFtcy5tYXhKdW1wQ29vbGRvd247Ly8gaW4gdGlja3NcclxuICAgICAgICBvLmp1bXBDb29sZG93biA9IDA7XHJcbiAgICAgICAgby5qdW1wRm9yY2UgPSBwYXJhbXMuanVtcEZvcmNlO1xyXG4gICAgICAgIG8uanVtcEZyaWN0aW9uID0gcGFyYW1zLmp1bXBEZWNheTtcclxuXHJcbiAgICAgICAgby50b3VjaGluZ1BsYXRmb3JtZXIgPSBmYWxzZTtcclxuICAgIH0sXHJcbiAgICAvKnJlc3RyaWN0QXhpcyovXHJcbiAgICAobywgcGFyYW1zKSA9PiB7XHJcbiAgICAgICAgby5heGlzU3BlZWRNdWx0WCA9IHBhcmFtcy5heGlzU3BlZWRNdWx0WDtcclxuICAgICAgICBvLmF4aXNTcGVlZE11bHRZID0gcGFyYW1zLmF4aXNTcGVlZE11bHRZO1xyXG4gICAgfSxcclxuICAgIC8qc25hcEdyaWQqL1xyXG4gICAgKG8sIHBhcmFtcykgPT4ge1xyXG4gICAgICAgIG8udG9TbmFwWCA9IHBhcmFtcy50b1NuYXBYO1xyXG4gICAgICAgIG8udG9TbmFwWSA9IHBhcmFtcy50b1NuYXBZO1xyXG4gICAgICAgIG8uc25hcERpc3RhbmNlWCA9IHBhcmFtcy5zbmFwRGlzdGFuY2VYO1xyXG4gICAgICAgIG8uc25hcERpc3RhbmNlWSA9IHBhcmFtcy5zbmFwRGlzdGFuY2VZO1xyXG4gICAgICAgIG8uc25hcENvb2xkb3duID0gby5tYXhTbmFwQ29vbGRvd24gPSBwYXJhbXMuc25hcENvb2xkb3duO1xyXG4gICAgICAgIG8uc25hcEFuZ2xlID0gcGFyYW1zLnNuYXBBbmdsZSAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgby5zbmFwQW5nbGVSb3RhdGVTcGVlZCA9IHBhcmFtcy5zbmFwQW5nbGVSb3RhdGVTcGVlZCAqIE1hdGguUEkvMTgwO1xyXG5cclxuICAgICAgICBvLmludGVycG9sYXRlUGxheWVyRGF0YSA9IHt9O1xyXG4gICAgICAgIC8vIG8uc25hcERpc3RhbmNlWCA9IE1hdGgubWF4KDM1LCBvLnNuYXBEaXN0YW5jZVgpO1xyXG4gICAgICAgIC8vIG8uc25hcERpc3RhbmNlWSA9IE1hdGgubWF4KDM1LCBvLnNuYXBEaXN0YW5jZVkpO1xyXG5cclxuICAgICAgICBvLnNuYXBUb1Nob3dWZWxvY2l0eSA9IE1hdGgubWluKG8uc25hcERpc3RhbmNlWCwgby5zbmFwRGlzdGFuY2VZKSA+IDQwO1xyXG4gICAgICAgIG8uc25hcE1hZ25pdHVkZSA9IE1hdGguc3FydChvLnNuYXBEaXN0YW5jZVggKiogMiArIG8uc25hcERpc3RhbmNlWSAqKiAyKTsgLy8oby5zbmFwRGlzdGFuY2VYICsgby5zbmFwRGlzdGFuY2VZKS8yXHJcbiAgICB9LFxyXG4gICAgLyp0aW1lVHJhcCovXHJcbiAgICAobywgcGFyYW1zKSA9PiB7XHJcbiAgICAgICAgby50aW1lVHJhcFRpbWUgPSBvLnRpbWVUcmFwTWF4VGltZSA9IHBhcmFtcy50aW1lVHJhcE1heFRpbWU7XHJcbiAgICAgICAgby50aW1lVHJhcFJlY292ZXJ5U3BlZWQgPSBwYXJhbXMudGltZVRyYXBSZWNvdmVyeVNwZWVkO1xyXG4gICAgICAgIG8udGltZVRyYXBUb0tpbGwgPSBwYXJhbXMudGltZVRyYXBUb0tpbGw7XHJcbiAgICAgICAgby50aW1lVHJhcFRvU2hvd1RlbnRoID0gcGFyYW1zLnRpbWVUcmFwVG9TaG93VGVudGg7XHJcbiAgICAgICAgby50aW1lVHJhcEludGVyc2VjdGluZyA9IGZhbHNlO1xyXG4gICAgfSxcclxuICAgIC8qY2hhbmdlU2l6ZSovXHJcbiAgICAobywgcGFyYW1zKSA9PiB7XHJcbiAgICAgICAgby5zaXplTXVsdCA9IHBhcmFtcy5zaXplTXVsdDtcclxuICAgICAgICBvLnNpemVDaGFuZ2VQZXJtYW5lbnQgPSBwYXJhbXMuc2l6ZUNoYW5nZVBlcm1hbmVudDtcclxuICAgICAgICBvLmxhc3RDaGFuZ2VTaXplQ29sbGlkaW5nID0gby5jaGFuZ2VTaXplQ29sbGlkaW5nID0gZmFsc2U7XHJcbiAgICB9LFxyXG4gICAgLypjaGFuZ2VTcGVlZCovXHJcbiAgICAobywgcGFyYW1zKSA9PiB7XHJcbiAgICAgICAgby5zcGVlZE11bHQgPSBwYXJhbXMuc3BlZWRNdWx0O1xyXG4gICAgICAgIG8uc3BlZWRDaGFuZ2VQZXJtYW5lbnQgPSBwYXJhbXMuc3BlZWRDaGFuZ2VQZXJtYW5lbnQ7XHJcbiAgICB9LFxyXG4gICAgLypzb2xpZENvbG9yKi9cclxuICAgIChvLCBwYXJhbXMpID0+IHtcclxuICAgICAgICBvLmhleCA9IHBhcmFtcy5oZXg7XHJcbiAgICB9LFxyXG4gICAgLypkZWNvcmF0aW9uKi9cclxuICAgIChvLCBwYXJhbXMpID0+IHtcclxuICAgICAgICBvLmRlY29GaWxlUGF0aCA9IHBhcmFtcy5kZWNvRmlsZVBhdGg7XHJcbiAgICB9LFxyXG4gICAgLypjaGFuZ2VNYXAqL1xyXG4gICAgKG8sIHBhcmFtcykgPT4ge1xyXG4gICAgICAgIG8ubWFwTmFtZSA9IHBhcmFtcy5tYXBOYW1lO1xyXG4gICAgICAgIC8vIGRpZmZpY3VsdHk/XHJcbiAgICB9LFxyXG4gICAgLyp0b3JuYWRvKi9cclxuICAgIChvLCBwYXJhbXMpID0+IHtcclxuICAgICAgICBvLnRvcm5hZG9TdHJlbmd0aCA9IHBhcmFtcy50b3JuYWRvU3RyZW5ndGg7XHJcbiAgICB9LFxyXG5dXHJcblxyXG5jb25zdCBlZmZlY3RNYXAgPSBbXHJcbiAgICAvKmJvdW5kKi9cclxuICAgIChwLCByZXMsIG8sIGlkKSA9PiB7XHJcbiAgICAgICAgcC5wb3MueCArPSByZXMub3ZlcmxhcFYueDtcclxuICAgICAgICBwLnBvcy55ICs9IHJlcy5vdmVybGFwVi55O1xyXG4gICAgICAgIHAudG91Y2hpbmdOb3JtYWxJbmRleGVzLnB1c2goaWQpO1xyXG4gICAgfSxcclxuICAgIC8qa2lsbCovXHJcbiAgICAocCwgcmVzLCBvKSA9PiB7XHJcbiAgICAgICAgaWYocmVzLm92ZXJsYXAgPiAxKSBwLmRlYWQgPSB0cnVlO1xyXG4gICAgICAgIGlmKG8uY29sbGlkYWJsZSA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgIHAucG9zLnggKz0gcmVzLm92ZXJsYXBWLng7XHJcbiAgICAgICAgICAgIHAucG9zLnkgKz0gcmVzLm92ZXJsYXBWLnk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8qYm91bmNlKi9cclxuICAgIChwLCByZXMsIG8pID0+IHtcclxuICAgICAgICBwLnBvcy54ICs9IHJlcy5vdmVybGFwVi54O1xyXG4gICAgICAgIHAucG9zLnkgKz0gcmVzLm92ZXJsYXBWLnk7XHJcblxyXG4gICAgICAgIGFuZ2xlID0gTWF0aC5hdGFuMihyZXMub3ZlcmxhcFYueSwgcmVzLm92ZXJsYXBWLngpO1xyXG5cclxuICAgICAgICBwLmZvcmNlcy5wdXNoKFtNYXRoLmNvcyhhbmdsZSkgKiBvLmJvdW5jaW5lc3MsIE1hdGguc2luKGFuZ2xlKSAqIG8uYm91bmNpbmVzcywgby5kZWNheV0pO1xyXG4gICAgfSxcclxuICAgIC8qY3VzdG9tKi9cclxuICAgICgpID0+IHt9LFxyXG4gICAgLypjdXN0b21JbWFnZSovXHJcbiAgICAoKSA9PiB7fSxcclxuICAgIC8qc3RvcEZvcmNlcyovXHJcbiAgICAocCkgPT4ge1xyXG4gICAgICAgIHAuc3RvcEZvcmNlcyA9IHRydWU7XHJcbiAgICB9LFxyXG4gICAgLyp3aW5wYWQqL1xyXG4gICAgKHAsIHJlcywgbykgPT4ge1xyXG4gICAgICAgIGlmKGVudmlyb25tZW50ID09PSAnZWRpdG9yJyB8fCB3aW5kb3cuc3RhbmRhbG9uZSA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgIC8vIHJlc3Bhd25cclxuICAgICAgICAgICAgd2luZG93LnJlc3Bhd25QbGF5ZXIoKTtcclxuICAgICAgICAgICAgaWYod2luZG93LmluQ2xlYXJDaGVja01vZGUgPT09IHRydWUpe1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmV4aXRDbGVhckNoZWNrTW9kZSgpO1xyXG4gICAgICAgICAgICAgICAgdXBsb2FkQ29kZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmKHdpbmRvdy53b24gIT09IHRydWUpe1xyXG4gICAgICAgICAgICB3aW5kb3cud29uID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYod2luZG93LmlzRXhDbGllbnQgPT09IHRydWUpe1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYnVmID0gbmV3IFVpbnQ4QXJyYXkoMSk7XHJcbiAgICAgICAgICAgICAgICBidWZbMF0gPSAxOyAvLyB0eXBlIDEgLSB3b24gbWFwXHJcbiAgICAgICAgICAgICAgICBzZW5kKGJ1Zik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGxcclxuICAgICAgICAgICAgICAgIHRvU2Nyb2xsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih3aW5kb3cudHV0b3JpYWwgPT09IHRydWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5iZWF0Q3VycmVudFR1dG9yaWFsTWFwKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLypjb2luKi9cclxuICAgIChwLCByZXMsIG8pID0+IHtcclxuICAgICAgICBpZihvLmNvbGxlY3RlZCA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgby5jb2xsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBvYnN0YWNsZXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZihvYnN0YWNsZXNbaV0uaXNDb2luZG9vciA9PT0gdHJ1ZSAmJiBvYnN0YWNsZXNbaV0uY29pbkRvb3JDb2xvciA9PT0gby5jb2xvcil7XHJcbiAgICAgICAgICAgICAgICBvYnN0YWNsZXNbaV0uY29pbnMgLT0gby5jb2luQW1vdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8qY29pbmRvb3IqL1xyXG4gICAgKHAsIHJlcywgbykgPT4ge1xyXG4gICAgICAgIGlmKG8uY29pbnMgPiAwKXtcclxuICAgICAgICAgICAgcC5wb3MueCArPSByZXMub3ZlcmxhcFYueDtcclxuICAgICAgICAgICAgcC5wb3MueSArPSByZXMub3ZlcmxhcFYueTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLypjaGVja3BvaW50Ki9cclxuICAgIChwLCByZXMsIG8pID0+IHtcclxuICAgICAgICBpZihvLmNvbGxlY3RlZCA9PT0gdHJ1ZSkgcmV0dXJuO1xyXG4gICAgICAgIG8uY29sbGVjdGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgbGV0IFt0b3BMZWZ0WCwgdG9wTGVmdFldID0gZ2VuZXJhdGVUb3BMZWZ0Q29vcmRpbmF0ZXMobyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgd2luZG93LnNwYXduUG9zaXRpb24ueCA9IHRvcExlZnRYICsgby5kaW1lbnNpb25zLnggLyAyO1xyXG4gICAgICAgIHdpbmRvdy5zcGF3blBvc2l0aW9uLnkgPSB0b3BMZWZ0WSArIG8uZGltZW5zaW9ucy55IC8gMjtcclxuICAgIH0sXHJcbiAgICAvKmJyZWFrYWJsZSovXHJcbiAgICAocCwgcmVzLCBvKSA9PiB7XHJcbiAgICAgICAgaWYoby5zdHJlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICBwLnBvcy54ICs9IHJlcy5vdmVybGFwVi54O1xyXG4gICAgICAgICAgICBwLnBvcy55ICs9IHJlcy5vdmVybGFwVi55O1xyXG4gICAgICAgICAgICBvLnN0cmVuZ3RoIC09IGR0O1xyXG4gICAgICAgICAgICBpZihvLnN0cmVuZ3RoIDwgMCkgby5zdHJlbmd0aCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBicmVha2FibGUgb2JzIHNob3VsZG4ndCByZWdlbmVyYXRlIG9uIHRvcCBvZiB5b3VcclxuICAgICAgICBvLmxhc3RCcm9rZVRpbWUgPSB3aW5kb3cubm93O1xyXG4gICAgfSxcclxuICAgIC8qc2FmZSovXHJcbiAgICAocCwgcmVzLCBvKSA9PiB7XHJcbiAgICAgICAgcC5vblNhZmUgPSB0cnVlO1xyXG4gICAgfSxcclxuICAgIC8qdHAqL1xyXG4gICAgKHAsIHJlcywgbykgPT4ge1xyXG4gICAgICAgIC8vIHdob29zaCBzb3VuZCBlZmZlY3Q/XHJcbiAgICAgICAgcC5wb3MueCA9IG8udHB4O1xyXG4gICAgICAgIHAucG9zLnkgPSBvLnRweTtcclxuICAgICAgICBwLnJlbmRlclJhZGl1cyA9IE1hdGgubWluKHAucmVuZGVyUmFkaXVzLCBwLnNhdC5yIC8gMik7XHJcbiAgICB9LFxyXG4gICAgLypjb252ZXlvciovXHJcbiAgICAocCwgcmVzLCBvKSA9PiB7XHJcbiAgICAgICAgcC5mb3JjZXMucHVzaChbTWF0aC5jb3Moby5jb252ZXlvckFuZ2xlKSAqIG8uY29udmV5b3JGb3JjZSwgTWF0aC5zaW4oby5jb252ZXlvckFuZ2xlKSAqIG8uY29udmV5b3JGb3JjZSwgby5jb252ZXlvckZyaWN0aW9uXSk7XHJcbiAgICB9LFxyXG4gICAgLypwbGF0Zm9ybWVyKi9cclxuICAgIChwLCByZXMsIG8sIGlkKSA9PiB7XHJcbiAgICAgICAgby50b3VjaGluZ1BsYXRmb3JtZXIgPSB0cnVlO1xyXG4gICAgICAgIG8uanVtcENvb2xkb3duLS07XHJcblxyXG4gICAgICAgIC8vIGFkZCBjb252ZXlvciBmb3JjZVxyXG4gICAgICAgIHAuZm9yY2VzLnB1c2goW01hdGguY29zKG8ucGxhdGZvcm1lckFuZ2xlKSAqIG8ucGxhdGZvcm1lckZvcmNlLCBNYXRoLnNpbihvLnBsYXRmb3JtZXJBbmdsZSkgKiBvLnBsYXRmb3JtZXJGb3JjZSwgby5wbGF0Zm9ybWVyRnJpY3Rpb25dKTtcclxuXHJcbiAgICAgICAgLy8gaWRlYTogZmluZCB0aGUgYW1vdW50IG9mIHgveSB0aGUgcGxheWVyIG1vdmVzIGluIHRoZSBwbGF0Zm9ybWVyIGFuZCBtb3ZlIHRoZSBvcHBvc2l0ZSB0byBlZmZlY3RpdmVseSBsb2NrIHRoZSBwbGF5ZXIncyBtb3Rpb24gcGVycGVuZGljdWxhciB0byB0aGUgcGxhdGZvcm1lcidzIGRpcmVjdGlvblxyXG4gICAgICAgIGNvbnN0IHBsYXllclZlbEFuZ2xlID0gTWF0aC5hdGFuMihwLnl2LCBwLnh2KTtcclxuXHJcbiAgICAgICAgY29uc3QgYW5nbGVCZXR3ZWVuID0gby5wbGF0Zm9ybWVyQW5nbGUgLSBwbGF5ZXJWZWxBbmdsZTtcclxuXHJcbiAgICAgICAgY29uc3QgZGlzdE1vdmVkT25QbGF0QW5nbGUgPSBNYXRoLmNvcyhhbmdsZUJldHdlZW4pICogTWF0aC5zcXJ0KHAueXYgKiogMiArIHAueHYgKiogMik7XHJcblxyXG4gICAgICAgIHAucG9zLnggLT0gTWF0aC5jb3Moby5wbGF0Zm9ybWVyQW5nbGUpICogZGlzdE1vdmVkT25QbGF0QW5nbGU7XHJcbiAgICAgICAgcC5wb3MueSAtPSBNYXRoLnNpbihvLnBsYXRmb3JtZXJBbmdsZSkgKiBkaXN0TW92ZWRPblBsYXRBbmdsZTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2tpbmcgaWYgd2Ugd2VyZSBlaXRoZXIgaW50ZXJzZWN0aW5nIHdpdGggYSBub3JtYWwgbGFzdCBmcmFtZSB0aGF0J3MgaW5kZXhlZCBhZnRlciB0aGUgb2JzIG9yIHdlIGFyZSBpbnRlcnNlY3Rpbmcgd2l0aCBhIG5vcm1hbCByblxyXG4gICAgICAgIGlmKG8uanVtcENvb2xkb3duIDw9IDAgJiYgKHAudG91Y2hpbmdOb3JtYWxJbmRleGVzLmxlbmd0aCAhPT0gMCB8fCBwLmxhc3RUb3VjaGluZ05vcm1hbEluZGV4ZXNbcC5sYXN0VG91Y2hpbmdOb3JtYWxJbmRleGVzLmxlbmd0aC0xXSA+PSBpZCB8fCBwLnRvdWNoaW5nV2FsbCA9PT0gdHJ1ZSkpe1xyXG4gICAgICAgICAgICBvLmNhbkp1bXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyBPTEQ6IGlmIHdlJ3JlIHdpdGhpbiAzMCBkZWdyZWVzLCBqdW1wOyBORVc6IGlmIHRoZSBtb3VzZSBpcyBhYm92ZSB0aGUgdGh1bWJzIHVwIGluIHRoZSByZW5kZXJpbmdcclxuICAgICAgICAgICAgaWYoLypNYXRoLmFicyhzaG9ydEFuZ2xlRGlzdChvLnBsYXRmb3JtZXJBbmdsZSArIE1hdGguUEksIHBsYXllclZlbEFuZ2xlKSkgPCBNYXRoLlBJIC8gNiovd2luZG93LmRyYWdnaW5nID09PSB0cnVlICYmIHBsYXllci5wb3MueSAtIHdpbmRvdy5tb3VzZVkgPiBwbGF5ZXIuc2F0LnIgKyA1MCl7XHJcbiAgICAgICAgICAgICAgICBwLmZvcmNlcy5wdXNoKFstTWF0aC5jb3Moby5wbGF0Zm9ybWVyQW5nbGUpICogby5qdW1wRm9yY2UsIC1NYXRoLnNpbihvLnBsYXRmb3JtZXJBbmdsZSkgKiBvLmp1bXBGb3JjZSwgby5qdW1wRnJpY3Rpb25dKTtcclxuICAgICAgICAgICAgICAgIG8uanVtcENvb2xkb3duID0gby5tYXhKdW1wQ29vbGRvd247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvLmNhbkp1bXAgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLypyZXN0cmljdEF4aXMqL1xyXG4gICAgKHAsIHJlcywgbykgPT4ge1xyXG4gICAgICAgIHAuYXhpc1NwZWVkTXVsdFggKj0gby5heGlzU3BlZWRNdWx0WDtcclxuICAgICAgICBwLmF4aXNTcGVlZE11bHRZICo9IG8uYXhpc1NwZWVkTXVsdFk7XHJcbiAgICB9LFxyXG4gICAgLypzbmFwR3JpZCovXHJcbiAgICAocCwgcmVzLCBvKSA9PiB7XHJcbiAgICAgICAgLy8gZm9yIHRob3NlIHdobyBoYXZlbid0IHNlZW4gaXQsIHRoaXMgaXMga2luZCBvZiBteSBtYWdudW0gb3B1cyBvZiBzaW11bGF0aW9uIGZ1bmN0aW9ucy5cclxuICAgICAgICAvLyBEZXZlbG9wZWQgYSBmZXcgeWVhcnMgYmFjayBsYXRlciBwcmVzZW50ZWQgYXQgYSBjb25mZXJlbmNlLiBBc2sgbWUgKHNlcnVtKSBhYm91dCBpdCFcclxuICAgICAgICAvLyB0aGUgYmFzaWMgaWRlYSBvZiBob3cgaXQgd29ya3MgaXMgd2UgaGF2ZSB0byBzbmFwIHRvIGEgcm90YXRlZCBzbmFwIGdyaWQgaW4gc3BhY2UsIHNvIHdlXHJcbiAgICAgICAgLy8gdHJhbnNsYXRlIHRoZSBwbGF5ZXIgdG8gdGhlIHNuYXBHcmlkIHVudGlsIGl0cyBsaWtlIHRoZSBzbmFwIGdyaWQgaXMgdW5yb3RhdGVkLiBUaGVuIHdlIHNuYXBcclxuICAgICAgICAvLyBieSBtb2R1bG9pbmcgdGhlIHggdG8gdGhlIGdyaWQgYW5kIHRoZW4gcm90YXRlIGJhY2sgdG8gZ2V0IHRoZSBmaW5hbCBwb3NpdGlvbi5cclxuICAgICAgICBvLnNuYXBDb29sZG93biAtPSBkdDtcclxuXHJcbiAgICAgICAgaWYoby5zbmFwQ29vbGRvd24gPD0gMCAmJiAoTWF0aC5hYnMocC54dikgPiAwLjAxIHx8IE1hdGguYWJzKHAueXYpID4gMC4wMSkpe1xyXG4gICAgICAgICAgICBvLnNuYXBDb29sZG93biA9IG8ubWF4U25hcENvb2xkb3duO1xyXG4gICAgICAgICAgICBsZXQgcGxheWVyU25hcEFuZ2xlID0gTWF0aC5hdGFuMihwLnl2LCBwLnh2KTtcclxuICAgICAgICAgICAgby5pbnRlcnBvbGF0ZVBsYXllckRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lOiBNYXRoLm1pbihvLm1heFNuYXBDb29sZG93bi0xLCA1KSxcclxuICAgICAgICAgICAgICAgIG5leHRYOiBwLnBvcy54ICsgTWF0aC5jb3MocGxheWVyU25hcEFuZ2xlKSAqIG8uc25hcE1hZ25pdHVkZSAqIDAuOTUsXHJcbiAgICAgICAgICAgICAgICBuZXh0WTogcC5wb3MueSArIE1hdGguc2luKHBsYXllclNuYXBBbmdsZSkgKiBvLnNuYXBNYWduaXR1ZGUgKiAwLjk1XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIHAucG9zLnggKz0gTWF0aC5jb3Moby5wU25hcEFuZ2xlKSAqIG8uc25hcERpc3RhbmNlWDtcclxuICAgICAgICAgICAgLy8gcC5wb3MueSArPSBNYXRoLnNpbihvLnBTbmFwQW5nbGUpICogby5zbmFwRGlzdGFuY2VZO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoby5pbnRlcnBvbGF0ZVBsYXllckRhdGEudGltZSA+IDEpe1xyXG4gICAgICAgICAgICBvLmludGVycG9sYXRlUGxheWVyRGF0YS50aW1lLS07XHJcbiAgICAgICAgICAgIHAucG9zLnggPSBwLnBvcy54ICogMC44ICsgMC4yICogby5pbnRlcnBvbGF0ZVBsYXllckRhdGEubmV4dFg7XHJcbiAgICAgICAgICAgIHAucG9zLnkgPSBwLnBvcy55ICogMC44ICsgMC4yICogby5pbnRlcnBvbGF0ZVBsYXllckRhdGEubmV4dFk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IFt0b3BMZWZ0WCwgdG9wTGVmdFldID0gZ2VuZXJhdGVUb3BMZWZ0Q29vcmRpbmF0ZXMobyk7XHJcbiAgICAgICAgICAgIGxldCBtaWRkbGVYID0gdG9wTGVmdFggKyBvLmRpbWVuc2lvbnMueCAvIDI7XHJcbiAgICAgICAgICAgIGxldCBtaWRkbGVZID0gdG9wTGVmdFkgKyBvLmRpbWVuc2lvbnMueSAvIDI7XHJcbiAgICAgICAgICAgIC8vIGluIG9yZGVyIHRvIHNuYXAgY29ycmVjdGx5LCByb3RhdGUgYm90aCB0aGUgcCBhbmQgdGhlIG8gdGhlIG5lZ2F0aXZlIHNuYXBBbmdsZSByZWxhdGl2ZSB0byB0aGUgbydzIGNlbnRlclxyXG4gICAgICAgICAgICAvLyB0aGlzIG1lYW5zIHRoYXQgdGhlIHBsYXllciB3aWxsIGJlIHJlbGF0aXZlbHkgY29ycmVjdCB0byB0aGUgb2JzIGFuZCB0aGUgb2JzIHdpbGwgYmUgYXhpcy1hbGlnbmVkXHJcbiAgICAgICAgICAgIGxldCBwcnQgPSB7XHJcbiAgICAgICAgICAgICAgICBhbmdsZTogTWF0aC5hdGFuMihwLnBvcy55IC0gbWlkZGxlWSwgcC5wb3MueCAtIG1pZGRsZVgpIC0gby5zbmFwQW5nbGUsXHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogTWF0aC5zcXJ0KChwLnBvcy55IC0gbWlkZGxlWSkqKjIgKyAocC5wb3MueCAtIG1pZGRsZVgpKioyKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwcnQueCA9IE1hdGguY29zKHBydC5hbmdsZSkgKiBwcnQuZGlzdGFuY2U7XHJcbiAgICAgICAgICAgIHBydC55ID0gTWF0aC5zaW4ocHJ0LmFuZ2xlKSAqIHBydC5kaXN0YW5jZTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFwcGx5aW5nIHRoZSB0cmFuc2Zvcm0ganVzdCBsaWtlIHRoZSBub3JvdGF0ZSBzbmFwIHRoYXQgaSBjb2RlZCBlYXJsaWVyXHJcbiAgICAgICAgICAgIC8vIGluIG90aGVyIHdvcmRzLCBzbmFwIHRoZSByZWxhdGl2ZSBwIHRvIHRoZSByZWxhdGl2ZSBncmlkXHJcbiAgICAgICAgICAgIHBydC54ID0gcHJ0LnggKiAwLjQgKyAwLjYgKiAoTWF0aC5yb3VuZChwcnQueCAvIG8uc25hcERpc3RhbmNlWCkgKiBvLnNuYXBEaXN0YW5jZVggKyBwLnh2ICogKG8uc25hcFRvU2hvd1ZlbG9jaXR5KjItMSkpO1xyXG4gICAgICAgICAgICBwcnQueSA9IHBydC55ICogMC40ICsgMC42ICogKE1hdGgucm91bmQocHJ0LnkgLyBvLnNuYXBEaXN0YW5jZVkpICogby5zbmFwRGlzdGFuY2VZICsgcC55diAqIChvLnNuYXBUb1Nob3dWZWxvY2l0eSoyLTEpKTtcclxuXHJcbiAgICAgICAgICAgIHBydC5hbmdsZSA9IE1hdGguYXRhbjIocHJ0LnksIHBydC54KSArIG8uc25hcEFuZ2xlO1xyXG4gICAgICAgICAgICBwcnQuZGlzdGFuY2UgPSBNYXRoLnNxcnQocHJ0LnkqKjIgKyBwcnQueCoqMik7XHJcblxyXG4gICAgICAgICAgICAvLyByb3RhdGluZyBiYWNrXHJcbiAgICAgICAgICAgIC8vIHRyYW5zbGF0aW5nIHRoZSByZWxhdGl2ZSBjb29yZGluYXRlcyBiYWNrIHRvIGFic29sdXRlIG9uZXNcclxuICAgICAgICAgICAgcC5wb3MueCA9IE1hdGguY29zKHBydC5hbmdsZSkgKiBwcnQuZGlzdGFuY2UgKyBtaWRkbGVYO1xyXG4gICAgICAgICAgICBwLnBvcy55ID0gTWF0aC5zaW4ocHJ0LmFuZ2xlKSAqIHBydC5kaXN0YW5jZSArIG1pZGRsZVk7XHJcblxyXG4gICAgICAgICAgICAvLyBjaGVja2luZyBpZiB0aGUgb3JpZ2luYWwgcG9pbnQgd2FzIG91dHNpZGUgb2YgdGhlIHNuYXBncmlkIGFzIGEgcmVzdWx0IG9mIHJvdGF0aW9uLiBJZiBzbywgYXBwbHkgdHJhbnNsYXRpb25zIHRvIG1ha2UgaXQgcmlnaHRcclxuICAgICAgICAgICAgaWYocC5wb3MueCA8IHRvcExlZnRYIC0gcC5zcGVlZCB8fCBwLnBvcy54ID4gdG9wTGVmdFggKyBvLmRpbWVuc2lvbnMueCArIHAuc3BlZWQpe1xyXG4gICAgICAgICAgICAgICAgcC5wb3MueCArPSBNYXRoLnNpZ24ocC54dikgKiBvLnNuYXBEaXN0YW5jZVgqMC42O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihwLnBvcy55IDwgdG9wTGVmdFkgLSBwLnNwZWVkIHx8IHAucG9zLnkgPiB0b3BMZWZ0WSArIG8uZGltZW5zaW9ucy55ICsgcC5zcGVlZCl7XHJcbiAgICAgICAgICAgICAgICBwLnBvcy55ICs9IE1hdGguc2lnbihwLnl2KSAqIG8uc25hcERpc3RhbmNlWSowLjY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLyp0aW1lVHJhcCovXHJcbiAgICAocCwgcmVzLCBvKSA9PiB7XHJcbiAgICAgICAgby50aW1lVHJhcEludGVyc2VjdGluZyA9IHRydWU7XHJcbiAgICAgICAgby50aW1lVHJhcFRpbWUgLT0gZHQ7XHJcbiAgICAgICAgaWYoby50aW1lVHJhcFRpbWUgPCAwKXtcclxuICAgICAgICAgICAgaWYoby50aW1lVHJhcFRvS2lsbCA9PT0gdHJ1ZSkgcC5kZWFkID0gdHJ1ZTtcclxuICAgICAgICAgICAgby50aW1lVHJhcFRpbWUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvKmNoYW5nZVNpemUqL1xyXG4gICAgKHAsIHJlcywgbykgPT4ge1xyXG4gICAgICAgIGlmKG8uc2l6ZU11bHQgPCAxICYmIG8ubGFzdENoYW5nZVNpemVDb2xsaWRpbmcgPT09IGZhbHNlKXtcclxuICAgICAgICAgICAgLy8gaWYgdGhlIHBsYXllciB3b3VsZCBub3QgYmUgY29sbGlkaW5nIHdpdGggdGhlIG9ic3RhY2xlIHdpdGggdGhlIHNtYWxsZXIgcmFkaXVzLFxyXG4gICAgICAgICAgICAvLyBkb24ndCBzY2FsZSB0aGUgcGxheWVyIHRvIGF2b2lkIGZyYW1lIDEgeWVzIGZyYW1lIDIgbm8gaml0dGVyIGVmZmVjdHNcclxuXHJcbiAgICAgICAgICAgIC8vIGJhc2ljYWxseSwgd2UgZG8gdGhpcyBieSBlZmZlY3RpdmVseSBkZWNyZWFzaW5nIHRoZSBvYnN0YWNsZSdzIGJvcmRlciByYWRpdXMgKHNvIHBvbHkgd291bGQganVzdCBiZSBzbWFsbGVyIHBvbHkpXHJcbiAgICAgICAgICAgIC8vIGlmIHRoZSBwbGF5ZXIgaGFzIG5vdCBhbHJlYWR5IGNvbGxpZGVkLiBJZiB0aGUgcGxheWVyIGlzIGNvbGxpZGluZywgd2UgYWxyZWFkeSBkZWNyZWFzZWQgdGhlIHJhZGl1cyBzbyB0aGVyZSdzIG5vIG5lZWQgdG8gZGVjcmVhc2UgdGhlIGJvcmRlclxyXG4gICAgICAgICAgICByZXMuY2xlYXIoKTtcclxuICAgICAgICAgICAgcC5zYXQuciAqPSBvLnNpemVNdWx0O1xyXG4gICAgICAgICAgICBpZihvLnNhdC5yICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgY29sbGlkZWQgPSBTQVQudGVzdENpcmNsZUNpcmNsZShvLnNhdCwgcC5zYXQsIHJlcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb2xsaWRlZCA9IFNBVC50ZXN0UG9seWdvbkNpcmNsZShvLnNhdCwgcC5zYXQsIHJlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcC5zYXQuciAvPSBvLnNpemVNdWx0O1xyXG4gICAgICAgICAgICBpZihjb2xsaWRlZCA9PT0gZmFsc2Upe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKG8uc2l6ZUNoYW5nZVBlcm1hbmVudCA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgIGlmKG8ucGVybWFuZW50U2l6ZUNoYW5nZURvbmUgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICBvLnBlcm1hbmVudFNpemVDaGFuZ2VEb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHAuc2F0LnIgKj0gby5zaXplTXVsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBvLmNoYW5nZVNpemVDb2xsaWRpbmcgPSB0cnVlO1xyXG4gICAgfSxcclxuICAgIC8qY2hhbmdlU3BlZWQqL1xyXG4gICAgKHAsIHJlcywgbykgPT4ge1xyXG4gICAgICAgIGlmKG8uc3BlZWRDaGFuZ2VQZXJtYW5lbnQgPT09IHRydWUpe1xyXG4gICAgICAgICAgICBpZihvLnBlcm1hbmVudFNwZWVkQ2hhbmdlRG9uZSA9PT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIG8ucGVybWFuZW50U3BlZWRDaGFuZ2VEb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHAuc3BlZWQgKj0gby5zcGVlZE11bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwLmF4aXNTcGVlZE11bHRYICo9IG8uc3BlZWRNdWx0O1xyXG4gICAgICAgICAgICBwLmF4aXNTcGVlZE11bHRZICo9IG8uc3BlZWRNdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvKnNvbGlkQ29sb3IqL1xyXG4gICAgKHAsIHJlcywgbykgPT4ge30sXHJcbiAgICAvKmRlY29yYXRpb24qL1xyXG4gICAgKHAsIHJlcywgbykgPT4ge30sXHJcbiAgICAvKmNoYW5nZU1hcCovXHJcbiAgICAocCwgcmVzLCBvKSA9PiB7XHJcbiAgICAgICAgaWYod2luZG93LndvbiA9PT0gdHJ1ZSkgcmV0dXJuO1xyXG4gICAgICAgIHdpbmRvdy53b24gPSB0cnVlO1xyXG4gICAgICAgIGlmKHdpbmRvdy5pc0V4Q2xpZW50ID09PSB0cnVlKXtcclxuICAgICAgICAgICAgY29uc3QgbWFwTmFtZSA9IG8ubWFwTmFtZTtcclxuICAgICAgICAgICAgY29uc3QgYnVmID0gbmV3IFVpbnQ4QXJyYXkoMSArIG1hcE5hbWUubGVuZ3RoKTtcclxuICAgICAgICAgICAgYnVmWzBdID0gMjsgLy8gdHlwZSAyIC0gY2hhbmdlIG1hcFxyXG4gICAgICAgICAgICBlbmNvZGVBdFBvc2l0aW9uKG1hcE5hbWUsIGJ1ZiwgMSk7XHJcbiAgICAgICAgICAgIHNlbmQoYnVmKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBzZW5kIHVzZXIgdG8gdGhlIHNwZWNpZmllZCBvbW5pXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8qdG9ybmFkbyovXHJcbiAgICAocCwgcmVzLCBvKSA9PiB7XHJcbiAgICAgICAgcC5wb3MueCArPSBNYXRoLmNvcyhNYXRoLnJhbmRvbSgpICogMzYwKSAqIG8udG9ybmFkb1N0cmVuZ3RoO1xyXG4gICAgICAgIHAucG9zLnkgKz0gTWF0aC5zaW4oTWF0aC5yYW5kb20oKSAqIDM2MCkgKiBvLnRvcm5hZG9TdHJlbmd0aDtcclxuICAgIH1cclxuXVxyXG5cclxuY29uc3QgaWRsZUVmZmVjdE1hcCA9IFtcclxuICAgIC8vICdib3VuZCcsXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICAvLyAna2lsbCcsXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICAvLyAnYm91bmNlJyxcclxuICAgIHVuZGVmaW5lZCxcclxuICAgIC8vICdjdXN0b20nXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICAvLyAnY3VzdG9tSW1hZ2UnXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICAvLyAnc3RvcEZvcmNlcycsXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICAvLyAnd2lucGFkJyxcclxuICAgIHVuZGVmaW5lZCxcclxuICAgIC8vICdjb2luJyxcclxuICAgIHVuZGVmaW5lZCxcclxuICAgIC8vICdjb2luZG9vcicsXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICAvLyAnY2hlY2twb2ludCcsXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICAvLyAnYnJlYWthYmxlJyxcclxuICAgIChvKSA9PiB7XHJcbiAgICAgICAgaWYgKG8uc3RyZW5ndGggPCBvLm1heFN0cmVuZ3RoICYmIHdpbmRvdy5ub3ctby5sYXN0QnJva2VUaW1lID4gby5yZWdlblRpbWUpIHtcclxuICAgICAgICAgICAgby5zdHJlbmd0aCArPSBvLmhlYWxTcGVlZCAqIGR0O1xyXG4gICAgICAgICAgICBpZihvLnN0cmVuZ3RoID49IG8ubWF4U3RyZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgby5sYXN0QnJva2VUaW1lID0gd2luZG93Lm5vdztcclxuICAgICAgICAgICAgICAgIG8uc3RyZW5ndGggPSBvLm1heFN0cmVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8vICdzYWZlJyxcclxuICAgIHVuZGVmaW5lZCxcclxuICAgIC8vICd0cCcsXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICAvLyAnY29udmV5b3InLFxyXG4gICAgKG8pID0+IHtcclxuICAgICAgICBvLmNvbnZleW9yQW5nbGUgKz0gby5jb252ZXlvckFuZ2xlUm90YXRlU3BlZWQgKiBkdDtcclxuICAgIH0sXHJcbiAgICAvLyAncGxhdGZvcm1lcicsXHJcbiAgICAobykgPT4ge1xyXG4gICAgICAgIG8ucGxhdGZvcm1lckFuZ2xlICs9IG8ucGxhdGZvcm1lckFuZ2xlUm90YXRlU3BlZWQgKiBkdDtcclxuICAgIH0sXHJcbiAgICAvLyAncmVzdHJpY3RBeGlzJyxcclxuICAgIHVuZGVmaW5lZCxcclxuICAgIC8vICdzbmFwR3JpZCcsXHJcbiAgICAobykgPT4ge1xyXG4gICAgICAgIG8uc25hcEFuZ2xlICs9IG8uc25hcEFuZ2xlUm90YXRlU3BlZWQgKiBkdDtcclxuICAgIH0sXHJcbiAgICAvLyAndGltZVRyYXAnXHJcbiAgICAobykgPT4ge1xyXG4gICAgICAgIGlmKG8udGltZVRyYXBJbnRlcnNlY3RpbmcgIT09IHRydWUpIG8udGltZVRyYXBUaW1lICs9IG8udGltZVRyYXBSZWNvdmVyeVNwZWVkICogZHQ7XHJcbiAgICAgICAgaWYoby50aW1lVHJhcFRpbWUgPiBvLnRpbWVUcmFwTWF4VGltZSkgby50aW1lVHJhcFRpbWUgPSBvLnRpbWVUcmFwTWF4VGltZTtcclxuICAgICAgICBvLnRpbWVUcmFwSW50ZXJzZWN0aW5nID0gZmFsc2U7XHJcbiAgICB9LFxyXG4gICAgLy8gJ2NoYW5nZVNpemUnXHJcbiAgICAobywgcCkgPT4ge1xyXG4gICAgICAgIGlmKG8uc2l6ZUNoYW5nZVBlcm1hbmVudCA9PT0gdHJ1ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZihvLmxhc3RDaGFuZ2VTaXplQ29sbGlkaW5nID09PSB0cnVlICYmIG8uY2hhbmdlU2l6ZUNvbGxpZGluZyA9PT0gZmFsc2Upe1xyXG4gICAgICAgICAgICAvLyBleGl0XHJcbiAgICAgICAgICAgIHAuc2F0LnIgLz0gby5zaXplTXVsdDtcclxuICAgICAgICB9IGVsc2UgaWYoby5sYXN0Q2hhbmdlU2l6ZUNvbGxpZGluZyA9PT0gZmFsc2UgJiYgby5jaGFuZ2VTaXplQ29sbGlkaW5nID09PSB0cnVlKXtcclxuICAgICAgICAgICAgLy8gZW50ZXJcclxuICAgICAgICAgICAgcC5zYXQuciAqPSBvLnNpemVNdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgby5sYXN0Q2hhbmdlU2l6ZUNvbGxpZGluZyA9IG8uY2hhbmdlU2l6ZUNvbGxpZGluZztcclxuICAgICAgICBvLmNoYW5nZVNpemVDb2xsaWRpbmcgPSBmYWxzZTtcclxuICAgIH0sXHJcbiAgICAvLyAnY2hhbmdlU3BlZWQnXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICAvLyAnc29saWRDb2xvcidcclxuICAgIHVuZGVmaW5lZCxcclxuICAgIC8vICdkZWNvcmF0aW9uJ1xyXG4gICAgdW5kZWZpbmVkLFxyXG4gICAgLy8gJ2NoYW5nZU1hcCdcclxuICAgIHVuZGVmaW5lZCxcclxuICAgIC8vICd0b3JuYWRvJ1xyXG4gICAgdW5kZWZpbmVkXHJcbl1cclxuXHJcbndpbmRvdy5lZmZlY3RDb25zdHJhaW50c01hcCA9IFtcclxuICAgIC8qYm91bmQqL1xyXG4gICAgdW5kZWZpbmVkLFxyXG4gICAgLypraWxsKi9cclxuICAgIHVuZGVmaW5lZCxcclxuICAgIC8qYm91bmNlKi9cclxuICAgIHtkZWNheTogW3VuZGVmaW5lZCwgMV19LFxyXG4gICAgLypjdXN0b20qL1xyXG4gICAgdW5kZWZpbmVkLFxyXG4gICAgLypjdXN0b21JbWFnZSovXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICAvKnN0b3BGb3JjZXMqL1xyXG4gICAgdW5kZWZpbmVkLFxyXG4gICAgLyp3aW5wYWQqL1xyXG4gICAgdW5kZWZpbmVkLFxyXG4gICAgLypjb2luKi9cclxuICAgIHtjb2luQW1vdW50OiBbMV19LFxyXG4gICAgLypjb2luZG9vciovXHJcbiAgICB7Y29pbnM6IFsxXSwgbWF4Q29pbnM6IFsxXX0sXHJcbiAgICAvKmNoZWNrcG9pbnQqL1xyXG4gICAgdW5kZWZpbmVkLFxyXG4gICAgLypicmVha2FibGUqL1xyXG4gICAge21heFN0cmVuZ3RoOiBbMV0sIHJlZ2VuVGltZTogWzBdLCBoZWFsU3BlZWQ6IFswXX0sXHJcbiAgICAvKnNhZmUqL1xyXG4gICAgdW5kZWZpbmVkLFxyXG4gICAgLyp0cCovXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICAvKmNvbnZleW9yKi9cclxuICAgIHtjb252ZXlvckZyaWN0aW9uOiBbdW5kZWZpbmVkLCAxXX0sXHJcbiAgICAvKnBsYXRmb3JtZXIqL1xyXG4gICAge3BsYXRmb3JtZXJGcmljdGlvbjogW3VuZGVmaW5lZCwgMV0sIGp1bXBGcmljdGlvbjogW3VuZGVmaW5lZCwgMV19LFxyXG4gICAgLypyZXN0cmljdEF4aXMqL1xyXG4gICAgdW5kZWZpbmVkLFxyXG4gICAgLypzbmFwR3JpZCovXHJcbiAgICB7c25hcERpc3RhbmNlWDogWzAuMV0sIHNuYXBEaXN0YW5jZVk6IFswLjFdLCBzbmFwQ29vbGRvd246IFswXX0sXHJcbiAgICAvKnRpbWVUcmFwKi9cclxuICAgIHt0aW1lVHJhcFRpbWU6IFswXSwgdGltZVRyYXBNYXhUaW1lOiBbMF19LFxyXG4gICAgLypjaGFuZ2VTaXplKi9cclxuICAgIHVuZGVmaW5lZCxcclxuICAgIC8qY2hhbmdlU3BlZWQqL1xyXG4gICAgdW5kZWZpbmVkLFxyXG4gICAgLypzb2xpZENvbG9yKi9cclxuICAgIHVuZGVmaW5lZCxcclxuICAgIC8qZGVjb3JhdGlvbiovXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICAvKmNoYW5nZU1hcCovXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICAvKnRvcm5hZG8qL1xyXG4gICAgdW5kZWZpbmVkXHJcbl1cclxuXHJcbndpbmRvdy5lZmZlY3RNYXBJMk4gPSBbXHJcbiAgICAnYm91bmQnLFxyXG4gICAgJ2tpbGwnLFxyXG4gICAgJ2JvdW5jZScsXHJcbiAgICAnY3VzdG9tJyxcclxuICAgICdjdXN0b21JbWFnZScsXHJcbiAgICAnc3RvcEZvcmNlcycsXHJcbiAgICAnd2lucGFkJyxcclxuICAgICdjb2luJyxcclxuICAgICdjb2luZG9vcicsXHJcbiAgICAnY2hlY2twb2ludCcsXHJcbiAgICAnYnJlYWthYmxlJyxcclxuICAgICdzYWZlJyxcclxuICAgICd0cCcsXHJcbiAgICAnY29udmV5b3InLFxyXG4gICAgJ3BsYXRmb3JtZXInLFxyXG4gICAgJ3Jlc3RyaWN0QXhpcycsXHJcbiAgICAnc25hcEdyaWQnLFxyXG4gICAgJ3RpbWVUcmFwJyxcclxuICAgICdjaGFuZ2VTaXplJyxcclxuICAgICdjaGFuZ2VTcGVlZCcsXHJcbiAgICAnc29saWRDb2xvcicsXHJcbiAgICAnZGVjb3JhdGlvbicsXHJcbiAgICAnY2hhbmdlTWFwJyxcclxuICAgICd0b3JuYWRvJ1xyXG5dXHJcblxyXG53aW5kb3cuZWZmZWN0RGVmYXVsdE1hcCA9IFtcclxuICAgIC8vIGJvdW5kXHJcbiAgICB7fSxcclxuICAgIC8vIGtpbGxcclxuICAgIHtcclxuICAgICAgICBjb2xsaWRhYmxlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgLy8gYm91bmNlXHJcbiAgICB7XHJcbiAgICAgICAgYm91bmNpbmVzczogMSxcclxuICAgICAgICBkZWNheTogMC45OFxyXG4gICAgfSxcclxuICAgIC8vIGN1c3RvbVxyXG4gICAge30sXHJcbiAgICAvLyBjdXN0b21FZmZlY3RcclxuICAgIHtcclxuICAgICAgICB1cmw6ICdodHRwOi8vdGlueXVybC5jb20vZHdheW5lLXQtcmonXHJcbiAgICB9LFxyXG4gICAgLy8gc3RvcEZvcmNlc1xyXG4gICAge30sXHJcbiAgICAvLyB3aW5wYWRcclxuICAgIHt9LFxyXG4gICAgLy8gY29pblxyXG4gICAge1xyXG4gICAgICAgIGNvaW5BbW91bnQ6IDEsXHJcbiAgICAgICAgY29sb3I6ICcjZDZkNjExJ1xyXG4gICAgfSxcclxuICAgIC8vIGNvaW5kb29yXHJcbiAgICB7XHJcbiAgICAgICAgY29pbmRvb3JDb2luQW1vdW50OiAzLFxyXG4gICAgICAgIGNvaW5Eb29yQ29sb3I6ICcjZDZkNjExJ1xyXG4gICAgfSxcclxuICAgIC8vIGNoZWNrcG9pbnRcclxuICAgIHtcclxuICAgICAgICBjaGVja3BvaW50T2Zmc2V0WDogMCxcclxuICAgICAgICBjaGVja3BvaW50T2Zmc2V0WTogMFxyXG4gICAgfSxcclxuICAgIC8vIGJyZWFrYWJsZVxyXG4gICAge1xyXG4gICAgICAgIG1heFN0cmVuZ3RoOiA2MCxcclxuICAgICAgICByZWdlblRpbWU6IDEwMCxcclxuICAgICAgICBoZWFsU3BlZWQ6IDFcclxuICAgIH0sXHJcbiAgICAvLyBzYWZlXHJcbiAgICB7fSxcclxuICAgIC8vIHRwXHJcbiAgICB7XHJcbiAgICAgICAgdHB4OiAxMDAsXHJcbiAgICAgICAgdHB5OiAxMDBcclxuICAgIH0sXHJcbiAgICAvLyBjb252ZXlvclxyXG4gICAge1xyXG4gICAgICAgIGNvbnZleW9yRm9yY2U6IDAuMyxcclxuICAgICAgICBjb252ZXlvckFuZ2xlOiA5MCxcclxuICAgICAgICBjb252ZXlvckFuZ2xlUm90YXRlU3BlZWQ6IDAsXHJcbiAgICAgICAgY29udmV5b3JGcmljdGlvbjogMC44XHJcbiAgICB9LFxyXG4gICAgLy8gcGxhdGZvcm1lclxyXG4gICAge1xyXG4gICAgICAgIHBsYXRmb3JtZXJGb3JjZTogMSxcclxuICAgICAgICBwbGF0Zm9ybWVyQW5nbGU6IDkwLFxyXG4gICAgICAgIHBsYXRmb3JtZXJBbmdsZVJvdGF0ZVNwZWVkOiAwLFxyXG4gICAgICAgIHBsYXRmb3JtZXJGcmljdGlvbjogMC44NzUsXHJcbiAgICAgICAgbWF4SnVtcENvb2xkb3duOiAzMCxcclxuICAgICAgICBqdW1wRm9yY2U6IDIwLFxyXG4gICAgICAgIGp1bXBEZWNheTogMC45NSxcclxuICAgICAgICAvLyBtYXhKdW1wczogMVxyXG4gICAgfSxcclxuICAgIC8vIHJlc3RyaWN0QXhpc1xyXG4gICAge1xyXG4gICAgICAgIGF4aXNTcGVlZE11bHRYOiAwLFxyXG4gICAgICAgIGF4aXNTcGVlZE11bHRZOiAxXHJcbiAgICB9LFxyXG4gICAgLy8gc25hcEdyaWRcclxuICAgIHtcclxuICAgICAgICB0b1NuYXBYOiB0cnVlLFxyXG4gICAgICAgIHRvU25hcFk6IHRydWUsXHJcbiAgICAgICAgc25hcERpc3RhbmNlWDogMTAwLFxyXG4gICAgICAgIHNuYXBEaXN0YW5jZVk6IDEwMCxcclxuICAgICAgICBzbmFwQ29vbGRvd246IDQwLFxyXG4gICAgICAgIHNuYXBBbmdsZTogMCxcclxuICAgICAgICBzbmFwQW5nbGVSb3RhdGVTcGVlZDogMFxyXG4gICAgfSxcclxuICAgIC8vIHRpbWVUcmFwXHJcbiAgICB7XHJcbiAgICAgICAgdGltZVRyYXBNYXhUaW1lOiAzMDAsXHJcbiAgICAgICAgdGltZVRyYXBSZWNvdmVyeVNwZWVkOiAxLjUsXHJcbiAgICAgICAgdGltZVRyYXBUb0tpbGw6IHRydWUsXHJcbiAgICAgICAgdGltZVRyYXBUb1Nob3dUZW50aDogZmFsc2VcclxuICAgIH0sXHJcbiAgICAvLyBjaGFuZ2VTaXplXHJcbiAgICB7XHJcbiAgICAgICAgc2l6ZU11bHQ6IDEuNSxcclxuICAgICAgICBzaXplQ2hhbmdlUGVybWFuZW50OiBmYWxzZVxyXG4gICAgfSxcclxuICAgIC8vIGNoYW5nZVNwZWVkXHJcbiAgICB7XHJcbiAgICAgICAgc3BlZWRNdWx0OiAyLjUsXHJcbiAgICAgICAgc3BlZWRDaGFuZ2VQZXJtYW5lbnQ6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgLy8gc29saWRDb2xvclxyXG4gICAge1xyXG4gICAgICAgIGhleDogJyNGRkZGRkYnXHJcbiAgICB9LFxyXG4gICAgLy8gZGVjb3JhdGlvblxyXG4gICAge30sXHJcbiAgICAvLyBjaGFuZ2VNYXBcclxuICAgIHttYXBOYW1lOiAnaHViJ30sXHJcbiAgICAvLyB0b3JuYWRvXHJcbiAgICB7dG9ybmFkb1N0cmVuZ3RoOiAxfVxyXG5dXHJcblxyXG5jb25zdCByZW5kZXJFZmZlY3RNYXAgPSBbXHJcbiAgICAvKmJvdW5kKi9cclxuICAgIChvKSA9PiB7IFxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB3aW5kb3cuY29sb3JzLnRpbGU7XHJcbiAgICB9LFxyXG4gICAgLypraWxsKi9cclxuICAgIChvKSA9PiB7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IG8uY29sbGlkYWJsZSA9PT0gdHJ1ZSA/ICcjYzcwMDAwJyA6ICcjOWUwMDAwJztcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xyXG4gICAgICAgIGN0eC50b1N0cm9rZSA9IHRydWU7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDQ7XHJcbiAgICB9LFxyXG4gICAgLypib3VuY2UqL1xyXG4gICAgKG8pID0+IHtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ2JsdWUnO1xyXG4gICAgfSxcclxuICAgIC8qY3VzdG9tKi9cclxuICAgIChvKSA9PiB7XHJcbiAgICAgICAgY3R4LnRvRmlsbCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBjdHguY2xlYW5VcEZ1bmN0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICBjdHguY2xpcCgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgW3RvcExlZnRYLCB0b3BMZWZ0WV0gPSBnZW5lcmF0ZVRvcExlZnRDb29yZGluYXRlcyhvKTtcclxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh3aW5kb3cuc3RhckltZywgdG9wTGVmdFgsIHRvcExlZnRZLCBvLmRpbWVuc2lvbnMueCwgby5kaW1lbnNpb25zLnkpO1xyXG5cclxuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLypjdXN0b21JbWFnZSovXHJcbiAgICAobykgPT4ge1xyXG4gICAgICAgIGN0eC50b0ZpbGwgPSBmYWxzZTtcclxuICAgICAgICBpZihvLmltZ0xvYWRlZCA9PT0gZmFsc2UpIHJldHVybjtcclxuXHJcbiAgICAgICAgY3R4LmNsZWFuVXBGdW5jdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgY3R4LmNsaXAoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IFt0b3BMZWZ0WCwgdG9wTGVmdFldID0gZ2VuZXJhdGVUb3BMZWZ0Q29vcmRpbmF0ZXMobyk7XHJcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2Uoby5pbWcsIHRvcExlZnRYLCB0b3BMZWZ0WSwgby5kaW1lbnNpb25zLngsIG8uZGltZW5zaW9ucy55KTtcclxuXHJcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8qc3RvcEZvcmNlcyovXHJcbiAgICAobykgPT4ge1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnb3JhbmdlJztcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xyXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSA2O1xyXG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuMTtcclxuICAgICAgICBjdHgudG9TdHJva2UgPSB0cnVlO1xyXG4gICAgfSxcclxuICAgIC8qd2lucGFkKi9cclxuICAgIChvKSA9PiB7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGBoc2woJHt3aW5kb3cudGltZS8xMn0sNTAlLDUwJSlgO1xyXG4gICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IGN0eC5maWxsU3R5bGU7XHJcbiAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSAxNTtcclxuICAgICAgICBjdHguY2xlYW5VcEZ1bmN0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8qY29pbiovXHJcbiAgICAobykgPT4ge1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBvLmNvbG9yO1xyXG4gICAgICAgIGlmKG8uY29sbGVjdGVkID09PSB0cnVlKXtcclxuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMC4yO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuODtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoby5jb2luQW1vdW50ICE9PSAxKXtcclxuICAgICAgICAgICAgY3R4LmNsZWFuVXBGdW5jdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBbbWlkZGxlWCwgbWlkZGxlWV0gPSBnZW5lcmF0ZVRvcExlZnRDb29yZGluYXRlcyhvKTtcclxuICAgICAgICAgICAgICAgIG1pZGRsZVggKz0gby5kaW1lbnNpb25zLnggLyAyOyBtaWRkbGVZICs9IG8uZGltZW5zaW9ucy55IC8gMjtcclxuXHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gd2luZG93LmNvbG9ycy50aWxlOy8vJyMzMTMxMzEnO1xyXG4gICAgICAgICAgICAgICAgY3R4LmZvbnQgPSBgJHtNYXRoLm1pbig2MCwgby5kaW1lbnNpb25zLngvNCwgby5kaW1lbnNpb25zLnkvNCl9cHggSW50ZXJgO1xyXG4gICAgICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDAsIG8uY29pbkFtb3VudCksXHJcbiAgICAgICAgICAgICAgICAgICAgbWlkZGxlWCxcclxuICAgICAgICAgICAgICAgICAgICBtaWRkbGVZXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8qY29pbmRvb3IqL1xyXG4gICAgKG8pID0+IHtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gd2luZG93LmNvbG9ycy50aWxlO1xyXG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IG8uY29pbnMgPD0gMCA/IDAuNSA6IDE7XHJcbiAgICAgICAgY3R4LmNsZWFuVXBGdW5jdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IG8uY29pbkRvb3JDb2xvcjtcclxuXHJcbiAgICAgICAgICAgIGxldCBbbWlkZGxlWCwgbWlkZGxlWV0gPSBnZW5lcmF0ZVRvcExlZnRDb29yZGluYXRlcyhvKTtcclxuICAgICAgICAgICAgbWlkZGxlWCArPSBvLmRpbWVuc2lvbnMueCAvIDI7IG1pZGRsZVkgKz0gby5kaW1lbnNpb25zLnkgLyAyO1xyXG5cclxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjdHgucm91bmRSZWN0KG1pZGRsZVgtby5kaW1lbnNpb25zLngvNCwgbWlkZGxlWS1vLmRpbWVuc2lvbnMueS80LCBvLmRpbWVuc2lvbnMueC8yLCBvLmRpbWVuc2lvbnMueS8yLCBNYXRoLm1pbihvLmRpbWVuc2lvbnMueCxvLmRpbWVuc2lvbnMueSkvMjApO1xyXG4gICAgICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICBcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHdpbmRvdy5jb2xvcnMudGlsZTsvLycjMzEzMTMxJy8vJyM0ODRhMDAnO1xyXG4gICAgICAgICAgICBjdHguZm9udCA9IGAke01hdGgubWluKDYwLCBvLmRpbWVuc2lvbnMueC80LCBvLmRpbWVuc2lvbnMueS80KX1weCBJbnRlcmA7XHJcbiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQoXHJcbiAgICAgICAgICAgICAgICBNYXRoLm1heCgwLCBvLmNvaW5zKSxcclxuICAgICAgICAgICAgICAgIG1pZGRsZVgsXHJcbiAgICAgICAgICAgICAgICBtaWRkbGVZXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8qY2hlY2twb2ludCovXHJcbiAgICAobykgPT4ge1xyXG4gICAgICAgIGlmIChvLmNvbGxlY3RlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwZmJhMDknO1xyXG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAwLjE1O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzA1OTYyYic7XHJcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuODtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY3R4LmNsZWFuVXBGdW5jdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAvLyAgICAgY3R4Lmdsb2JhbEFscGhhIC89IDU7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGdyZCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChvLnBvcy54LCBvLnBvcy55LCAwLCBvLnBvcy54LCBvLnBvcy55LCAoby5kaW1lbnNpb25zLnggKyBvLmRpbWVuc2lvbnMueSkvMyk7XHJcblxyXG4gICAgICAgIC8vICAgICBncmQuYWRkQ29sb3JTdG9wKDAsIFwicmdiYSgyNTUsMjU1LDI1NSwxKVwiKTtcclxuICAgICAgICAvLyAgICAgZ3JkLmFkZENvbG9yU3RvcCgxLCBcInJnYmEoMjU1LDI1NSwyNTUsMClcIik7XHJcblxyXG4gICAgICAgIC8vICAgICBjdHguZmlsbFN0eWxlID0gZ3JkO1xyXG4gICAgICAgIC8vICAgICByZW5kZXJFZmZlY3RNYXBbN10obyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfSxcclxuICAgIC8qYnJlYWthYmxlKi9cclxuICAgIChvKSA9PiB7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHdpbmRvdy5jb2xvcnMudGlsZTsvLyB0byBtYWtlIGl0IGludG8gaGV4XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGJsZW5kQ29sb3IoJyMwMDAwMDAnLCBjdHguZmlsbFN0eWxlLCAwLjUpO1xyXG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IG8uc3RyZW5ndGggLyBvLm1heFN0cmVuZ3RoO1xyXG4gICAgfSxcclxuICAgIC8qc2FmZSovXHJcbiAgICAobykgPT4ge1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzhjOGM4Yyc7XHJcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMC4yNTtcclxuICAgIH0sXHJcbiAgICAvKnRwKi9cclxuICAgIChvKSA9PiB7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMzhhYjMwJztcclxuICAgIH0sXHJcbiAgICAvKmNvbnZleW9yKi9cclxuICAgIChvKSA9PiB7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHdpbmRvdy5jb2xvcnMudGlsZTtcclxuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAwLjE7XHJcbiAgICAgICAgY3R4LmNsZWFuVXBGdW5jdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgY3R4LmNsaXAoKTtcclxuICAgICAgICAgICAgbGV0IFt0b3BMZWZ0WCwgdG9wTGVmdFldID0gZ2VuZXJhdGVUb3BMZWZ0Q29vcmRpbmF0ZXMobyk7XHJcblxyXG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG4gICAgICAgICAgICBmb3IobGV0IHggPSB0b3BMZWZ0WCArIDUwOyB4IDw9IHRvcExlZnRYICsgby5kaW1lbnNpb25zLnggKyA1MDsgeCArPSAxMDApe1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCB5ID0gdG9wTGVmdFkgKyA1MDsgeSA8PSB0b3BMZWZ0WSArIG8uZGltZW5zaW9ucy55ICsgNTA7IHkgKz0gMTAwKXtcclxuICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKHgseSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJvdGF0ZShvLmNvbnZleW9yQW5nbGUrTWF0aC5QSS8yKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHdpbmRvdy5hcnJvd0ltZywgLTUwLCAtNTAsIDEwMCwgMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKC1vLmNvbnZleW9yQW5nbGUtTWF0aC5QSS8yKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKC14LC15KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgLy8gY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAvLyBjdHguZmlsbFN0eWxlID0gJ3JlZCc7XHJcbiAgICAgICAgICAgIC8vIGN0eC5hcmModG9wTGVmdFgsIHRvcExlZnRZLCAzMCwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgICAgICAvLyBjdHguZmlsbCgpO1xyXG4gICAgICAgICAgICAvLyBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8qcGxhdGZvcm1lciovXHJcbiAgICAobykgPT4ge1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB3aW5kb3cuY29sb3JzLnRpbGU7XHJcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMC4xO1xyXG4gICAgICAgIGN0eC5jbGVhblVwRnVuY3Rpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGN0eC5jbGlwKCk7XHJcbiAgICAgICAgICAgIGxldCBbdG9wTGVmdFgsIHRvcExlZnRZXSA9IGdlbmVyYXRlVG9wTGVmdENvb3JkaW5hdGVzKG8pO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WCA9ICh3aW5kb3cudGltZSAqIG8ucGxhdGZvcm1lckZvcmNlICogTWF0aC5jb3Moby5wbGF0Zm9ybWVyQW5nbGUpIC8gMTApICUgMTAwIC0gMTAwO1xyXG4gICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gKHdpbmRvdy50aW1lICogby5wbGF0Zm9ybWVyRm9yY2UgKiBNYXRoLnNpbihvLnBsYXRmb3JtZXJBbmdsZSkgLyAxMCkgJSAxMDAgLSAxMDA7XHJcblxyXG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG4gICAgICAgICAgICBmb3IobGV0IHggPSB0b3BMZWZ0WCArIG9mZnNldFggKyA1MDsgeCA8PSB0b3BMZWZ0WCArIG8uZGltZW5zaW9ucy54ICsgNTA7IHggKz0gMTAwKXtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgeSA9IHRvcExlZnRZICsgb2Zmc2V0WSArIDUwOyB5IDw9IHRvcExlZnRZICsgby5kaW1lbnNpb25zLnkgKyA1MDsgeSArPSAxMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoeCx5KTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKG8ucGxhdGZvcm1lckFuZ2xlK01hdGguUEkvMik7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh3aW5kb3cuYXJyb3dJbWcsIC01MCwgLTUwLCAxMDAsIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJvdGF0ZSgtby5wbGF0Zm9ybWVyQW5nbGUtTWF0aC5QSS8yKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKC14LC15KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbmRlcmluZyDwn5GNIGlmIHBsYXllciBjYW4ganVtcFxyXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBldmVyIGlzIHRvIGJlIG1vcmUgZW1vamlzIGxpa2UgdGhpcywgdGhlbiBtYWtlIGFuIGFycmF5IG9mIGVtb2ppcyB0aGF0IGkgY2FuIHB1c2ggdG8gdGhhdCByZW5kZXIgb24gdG9wIG9mIGVhY2ggb3RoZXIgZXZlcnkgZnJhbWUgKHcvIHByaW9yaXR5PyBzb3J0ZWQ/KVxyXG4gICAgICAgICAgICBpZihvLmNhbkp1bXAgPT09IHRydWUgJiYgby50b3VjaGluZ1BsYXRmb3JtZXIgPT09IHRydWUpe1xyXG4gICAgICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMTtcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xyXG4gICAgICAgICAgICAgICAgY3R4LmZvbnQgPSBgNTZweCBJbnRlcmA7XHJcbiAgICAgICAgICAgICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICAgICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoJ/CfkY0nLCBwbGF5ZXIucG9zLngsIHBsYXllci5wb3MueSAtIHBsYXllci5zYXQuciAtIDUwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvLnRvdWNoaW5nUGxhdGZvcm1lciA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvKnJlc3RyaWN0QXhpcyovXHJcbiAgICAobykgPT4ge1xyXG4gICAgICAgIGlmKG8uYXhpc1NwZWVkTXVsdFggPCAwICYmIG8uYXhpc1NwZWVkTXVsdFkgPCAwKXtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JlZCc7XHJcbiAgICAgICAgfSBlbHNlIGlmKG8uYXhpc1NwZWVkTXVsdFggPCAwIHx8IG8uYXhpc1NwZWVkTXVsdFkgPCAwKXtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyNmZjY5NjknO1xyXG4gICAgICAgIH0gZWxzZSBpZihvLmF4aXNTcGVlZE11bHRZID4gMSB8fCBvLmF4aXNTcGVlZE11bHRZID4gMSl7XHJcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjYzVjNTAwJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnd2hpdGUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHgubGluZVdpZHRoID0gNDtcclxuICAgICAgICBjdHgudG9GaWxsID0gZmFsc2U7XHJcbiAgICAgICAgY3R4LnRvU3Ryb2tlID0gdHJ1ZTtcclxuICAgICAgICBjdHguY2xlYW5VcEZ1bmN0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMztcclxuICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBbdG9wTGVmdFgsIHRvcExlZnRZXSA9IGdlbmVyYXRlVG9wTGVmdENvb3JkaW5hdGVzKG8pO1xyXG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKHRvcExlZnRYICsgby5kaW1lbnNpb25zLnggLyAyLCB0b3BMZWZ0WSArIG8uZGltZW5zaW9ucy55IC8gMik7XHJcblxyXG4gICAgICAgICAgICBjdHguY2xpcCgpO1xyXG5cclxuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gby5heGlzU3BlZWRNdWx0WCA+IDEgPyAwLjggOiAoTWF0aC5tYXgoMC4zLG8uYXhpc1NwZWVkTXVsdFggPCAwID8gLW8uYXhpc1NwZWVkTXVsdFggOiAxLW8uYXhpc1NwZWVkTXVsdFgpKTtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gby5heGlzU3BlZWRNdWx0WCA8IDAgPyAncmVkJyA6IChvLmF4aXNTcGVlZE11bHRYID4gMSA/ICcjYzVjNTAwJyA6ICd3aGl0ZScpO1xyXG5cclxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBmb3IobGV0IHggPSAtby5kaW1lbnNpb25zLngvMjsgeCA8PSBvLmRpbWVuc2lvbnMueC8yOyB4ICs9IDUwKXtcclxuICAgICAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCwtby5kaW1lbnNpb25zLnkvMik7XHJcbiAgICAgICAgICAgICAgICBjdHgubGluZVRvKHgsby5kaW1lbnNpb25zLnkvMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcblxyXG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBvLmF4aXNTcGVlZE11bHRZID4gMSA/IDAuOCA6IChNYXRoLm1heCgwLjMsby5heGlzU3BlZWRNdWx0WSA8IDAgPyAtby5heGlzU3BlZWRNdWx0WSA6IDEtby5heGlzU3BlZWRNdWx0WSkpO1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBvLmF4aXNTcGVlZE11bHRZIDwgMCA/ICdyZWQnIDogKG8uYXhpc1NwZWVkTXVsdFkgPiAxID8gJyNjNWM1MDAnIDogJ3doaXRlJyk7XHJcblxyXG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGZvcihsZXQgeSA9IC1vLmRpbWVuc2lvbnMueS8yOyB5IDw9IG8uZGltZW5zaW9ucy55LzI7IHkgKz0gNTApe1xyXG4gICAgICAgICAgICAgICAgY3R4Lm1vdmVUbygtby5kaW1lbnNpb25zLngvMix5KTtcclxuICAgICAgICAgICAgICAgIGN0eC5saW5lVG8oby5kaW1lbnNpb25zLngvMix5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuXHJcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8qc25hcEdyaWQqL1xyXG4gICAgKG8pID0+IHtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwMDAwOGEnO1xyXG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuMTtcclxuICAgICAgICBjdHgudG9DbGlwID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgY3R4LmNsZWFuVXBGdW5jdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgY3R4LmNsaXAoKTtcclxuXHJcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGJsZW5kQ29sb3IoJyMwZjAwMDAnLCAnIzAwMDAwMCcsIE1hdGgubWF4KDAsby5zbmFwQ29vbGRvd24pIC8gby5tYXhTbmFwQ29vbGRvd24pO1xyXG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gNDtcclxuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMC4xNztcclxuXHJcbiAgICAgICAgICAgIGxldCBbbWlkZGxlWCwgbWlkZGxlWV0gPSBnZW5lcmF0ZVRvcExlZnRDb29yZGluYXRlcyhvKTtcclxuICAgICAgICAgICAgbWlkZGxlWCArPSBvLmRpbWVuc2lvbnMueCAvIDI7IG1pZGRsZVkgKz0gby5kaW1lbnNpb25zLnkgLyAyO1xyXG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKG1pZGRsZVgsIG1pZGRsZVkpO1xyXG5cclxuICAgICAgICAgICAgby5zbmFwUm90YXRlTW92ZW1lbnRFeHBhbnNpb24gPSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlOiAoTWF0aC5tYXgoby5kaW1lbnNpb25zLngsby5kaW1lbnNpb25zLnkpKioyL01hdGguc3FydChvLmRpbWVuc2lvbnMueCoqMitvLmRpbWVuc2lvbnMueSoqMikpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgby5zbmFwUm90YXRlTW92ZW1lbnRFeHBhbnNpb24ueCA9IE1hdGguY2VpbChvLnNuYXBSb3RhdGVNb3ZlbWVudEV4cGFuc2lvbi5iYXNlL28uc25hcERpc3RhbmNlWCsxKSpvLnNuYXBEaXN0YW5jZVg7XHJcbiAgICAgICAgICAgIG8uc25hcFJvdGF0ZU1vdmVtZW50RXhwYW5zaW9uLnkgPSBNYXRoLmNlaWwoby5zbmFwUm90YXRlTW92ZW1lbnRFeHBhbnNpb24uYmFzZS9vLnNuYXBEaXN0YW5jZVkrMSkqby5zbmFwRGlzdGFuY2VZO1xyXG5cclxuICAgICAgICAgICAgY3R4LnJvdGF0ZShvLnNuYXBBbmdsZSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgcmVuZGVyUGF0aCA9IG5ldyBQYXRoMkQoKTtcclxuICAgICAgICAgICAgaWYoby50b1NuYXBYID09PSB0cnVlKXtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgeCA9IC1vLnNuYXBSb3RhdGVNb3ZlbWVudEV4cGFuc2lvbi54OyB4IDw9IG8uc25hcFJvdGF0ZU1vdmVtZW50RXhwYW5zaW9uLng7IHggKz0gby5zbmFwRGlzdGFuY2VYKXtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJQYXRoLnJlY3QoLTEwICsgeCwgLW8uc25hcFJvdGF0ZU1vdmVtZW50RXhwYW5zaW9uLnggLSAxMCwgMjAsIDIgKiBvLnNuYXBSb3RhdGVNb3ZlbWVudEV4cGFuc2lvbi54ICsgMjApO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGN0eC5tb3ZlVG8oeCwtby5zbmFwUm90YXRlTW92ZW1lbnRFeHBhbnNpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGN0eC5saW5lVG8oeCxvLnNuYXBSb3RhdGVNb3ZlbWVudEV4cGFuc2lvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKG8udG9TbmFwWSA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IHkgPSAtby5zbmFwUm90YXRlTW92ZW1lbnRFeHBhbnNpb24ueTsgeSA8PSBvLnNuYXBSb3RhdGVNb3ZlbWVudEV4cGFuc2lvbi55OyB5ICs9IG8uc25hcERpc3RhbmNlWSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyUGF0aC5yZWN0KC1vLnNuYXBSb3RhdGVNb3ZlbWVudEV4cGFuc2lvbi55IC0gMTAsIC0xMCArIHksIDIgKiBvLnNuYXBSb3RhdGVNb3ZlbWVudEV4cGFuc2lvbi55ICsgMjAsIDIwKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjdHgubW92ZVRvKC1vLnNuYXBSb3RhdGVNb3ZlbWVudEV4cGFuc2lvbix5KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjdHgubGluZVRvKG8uc25hcFJvdGF0ZU1vdmVtZW50RXhwYW5zaW9uLHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN0eC5zdHJva2UocmVuZGVyUGF0aCk7XHJcbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIGRyYXdpbmcgc25hcE1hZ25pdHVkZSBpbmRpY2F0b3JcclxuICAgICAgICAgICAgY29uc3QgcGxheWVyID0gd2luZG93LnBsYXllcnNbd2luZG93LnNlbGZJZF07XHJcbiAgICAgICAgICAgIGlmKHBsYXllci5wb3MueCArIG8uc25hcE1hZ25pdHVkZSA8IG1pZGRsZVggLSBvLmRpbWVuc2lvbnMueC8yIHx8IHBsYXllci5wb3MueCAtIG8uc25hcE1hZ25pdHVkZSA+IG1pZGRsZVggKyBvLmRpbWVuc2lvbnMueC8yIHx8IHBsYXllci5wb3MueSArIG8uc25hcE1hZ25pdHVkZSA8IG1pZGRsZVkgLSBvLmRpbWVuc2lvbnMueS8yIHx8IHBsYXllci5wb3MueSAtIG8uc25hcE1hZ25pdHVkZSA+IG1pZGRsZVkgKyBvLmRpbWVuc2lvbnMueS8yKXtcclxuICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ2dyZXknO1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcclxuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMC4yO1xyXG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgICAgICAgICBjdHguY2xpcChyZW5kZXJQYXRoKTtcclxuXHJcbiAgICAgICAgICAgIGN0eC5yb3RhdGUoLW8uc25hcEFuZ2xlKTtcclxuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZSgtbWlkZGxlWCwtbWlkZGxlWSk7XHJcblxyXG4gICAgICAgICAgICBjdHguYXJjKHBsYXllci5wb3MueCwgcGxheWVyLnBvcy55LCBvLnNuYXBNYWduaXR1ZGUsIDAsIE1hdGguUEkqMik7XHJcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG5cclxuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLyp0aW1lVHJhcCovXHJcbiAgICAobykgPT4ge1xyXG4gICAgICAgIGxldCBbbWlkZGxlWCwgbWlkZGxlWV0gPSBnZW5lcmF0ZVRvcExlZnRDb29yZGluYXRlcyhvKTtcclxuICAgICAgICBtaWRkbGVYICs9IG8uZGltZW5zaW9ucy54IC8gMjsgbWlkZGxlWSArPSBvLmRpbWVuc2lvbnMueS8yO1xyXG5cclxuICAgICAgICBsZXQgZ3JkID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KG1pZGRsZVgsIG1pZGRsZVksIDAsIG1pZGRsZVgsIG1pZGRsZVksIE1hdGgubWluKDEwMCwgKG8uZGltZW5zaW9ucy54ICsgby5kaW1lbnNpb25zLnkpLzMpKTtcclxuXHJcbiAgICAgICAgaWYoby50aW1lVHJhcFRvS2lsbCA9PT0gZmFsc2Upe1xyXG4gICAgICAgICAgICBncmQuYWRkQ29sb3JTdG9wKDAsIFwicmdiYSgxOTksMTk5LDE5OSwwKVwiKTtcclxuICAgICAgICAgICAgZ3JkLmFkZENvbG9yU3RvcCgxLCBcInJnYmEoMTk5LDE5OSwxOTksMSlcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZ3JkLmFkZENvbG9yU3RvcCgwLCBcInJnYmEoMTk5LDAsMCwwKVwiKTtcclxuICAgICAgICAgICAgZ3JkLmFkZENvbG9yU3RvcCgxLCBcInJnYmEoMTk5LDAsMCwxKVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBncmQ7XHJcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gTWF0aC5tYXgoMC4xMiwgMC41IC0gby50aW1lVHJhcFRpbWUgLyBvLnRpbWVUcmFwTWF4VGltZSAvIDIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGN0eC5jbGVhblVwRnVuY3Rpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IE1hdGgubWF4KDAuMywgby50aW1lVHJhcFRpbWUgLyBvLnRpbWVUcmFwTWF4VGltZSAvIDMpO1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcclxuICAgICAgICAgICAgY3R4LmZvbnQgPSBgJHtNYXRoLm1pbihvLmRpbWVuc2lvbnMueCwgby5kaW1lbnNpb25zLnkpLzJ9cHggSW50ZXJgO1xyXG4gICAgICAgICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcclxuXHJcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChvLnRpbWVUcmFwVG9TaG93VGVudGggPT09IHRydWUgPyBNYXRoLnJvdW5kKG8udGltZVRyYXBUaW1lLzEwMDAgKiAxMCkgLyAxMCA6IE1hdGgucm91bmQoby50aW1lVHJhcFRpbWUvMTAwMCksIG1pZGRsZVgsIG1pZGRsZVkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvKmNoYW5nZVNpemUqL1xyXG4gICAgKG8pID0+IHtcclxuICAgICAgICBpZihvLnNpemVDaGFuZ2VQZXJtYW5lbnQgPT09IHRydWUpe1xyXG4gICAgICAgICAgICBjdHgudG9TdHJva2UgPSB0cnVlO1xyXG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMTA7XHJcbiAgICAgICAgICAgIGN0eC5saW5lRGFzaE9mZnNldCA9IC13aW5kb3cudGltZSAvIDE1O1xyXG4gICAgICAgICAgICBpZiAoby5zaXplTXVsdCA+IDEpe1xyXG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyMwZTMwYWQnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyMxYzE4NTInO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN0eC5zZXRMaW5lRGFzaChbMzAsIDQwXSk7XHJcblxyXG4gICAgICAgICAgICBjdHguY2xlYW5VcEZ1bmN0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY3R4LnNldExpbmVEYXNoKFtdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZihvLnBlcm1hbmVudFNpemVDaGFuZ2VEb25lID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGN0eC50b0ZpbGwgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoby5zaXplTXVsdCA+IDEpe1xyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMGUzMGFkJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzFjMTg1Mic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuMjg7XHJcbiAgICB9LFxyXG4gICAgLypjaGFuZ2VTcGVlZCovXHJcbiAgICAobykgPT4ge1xyXG4gICAgICAgIGlmKG8uc3BlZWRDaGFuZ2VQZXJtYW5lbnQgPT09IHRydWUpe1xyXG4gICAgICAgICAgICBjdHgudG9TdHJva2UgPSB0cnVlO1xyXG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMTA7XHJcbiAgICAgICAgICAgIGN0eC5saW5lRGFzaE9mZnNldCA9IC13aW5kb3cudGltZSAvIDE1O1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnI2ViYTUwMCc7XHJcbiAgICAgICAgICAgIGN0eC5zZXRMaW5lRGFzaChbMzAsIDQwXSk7XHJcblxyXG4gICAgICAgICAgICBjdHguY2xlYW5VcEZ1bmN0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY3R4LnNldExpbmVEYXNoKFtdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoby5wZXJtYW5lbnRTcGVlZENoYW5nZURvbmUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgY3R4LnRvRmlsbCA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2ViYTUwMCc7XHJcbiAgICAgICAgICAgIGN0eC50b1N0cm9rZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAzO1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBjdHguZmlsbFN0eWxlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAwLjI1O1xyXG5cclxuICAgICAgICAvLyBwZXJtYW5lbnRzIHNob3VsZCBkaXNzYXBlYXIgdXBvbiB1c2UgaSB0aGlua1xyXG4gICAgfSxcclxuICAgIC8qc29saWRDb2xvciovXHJcbiAgICAobykgPT4ge1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBvLmhleDtcclxuICAgICAgICBpZihvLmlzVGV4dCA9PT0gdHJ1ZSljdHguZ2xvYmFsQWxwaGEgPSAwO1xyXG4gICAgfSxcclxuICAgIC8qZGVjb3JhdGlvbiovXHJcbiAgICAobykgPT4ge1xyXG4gICAgICAgIGN0eC50b0ZpbGwgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgZGVjb0ltZyA9IGRlY29yYXRpb25JbWdzW28uZGVjb0ZpbGVQYXRoXTtcclxuICAgICAgICBpZihkZWNvSW1nID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBkZWNvcmF0aW9uSW1nc1tvLmRlY29GaWxlUGF0aF0gPSAnbG9hZGluZyc7XHJcbiAgICAgICAgICAgIGxldCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgaWYoby5kZWNvRmlsZVBhdGguc2xpY2UoMCw0KSA9PT0gJ2h0dHAnKXtcclxuICAgICAgICAgICAgICAgIGltZy5zcmMgPSBvLmRlY29GaWxlUGF0aDtcclxuICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVjb3JhdGlvbkltZ3Nbby5kZWNvRmlsZVBhdGhdID0gaW1nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYoZW52aXJvbm1lbnQgPT09ICdlZGl0b3InKXtcclxuICAgICAgICAgICAgICAgICAgICBpbXBvcnQoYC4vZ2Z4L2RlY29yYXRpb25zLyR7by5kZWNvRmlsZVBhdGh9YCkudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IGRhdGEuZGVmYXVsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVjb3JhdGlvbkltZ3Nbby5kZWNvRmlsZVBhdGhdID0gaW1nO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gYC4vZ2Z4L2RlY29yYXRpb25zLyR7by5kZWNvRmlsZVBhdGh9YDtcclxuICAgICAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNvcmF0aW9uSW1nc1tvLmRlY29GaWxlUGF0aF0gPSBpbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IGVsc2UgaWYoZGVjb0ltZyA9PT0gJ2xvYWRpbmcnKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBbbWlkZGxlWCwgbWlkZGxlWV0gPSBnZW5lcmF0ZVRvcExlZnRDb29yZGluYXRlcyhvKTtcclxuICAgICAgICBtaWRkbGVYICs9IG8uZGltZW5zaW9ucy54IC8gMjtcclxuICAgICAgICBtaWRkbGVZICs9IG8uZGltZW5zaW9ucy55IC8gMjtcclxuICAgICAgICBjb25zdCBtYXhEaW1lbnNpb24gPSBNYXRoLm1heChvLmRpbWVuc2lvbnMueCwgby5kaW1lbnNpb25zLnkpO1xyXG5cclxuICAgICAgICBjdHgudHJhbnNsYXRlKG1pZGRsZVgsIG1pZGRsZVkpO1xyXG4gICAgICAgIGlmKG8ucm90YXRpb24gIT09IHVuZGVmaW5lZCkgY3R4LnJvdGF0ZShvLnJvdGF0aW9uKTtcclxuICAgICAgICBjdHguZHJhd0ltYWdlKGRlY29JbWcsIC1tYXhEaW1lbnNpb24gLyAyLCAtbWF4RGltZW5zaW9uIC8gMiwgbWF4RGltZW5zaW9uLCBtYXhEaW1lbnNpb24pO1xyXG4gICAgICAgIGlmKG8ucm90YXRpb24gIT09IHVuZGVmaW5lZCkgY3R4LnJvdGF0ZSgtby5yb3RhdGlvbik7XHJcbiAgICAgICAgY3R4LnRyYW5zbGF0ZSgtbWlkZGxlWCwgLW1pZGRsZVkpO1xyXG4gICAgfSxcclxuICAgIC8qY2hhbmdlTWFwKi9cclxuICAgIChvKSA9PiB7XHJcbiAgICAgICAgLy8gZGlmZmljdWx0eSBpbWFnZXM/XHJcbiAgICAgICAgbGV0IFttaWRkbGVYLCB0b3BZXSA9IGdlbmVyYXRlVG9wTGVmdENvb3JkaW5hdGVzKG8pO1xyXG4gICAgICAgIG1pZGRsZVggKz0gby5kaW1lbnNpb25zLnggLyAyO1xyXG4gICAgICAgIGN0eC5mb250ID0gYCR7by5kaW1lbnNpb25zLnggLyAzLjV9cHggSW50ZXJgO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KFxyXG4gICAgICAgICAgICBvLm1hcE5hbWUsXHJcbiAgICAgICAgICAgIG1pZGRsZVgsXHJcbiAgICAgICAgICAgIHRvcFkgLSBvLmRpbWVuc2lvbnMueSAvIDRcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gYGhzbCgke3dpbmRvdy50aW1lLzEyfSw1MCUsNTAlKWA7XHJcbiAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gY3R4LmZpbGxTdHlsZTtcclxuICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDE1O1xyXG4gICAgICAgIGN0eC5jbGVhblVwRnVuY3Rpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLyp0b3JuYWRvKi9cclxuICAgIChvKSA9PiB7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjYzBiYmM5JztcclxuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAwLjI1O1xyXG4gICAgfVxyXG5dXHJcblxyXG4vLyBhbiBvYnN0YWNsZSBpcyBhbiBFQ1NcclxuY29uc3Qgb2JzdGFjbGVzID0gd2luZG93Lm9ic3RhY2xlcyA9IFtdO1xyXG5cclxud2luZG93LnNwYXduUG9zaXRpb24gPSB7eDogMTAwLCB5OiAxNTAwfTtcclxuLy8gYSBwbGF5ZXIgaXMgYWxzbyBhbiBlY3Ncclxud2luZG93LmNyZWF0ZVBsYXllciA9ICgpID0+IHtcclxuICAgIGNyZWF0ZSgwLypjaXJjbGUqLywgW10sIFtdLCAvKm5vIHNpbXVsYXRlLyBlZmZlY3RzKi8ge3g6IHdpbmRvdy5zcGF3blBvc2l0aW9uLngsIHk6IHdpbmRvdy5zcGF3blBvc2l0aW9uLnksIHI6IC8qMjQuNSovNDkuNX0pXHJcbiAgICBjb25zdCBwbGF5ZXIgPSBvYnN0YWNsZXMucG9wKCk7XHJcbiAgICBwbGF5ZXIuYXhpc1NwZWVkTXVsdFggPSBwbGF5ZXIuYXhpc1NwZWVkTXVsdFkgPSAxO1xyXG4gICAgcGxheWVyLnRvdWNoaW5nTm9ybWFsSW5kZXhlcyA9IFtdO1xyXG4gICAgcGxheWVyLmxhc3RUb3VjaGluZ05vcm1hbEluZGV4ZXMgPSBbXTtcclxuICAgIHBsYXllci5yZW5kZXJSYWRpdXMgPSBwbGF5ZXIubGFzdEFsaXZlUmFkaXVzID0gcGxheWVyLnNhdC5yO1xyXG4gICAgcGxheWVyLnh2ID0gcGxheWVyLnl2ID0gcGxheWVyLnhhID0gcGxheWVyLnlhID0gMDtcclxuICAgIHBsYXllci5zcGVlZCA9IHBsYXllci5iYXNlU3BlZWQgPSAwLjQzO1xyXG4gICAgcGxheWVyLmRlYWQgPSBmYWxzZTtcclxuICAgIHBsYXllci5vblNhZmUgPSBmYWxzZTtcclxuICAgIHBsYXllci50b3VjaGluZ1dhbGwgPSBmYWxzZTtcclxuICAgIHBsYXllci5zdG9wRm9yY2VzID0gZmFsc2U7XHJcbiAgICBwbGF5ZXIuZm9yY2VzID0gW107XHJcbiAgICBwbGF5ZXIuaWQgPSB1bmRlZmluZWQ7XHJcbiAgICBwbGF5ZXIuZGV2ID0gdHJ1ZTsgcGxheWVyLmdvZCA9IGZhbHNlO1xyXG4gICAgcGxheWVyLmZyaWN0aW9uID0gMC40O1xyXG4gICAgcmV0dXJuIHBsYXllcjtcclxufVxyXG5cclxud2luZG93LnBsYXllcnMgPSBbXTtcclxuXHJcbmlmKHdpbmRvdy5pc0V4Q2xpZW50ICE9PSB0cnVlKSB7d2luZG93LnBsYXllcnMucHVzaCh3aW5kb3cuY3JlYXRlUGxheWVyKCkpOyB3aW5kb3cuc2VsZklkID0gMDsgd2luZG93Lm1hcERpbWVuc2lvbnMgPSBlbnZpcm9ubWVudCA9PT0gJ3NlcnZlcicgPyB7eDoyMDAwLHk6MjAwMH0gOiB7eDo5MDAseToxNjAwfX1cclxuaWYod2luZG93LmlzRXhDbGllbnQgPT09IHRydWUgfHwgZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInKSB3aW5kb3cubWFwRGltZW5zaW9ucyA9IHt4OiAyMDAwLCB5OiAyMDAwfTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNpbXVsYXRlOyIsIndpbmRvdy5tb3VzZSA9IHtcclxuICAgIHNjcmVlbjoge1xyXG4gICAgICAgIHg6IC0xLFxyXG4gICAgICAgIHk6IC0xXHJcbiAgICB9LFxyXG4gICAgd29ybGQ6IHtcclxuICAgICAgICB4OiAtMSxcclxuICAgICAgICB5OiAtMVxyXG4gICAgfVxyXG59XHJcblxyXG53aW5kb3cubW91c2VYID0gLTE7XHJcbndpbmRvdy5tb3VzZVkgPSAtMTtcclxud2luZG93LnNjcm9sbExvY2tlZCA9IGZhbHNlO1xyXG53aW5kb3cubW91c2VEb3duRnVuY3Rpb25zID0gW107XHJcbndpbmRvdy5tb3VzZU1vdmVGdW5jdGlvbnMgPSBbXTtcclxud2luZG93Lm1vdXNlVXBGdW5jdGlvbnMgPSBbXTtcclxud2luZG93Lm1vdXNlT3V0ID0gZmFsc2U7XHJcbndpbmRvdy5wYWdlWCA9IC0xO1xyXG53aW5kb3cucGFnZVkgPSAtMTtcclxuXHJcbndpbmRvdy5kcmFnZ2luZyA9IGZhbHNlO1xyXG5cclxud2luZG93Lm9ubW91c2Vkb3duID0gKGUpID0+IHt9XHJcblxyXG53aW5kb3cub25tb3VzZW1vdmUgPSAoZSkgPT4ge31cclxuXHJcbndpbmRvdy5vbm1vdXNldXAgPSAoKSA9PiB7fVxyXG5cclxud2luZG93Lm9uY29udGV4dG1lbnUgPSAoZSkgPT4geyByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpOyB9O1xyXG5cclxuY29uc3QgQ29udHJvbHMgPSB7XHJcbiAgICBLZXlXOiAndXAnLFxyXG4gICAgS2V5UzogJ2Rvd24nLFxyXG4gICAgS2V5QTogJ2xlZnQnLFxyXG4gICAgS2V5RDogJ3JpZ2h0JyxcclxuICAgIEFycm93VXA6ICd1cCcsXHJcbiAgICBBcnJvd0Rvd246ICdkb3duJyxcclxuICAgIEFycm93TGVmdDogJ2xlZnQnLFxyXG4gICAgQXJyb3dSaWdodDogJ3JpZ2h0JyxcclxuICAgIFNoaWZ0TGVmdDogJ3NoaWZ0JyxcclxuICAgIFNoaWZ0UmlnaHQ6ICdzaGlmdCcsXHJcbn07XHJcblxyXG53aW5kb3cuaW5wdXQgPSB7XHJcbiAgICB1cDogZmFsc2UsXHJcbiAgICBkb3duOiBmYWxzZSxcclxuICAgIGxlZnQ6IGZhbHNlLFxyXG4gICAgcmlnaHQ6IGZhbHNlLFxyXG4gICAgc2hpZnQ6IGZhbHNlXHJcbn07XHJcblxyXG5sZXQgY2hhdE9wZW4gPSBmYWxzZSwgemVuTW9kZSA9IGZhbHNlO1xyXG53aW5kb3cub25rZXlkb3duID0gaGFuZGxlS2V5O1xyXG53aW5kb3cub25rZXl1cCA9IGhhbmRsZUtleTtcclxuXHJcbmltcG9ydCBVdGlscyBmcm9tICcuLi9jbGllbnQvdXRpbHMuanMnO1xyXG5jb25zdCB7ZW5jb2RlQXRQb3NpdGlvbn0gPSBVdGlscztcclxuXHJcbmNvbnN0IGNoYXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdCcpO1xyXG5jb25zdCBjaGF0RGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXREaXYnKTtcclxuY29uc3QgdmlzQ2hhdERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWRpdicpO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlS2V5KGUpe1xyXG4gICAgaWYod2luZG93LnN0YXRlICE9PSAnZ2FtZScpIHJldHVybjtcclxuICAgIGlmKGNoYXRPcGVuKXtcclxuICAgICAgICBpZihlLnR5cGUgPT09ICdrZXlkb3duJyAmJiBlLmNvZGUgPT09ICdFbnRlcicpe1xyXG4gICAgICAgICAgICBsZXQgbXNnID0gY2hhdC52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgICAgIGlmKG1zZyA9PT0gJy9yZXNldCcpe1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWFwTmFtZSA9ICdodWInO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYnVmID0gbmV3IFVpbnQ4QXJyYXkoMSArIG1hcE5hbWUubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIGJ1ZlswXSA9IDI7IC8vIHR5cGUgMiAtIGNoYW5nZSBtYXBcclxuICAgICAgICAgICAgICAgIGVuY29kZUF0UG9zaXRpb24obWFwTmFtZSwgYnVmLCAxKTtcclxuICAgICAgICAgICAgICAgIHNlbmQoYnVmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKG1zZy5zbGljZSgwLDYpID09PSAnL3NjYWxlJyl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBudW0gPSBwYXJzZUZsb2F0KG1zZy5zbGljZSg3KSk7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VDYW1lcmFTY2FsZShudW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYobXNnLmxlbmd0aCAhPT0gMCl7XHJcbiAgICAgICAgICAgICAgICBtc2cgPSB3aW5kb3cudXNlcm5hbWUgKyAnOiAnICsgbXNnO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYnVmID0gbmV3IFVpbnQ4QXJyYXkobXNnLmxlbmd0aCArIDIpO1xyXG4gICAgICAgICAgICAgICAgYnVmWzBdID0gNzsvLyB0eXBlIDAgLSBzZXQgdXNlcm5hbWUgYW5kIGpvaW4gZ2FtZVxyXG4gICAgICAgICAgICAgICAgLy8gWydub3JtYWwnLCAnc3lzdGVtJywgJ2RldicsICdndWVzdCddXHJcbiAgICAgICAgICAgICAgICBpZih3aW5kb3cucGxheWVyc1t3aW5kb3cuc2VsZklkXS5kZXYgPT09IHRydWUpIGJ1ZlsxXSA9IDI7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKHdpbmRvdy5wbGF5ZXJzW3dpbmRvdy5zZWxmSWRdLmd1ZXN0ID09PSB0cnVlKSBidWZbMV0gPSAzOyBcclxuICAgICAgICAgICAgICAgIGVuY29kZUF0UG9zaXRpb24obXNnLCBidWYsIDIpO1xyXG4gICAgICAgICAgICAgICAgc2VuZChidWYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoYXQudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgY2hhdC5ibHVyKCk7XHJcbiAgICAgICAgICAgIGNoYXREaXYuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIGNoYXRPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRPRE9cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGUucmVwZWF0KSByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBpZihlLnR5cGUgPT09ICdrZXlkb3duJyl7XHJcbiAgICAgICAgICAgIGlmKGUuY29kZSA9PT0gJ0tleU8nICYmIHdpbmRvdy5wbGF5ZXJzW3dpbmRvdy5zZWxmSWRdLmRldiA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cucGxheWVyc1t3aW5kb3cuc2VsZklkXS5nb2QgPSAhd2luZG93LnBsYXllcnNbd2luZG93LnNlbGZJZF0uZ29kO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKGUuY29kZSA9PT0gJ0tleVInICYmIHdpbmRvdy5wbGF5ZXJzW3dpbmRvdy5zZWxmSWRdLmRlYWQgPT09IHRydWUpe1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnJlc3Bhd25QbGF5ZXIoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKGUuY29kZSA9PT0gJ0VudGVyJyl7XHJcbiAgICAgICAgICAgICAgICBjaGF0T3BlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjaGF0RGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgY2hhdC5mb2N1cygpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUuY29kZSA9PT0gJ0tleVonKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXplbk1vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGF0LmJsdXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZpc0NoYXREaXYuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNDaGF0RGl2LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAoIXJlZi5sYi5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICByZWYubGIuY2xhc3NMaXN0LmFkZCgnaGlkZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZpc0NoYXREaXYuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNDaGF0RGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNDaGF0RGl2LnNjcm9sbFRvcCA9IHZpc0NoYXREaXYuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAocmVmLmxiLmNsYXNzTGlzdC5jb250YWlucygnaGlkZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJlZi5sYi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgemVuTW9kZSA9ICF6ZW5Nb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoQ29udHJvbHNbZS5jb2RlXSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgd2luZG93LmlucHV0W0NvbnRyb2xzW2UuY29kZV1dID0gZS50eXBlID09PSAna2V5ZG93bic7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJ3aW5kb3cuaXNFeENsaWVudCA9IHRydWU7XHJcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xyXG5cclxuLy8gaW5pdCByZW5kZXJpbmdcclxuaW1wb3J0IHJlbmRlciBmcm9tICcuL3JlbmRlci5qcyc7XHJcblxyXG4vLyBoYW5kbGUgY2xpZW50LXNlcnZlciBjb21tdW5pY2F0aW9uXHJcbmltcG9ydCAnLi9uZXR3b3JraW5nLmpzJztcclxuXHJcbi8vIGdhbWUgc3R1ZmZcclxuaW1wb3J0IHNpbXVsYXRlIGZyb20gJy4uL2NsaWVudC9jb21wb25lbnRzLmpzJztcclxuXHJcbi8vIGtleWJvYXJkIGlucHV0XHJcbmltcG9ydCAnLi9pbnB1dC5qcyc7XHJcblxyXG4vLyB1c2VkIGZvciBlbmNvZGluZyBtZXNzYWdlcyBzZW50IHRvIHRoZSBzZXJ2ZXJcclxuaW1wb3J0IFV0aWxzIGZyb20gJy4uL2NsaWVudC91dGlscy5qcyc7XHJcbmNvbnN0IHtlbmNvZGVBdFBvc2l0aW9ufSA9IFV0aWxzO1xyXG5cclxuLy8gam9pbmluZyBnYW1lXHJcbmNvbnN0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudScpO1xyXG5jb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXlGb3JtJyk7XHJcbmNvbnN0IHVzZXJuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmFtZUlucHV0Jyk7XHJcbmNvbnN0IGd1aSA9IHdpbmRvdy5ndWkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3VpJyk7XHJcbndpbmRvdy5zdGF0ZSA9ICdtZW51JztcclxuZm9ybS5vbnN1Ym1pdCA9IChlKSA9PiB7XHJcbiAgICB3aW5kb3cudXNlcm5hbWUgPSB1c2VybmFtZUlucHV0LnZhbHVlO1xyXG5cclxuICAgIGNvbnN0IGJ1ZiA9IG5ldyBVaW50OEFycmF5KHdpbmRvdy51c2VybmFtZS5sZW5ndGggKyAxKTtcclxuICAgIGJ1ZlswXSA9IDA7Ly8gdHlwZSAwIC0gc2V0IHVzZXJuYW1lIGFuZCBqb2luIGdhbWVcclxuICAgIGVuY29kZUF0UG9zaXRpb24od2luZG93LnVzZXJuYW1lLCBidWYsIDEpO1xyXG4gICAgd2luZG93LnNlbmQoYnVmKTtcclxuICAgIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7XHJcbn1cclxuXHJcbndpbmRvdy5zdGFydEdhbWUgPSAoKSA9PiB7XHJcbiAgICB3aW5kb3cuc3RhdGUgPSAnZ2FtZSc7XHJcbiAgICB1c2VybmFtZUlucHV0LnZhbHVlID0gJyc7XHJcbiAgICBtZW51LmNsYXNzTGlzdC5hZGQoJ2ZhZGUtb3V0Jyk7XHJcbiAgICBndWkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICBtZW51Lm9uYW5pbWF0aW9uZW5kID0gKCkgPT4ge1xyXG4gICAgICAgIHVzZXJuYW1lSW5wdXQuYmx1cigpO1xyXG4gICAgICAgIG1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnZmFkZS1vdXQnKTtcclxuICAgICAgICBtZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgfVxyXG4gICAgbGFzdFRpbWUgPSBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgIHdpbmRvdy5yZXNwYXduUGxheWVyKCk7XHJcbiAgICBydW4oKTtcclxufVxyXG5cclxuLy8gZ2FtZWxvb3BcclxubGV0IGxhc3RUaW1lLCBhY2N1bSwgb2ZmdGFiVGltZTtcclxuYWNjdW0gPSB3aW5kb3cuZnJhbWVzID0gb2ZmdGFiVGltZSA9IDA7XHJcbndpbmRvdy50aW1lID0gd2luZG93LmR0ID0gd2luZG93Lm5vdyA9IDA7XHJcbi8vIGNvbnN0IEZSQU1FX1RJTUUgPSAxMDAwIC8gNjA7XHJcbmZ1bmN0aW9uIHJ1bigpe1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJ1bik7XHJcblxyXG4gICAgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICBkdCA9IG5vdyAtIGxhc3RUaW1lO1xyXG4gICAgYWNjdW0gKz0gZHQ7XHJcbiAgICB3aW5kb3cudGltZSArPSBkdDtcclxuICAgIGxhc3RUaW1lID0gbm93O1xyXG5cclxuICAgIHNpbXVsYXRlKCk7XHJcblxyXG4gICAgLy8gaWYoZHQgPiAyMDAwKSBvZmZ0YWJUaW1lICs9IGR0O1xyXG4gICAgXHJcbiAgICAvLyAvLyBpZiB3ZSdyZSBub3QgYWhlYWRcclxuICAgIC8vIGlmKGFjY3VtID4gMCl7XHJcbiAgICAvLyAgICAgLy8gc2ltdWxhdGUgdGhlIGZyYW1lIGFzIHVzdWFsXHJcbiAgICAvLyAgICAgd2luZG93LmZyYW1lcysrO1xyXG4gICAgLy8gICAgIGFjY3VtIC09IEZSQU1FX1RJTUU7XHJcbiAgICAvLyAgICAgc2ltdWxhdGUoKTtcclxuICAgIC8vIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgLy8gd2UgZG9uJ3Qgd2FudCB0byByZS1yZW5kZXIsIHdlIGhhdmUgbm8gaW50ZXJwb2xhdGlvbiEgU28ganVzdCB3YWl0IHVudGlsIG5leHQgZnJhbWUgaWdcclxuICAgIC8vICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocnVuKTtcclxuICAgIC8vICAgICByZXR1cm47XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJ1bik7XHJcblxyXG4gICAgLy8gLy8gaWYgd2UncmUgYmVoaW5kXHJcbiAgICAvLyBpZihhY2N1bSA+IEZSQU1FX1RJTUUpe1xyXG4gICAgLy8gICAgIC8vIGlmIHdlJ3JlIHRvbyBmYXIgYmVoaW5kIHRoZW4gZ2l2ZSB1cFxyXG4gICAgLy8gICAgIGlmKGFjY3VtID4gMjAwMCkgYWNjdW0gPSAwO1xyXG5cclxuICAgIC8vICAgICAvLyBvdGhlcndpc2Ugc2ltdWxhdGUgYW4gZXh0cmEgY2F0Y2gtdXAgdGlja1xyXG4gICAgLy8gICAgIGFjY3VtIC09IEZSQU1FX1RJTUU7XHJcbiAgICAvLyAgICAgc2ltdWxhdGUoKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBzZW5kVXBkYXRlUGFjaygpO1xyXG5cclxuICAgIHdpbmRvdy5yZW5kZXIoKTtcclxufVxyXG5cclxuY29uc3QgYnVmID0gbmV3IEFycmF5QnVmZmVyKDEyKTsvLyAxMiBieXRlcyA9IDMgZmxvYXRzLiBGaXJzdCBwb3Mgb2NjdXBpZWQgYnkgdWludCB0eXBlLCBzZWNvbmQgdHdvIGFyZSBwb3NpdGlvbiBmbG9hdHNcclxuY29uc3QgdXZpZXcgPSBuZXcgVWludDhBcnJheShidWYpO1xyXG51dmlld1swXSA9IDQ7Ly8gdHlwZSA0IC0gcGxheWVyIHggYW5kIHlcclxuY29uc3QgZnZpZXcgPSBuZXcgRmxvYXQzMkFycmF5KGJ1Zik7IFxyXG5mdW5jdGlvbiBzZW5kVXBkYXRlUGFjaygpe1xyXG4gICAgY29uc3QgcGxheWVyID0gd2luZG93LnBsYXllcnNbd2luZG93LnNlbGZJZF07XHJcbiAgICBmdmlld1sxXSA9IHBsYXllci5wb3MueDtcclxuICAgIGZ2aWV3WzJdID0gcGxheWVyLnBvcy55O1xyXG5cclxuICAgIHNlbmQoYnVmKTtcclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///76\n")}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(g){var n=__webpack_module_cache__[g];if(void 0!==n)return n.exports;var I=__webpack_module_cache__[g]={id:g,exports:{}};return __webpack_modules__[g](I,I.exports,__webpack_require__),I.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=g=>{var n=g&&g.__esModule?()=>g.default:()=>g;return __webpack_require__.d(n,{a:n}),n},getProto=Object.getPrototypeOf?g=>Object.getPrototypeOf(g):g=>g.__proto__,__webpack_require__.t=function(g,n){if(1&n&&(g=this(g)),8&n)return g;if("object"==typeof g&&g){if(4&n&&g.__esModule)return g;if(16&n&&"function"==typeof g.then)return g}var I=Object.create(null);__webpack_require__.r(I);var e={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var c=2&n&&g;"object"==typeof c&&!~leafPrototypes.indexOf(c);c=getProto(c))Object.getOwnPropertyNames(c).forEach((n=>e[n]=()=>g[n]));return e.default=()=>g,__webpack_require__.d(I,e),I},__webpack_require__.d=(g,n)=>{for(var I in n)__webpack_require__.o(n,I)&&!__webpack_require__.o(g,I)&&Object.defineProperty(g,I,{enumerable:!0,get:n[I]})},__webpack_require__.f={},__webpack_require__.e=g=>Promise.all(Object.keys(__webpack_require__.f).reduce(((n,I)=>(__webpack_require__.f[I](g,n),n)),[])),__webpack_require__.u=g=>g+".bundle.js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(g){if("object"==typeof window)return window}}(),__webpack_require__.o=(g,n)=>Object.prototype.hasOwnProperty.call(g,n),inProgress={},dataWebpackPrefix="omniserver:",__webpack_require__.l=(g,n,I,e)=>{if(inProgress[g])inProgress[g].push(n);else{var c,t;if(void 0!==I)for(var l=document.getElementsByTagName("script"),C=0;C<l.length;C++){var r=l[C];if(r.getAttribute("src")==g||r.getAttribute("data-webpack")==dataWebpackPrefix+I){c=r;break}}c||(t=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,__webpack_require__.nc&&c.setAttribute("nonce",__webpack_require__.nc),c.setAttribute("data-webpack",dataWebpackPrefix+I),c.src=g),inProgress[g]=[n];var A=(n,I)=>{c.onerror=c.onload=null,clearTimeout(i);var e=inProgress[g];if(delete inProgress[g],c.parentNode&&c.parentNode.removeChild(c),e&&e.forEach((g=>g(I))),n)return n(I)},i=setTimeout(A.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=A.bind(null,c.onerror),c.onload=A.bind(null,c.onload),t&&document.head.appendChild(c)}},__webpack_require__.r=g=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},(()=>{var g;__webpack_require__.g.importScripts&&(g=__webpack_require__.g.location+"");var n=__webpack_require__.g.document;if(!g&&n&&(n.currentScript&&(g=n.currentScript.src),!g)){var I=n.getElementsByTagName("script");if(I.length)for(var e=I.length-1;e>-1&&(!g||!/^http(s?):/.test(g));)g=I[e--].src}if(!g)throw new Error("Automatic publicPath is not supported in this browser");g=g.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=g})(),(()=>{var g={792:0};__webpack_require__.f.j=(n,I)=>{var e=__webpack_require__.o(g,n)?g[n]:void 0;if(0!==e)if(e)I.push(e[2]);else{var c=new Promise(((I,c)=>e=g[n]=[I,c]));I.push(e[2]=c);var t=__webpack_require__.p+__webpack_require__.u(n),l=new Error;__webpack_require__.l(t,(I=>{if(__webpack_require__.o(g,n)&&(0!==(e=g[n])&&(g[n]=void 0),e)){var c=I&&("load"===I.type?"missing":I.type),t=I&&I.target&&I.target.src;l.message="Loading chunk "+n+" failed.\n("+c+": "+t+")",l.name="ChunkLoadError",l.type=c,l.request=t,e[1](l)}}),"chunk-"+n,n)}};var n=(n,I)=>{var e,c,[t,l,C]=I,r=0;if(t.some((n=>0!==g[n]))){for(e in l)__webpack_require__.o(l,e)&&(__webpack_require__.m[e]=l[e]);C&&C(__webpack_require__)}for(n&&n(I);r<t.length;r++)c=t[r],__webpack_require__.o(g,c)&&g[c]&&g[c][0](),g[c]=0},I=self.webpackChunkomniserver=self.webpackChunkomniserver||[];I.forEach(n.bind(null,0)),I.push=n.bind(null,I.push.bind(I))})(),__webpack_require__.nc=void 0;var __webpack_exports__=__webpack_require__(76)})();