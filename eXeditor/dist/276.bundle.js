"use strict";(self.webpackChunkOmniblockly=self.webpackChunkOmniblockly||[]).push([[276],{276:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var c=n(574);let a,l=[],o=-1,i="",s=1/0,f=0;function r(){ctx.font=50+(o<0?0:20*g(o/30))+"px monospace",ctx.textAlign="middle",ctx.textBaseline="top",ctx.globalAlpha=.95;const t=(window.frames-c.Z.mapEntryTime)/60;let e;"/maps/winroom"!==c.Z.mapPath&&!0!==c.Z.won||void 0===f?o>=0?(o--,e=x(i)):e=x(t):e=f,s<t&&(f=e),s=t,ctx.textAlign="center",ctx.textBaseline="top";const n=ctx.measureText(e),r=n.actualBoundingBoxRight+n.actualBoundingBoxLeft+60,u=n.actualBoundingBoxDescent+n.actualBoundingBoxAscent+50,d=(n.actualBoundingBoxDescent-n.actualBoundingBoxAscent)/2,h=c.Z.colors.background,p=parseInt(h.slice(1),16),b=p>>16&255,B=p>>8&255,m=255&p;ctx.translate(canvas.w/2,15+u/2-d),ctx.scale(r/u,1);const $=ctx.createRadialGradient(0,0,0,0,0,u/2);if($.addColorStop(0,`rgba(${b},${B},${m},0.5)`),$.addColorStop(1,`rgba(${b},${B},${m},0)`),ctx.fillStyle=$,ctx.beginPath(),ctx.arc(0,0,u/2,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.scale(u/r,1),ctx.translate(-canvas.w/2,-(15+u/2-d)),ctx.fillStyle=o>0?o<3?c.Z.blendColor("#ffff00","#ffffff",g(1-o/3)):"#ffff00":"white",ctx.fillText(e,canvas.w/2,15),a!==c.Z.mapPath){a=c.Z.mapPath,l.length=0;for(let t=0;t<c.Z.obstacles.length;t++)void 0!==c.Z.obstacles[t].checkpointOffsetX&&l.push(c.Z.obstacles[t])}for(let e=0;e<l.length;e++)if(!0===l[e].checkpointCollected){l.splice(e,1),i=t,o=30;break}}const x=t=>{let e=(~~(100*t)%100).toString(),n=(~~(t%60)).toString();1===e.length&&(e="0"+e),1===n.length&&(n="0"+n);const c=(~~(t/60%60)).toString();let a=`${c}:${n}.${e}`;return t>3600&&(1===c.length&&(c="0"+c),a=`${(~~(t/3600)).toString()}:${c}:${n}.${e}`),a};function g(t){return t*t*t*(t*(6*t-15)+10)}}}]);