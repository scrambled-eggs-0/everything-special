"use strict";(self.webpackChunkOmniblockly=self.webpackChunkOmniblockly||[]).push([[627],{627:(t,e,o)=>{o.r(e),o.d(e,{default:()=>u});let i,n=0,a=0,d=new Image,l=window.defaultColors.tile,s=0,w=0,r=!1,c=!1,g=0;function h(t){const e=document.createElement("canvas"),o=e.getContext("2d");return e.width=window.gearImg.width,e.height=window.gearImg.height,o.drawImage(window.gearImg,0,0),o.globalCompositeOperation="source-atop",o.fillStyle=t,l=t,o.fillRect(0,0,e.width,e.height),e.toDataURL()}function u(t,e,o=!1){const l=window.obstacles[!0===o?w:s];if(void 0===l)return;let[h,u]=window.generateTopLeftCoordinates(l);h+=l.dimensions.x/2,u+=l.dimensions.y/2;const m=Math.max(50,.72*Math.min(l.dimensions.x,l.dimensions.y));var f,p,b,C;if((window.mouseX-h)**2+(window.mouseY-u)**2<m**2/4?(n+=.012,r=!0):r=!1,.1,a=(f=a)+.1*(2*(b=(n-f)%(p=2*Math.PI))%p-b),e.globalAlpha=.3,e.translate(h,u),0!==a&&e.rotate(a),e.drawImage(d,-m/2,-m/2,m,m),0!==a&&e.rotate(-a),e.translate(-h,-u),e.globalAlpha=1,!0===c&&1!==g?(g+=.03,g>1&&(g=1)):0!==g&&(g-=.03,g<0&&(g=0)),0!==g){const o=(C=g)*C*(1-C)+(1-(1-C)*(1-C))*C;e.translate((1-o)*t.width,0),e.fillStyle=i,e.fillRect(0,0,t.width,t.height),e.translate((o-1)*t.width,0)}}d.src=h(window.defaultColors.tile),window.updateSettingsCog=()=>{window.colors.tile!==l&&(d.src=h(window.colors.tile)),w=s;for(let t=0;t<window.obstacles.length;t++)if(!0===window.obstacles[t].isWinpad){s=t;break}};let m=!1;window.addSideMenuEvtListeners=()=>{window.mouseDownFunctions.push((()=>{!0===r?(m=!0,dragging=!1):m=!1})),window.mouseUpFunctions.push((()=>{!0===m&&!0===r&&(c=!c,void 0===i&&(i=window.ctx.createLinearGradient(0,0,1600,0),i.addColorStop(0,"rgba(0, 0, 0, 0)"),i.addColorStop(1,"rgba(0, 0, 0, 0.6)"))),m=!1}))}}}]);